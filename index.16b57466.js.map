{"mappings":"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,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,OACA,SACA,OACA,QACA,WACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,KACA,IACA,SACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,QACA,MACA,WACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,SACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,MAEA,MAAM;AACN,MACA,OACD,AACH,EAEa,EAAiB,AAAA,GAAO,EAAU,IAAI,CAAC,QAAQ,CAAC,GC1IhD,EAAkB,CAC7B,GAAI,CACF,mBAAoB,CAClB,MAAO,wBACP,YAAa,4CACf,EACA,mBAAoB,CAClB,MAAO,gCACP,YAAa,iGACf,EACA,kBAAmB,CACjB,MAAO,8BACP,YAAa,oEACf,EACA,+BAAgC,CAC9B,MAAO,uCACP,YAAa,yEACf,EACA,cAAe,CACb,MAAO,qBACP,YAAa,yEACf,EACA,sBAAuB,CACrB,MAAO,wBACP,YAAa,uDACf,EACA,eAAgB,CACd,MAAO,gDACP,YAAa,mHACf,EACA,gBAAiB,CACf,MAAO,8BACP,YAAa,2EACf,EACA,gBAAiB,CACf,MAAO,yBACP,YAAa,wEACf,EACA,kBAAmB,CACjB,MAAO,2BACP,YAAa,sEACf,EACA,gBAAiB,CACf,MAAO,yBACP,YAAa,sDACf,EACA,2BAA4B,CAC1B,MAAO,kCACP,YAAa,iCACf,CACF,CACF,EAEa,EAAS,CAAC,EAAK,EAAK,SAE3B,EAGJ,OAFI,GAAO,AAAe,UAAf,OAAO,GAAkB,CAAA,EAAS,EAFzB,EAEqD,CAAC,EAAI,AAAJ,EAEnE,AAAI,MACT,CAAC,CAAC,EAAE,EAAI,IAAI,EAAE,EAAI;;AAAK,CAAC,C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O,EAAQ,GAAG,GAIzE,AAAA,GAAqB,GAGrB,AAAA,GAAmB,GAEC,WAAhB,EAAQ,GAAG,EAAiB,AAAgB,aAAhB,EAAQ,GAAG,EAErC,GAAa,AAAA,EAAS,EAAQ,EAAE,GAAG,AAAA,GAAkB,EAAS,GAGhD,EAAS,CAC3B,IAAM,EAAQ,CAAO,CAAC,EAAM,CAE5B,GACE,AAAA,EAAY,IACZ,AAAA,GAAS,IACT,AAAA,GAAU,IACV,AAAA,EAAS,AAAA,EAAQ,CAAC,EAAM,EACxB,SAEF,IAAM,EAAY,AAAA,GAAW,EAAO,EAAS,GAC7C,GAAI,EAAW,CACb,GAAM,CAAA,UAAE,CAAS,CAAA,iBAAE,CAAgB,CAAE,CAAG,EACxC,GAAI,CAAO,CAAC,EAAM,EAAI,CAAC,GAAa,CAAC,EAAkB,CACrD,IAAM,EAAc,IAAM,AAAA,GAAO,AAAA,EAAK,EAAO,GAAU,EAAS,EAAO,EAElE,CAAA,EAAQ,KAAK,EAAI,EAAQ,KAAK,CAAC,QAAQ,EAAK,EAAQ,QAAQ,CAC/D,OAAO,qBAAqB,CAAC,IAAM,KAC9B,GACT,CACF,CACF,CAEA,yBAAyB;AACzB,OAAO,CACT,E0ChFO,MAAM,GAAO,CAalB,KAAM,CACJ,OACA,OACA,SACA,WACA,IACA,OACA,UACA,UACA,SACA,OACA,UACA,QACA,QACA,IACA,WACA,MACA,MACA,MACA,aACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,OACA,SACA,OACA,QACA,WACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,KACA,IACA,SACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,QACA,MACA,WACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,SACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WA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","sources":["<anon>","src/index.js","src/components/Grid.js","src/components/GridArea.js","src/components/GridCell.js","src/components/GridFooter.js","node_modules/domql/index.js","node_modules/@domql/element/index.js","node_modules/@domql/element/tree.js","node_modules/@domql/utils/index.js","node_modules/@domql/utils/key.js","node_modules/@domql/utils/env.js","node_modules/@domql/utils/types.js","node_modules/@domql/utils/node.js","node_modules/@domql/utils/globals.js","node_modules/@domql/utils/object.js","node_modules/@domql/utils/array.js","node_modules/@domql/utils/string.js","node_modules/@domql/utils/function.js","node_modules/@domql/utils/log.js","node_modules/@domql/utils/cookie.js","node_modules/@domql/utils/tags.js","node_modules/@domql/report/index.js","node_modules/@domql/element/create.js","node_modules/@domql/element/node.js","node_modules/@domql/event/index.js","node_modules/@domql/event/on.js","node_modules/@domql/event/can.js","node_modules/@domql/render/index.js","node_modules/@domql/render/create.js","node_modules/@domql/render/cache.js","node_modules/@domql/render/append.js","node_modules/@domql/element/methods/index.js","node_modules/@domql/element/mixins/index.js","node_modules/@domql/element/mixins/attr.js","node_modules/@domql/element/mixins/classList.js","node_modules/@domql/element/mixins/content.js","node_modules/@domql/element/set.js","node_modules/@domql/element/cache/options.js","node_modules/@domql/element/mixins/data.js","node_modules/@domql/element/mixins/html.js","node_modules/@domql/element/mixins/style.js","node_modules/@domql/element/mixins/text.js","node_modules/@domql/element/mixins/state.js","node_modules/@domql/state/index.js","node_modules/@domql/state/ignore.js","node_modules/@domql/state/create.js","node_modules/@domql/state/methods.js","node_modules/@domql/state/updateState.js","node_modules/@domql/state/inherit.js","node_modules/@domql/element/mixins/scope.js","node_modules/@domql/element/mixins/registry.js","node_modules/@domql/element/iterate.js","node_modules/@domql/element/utils/index.js","node_modules/@domql/element/utils/object.js","node_modules/@domql/element/props/index.js","node_modules/@domql/element/props/ignore.js","node_modules/@domql/element/props/create.js","node_modules/@domql/element/props/inherit.js","node_modules/@domql/element/props/update.js","node_modules/@domql/element/utils/extendUtils.js","node_modules/@domql/element/utils/component.js","node_modules/@domql/element/extend.js","node_modules/@domql/element/applyParam.js","node_modules/@domql/registry/index.js","node_modules/@domql/registry/methods.js","node_modules/@domql/registry/tags.js","node_modules/@domql/element/methods/set.js","node_modules/@domql/element/update.js","node_modules/@domql/element/define.js"],"sourcesContent":["const $49a81341a3c83fd9$var$GridArea = (children)=>({\n        tag: \"div\",\n        class: \"grid__area\",\n        childProto: children,\n        state: {\n            selectedCells: []\n        },\n        on: {\n            update: (el, state)=>{\n                // Each time the number of selected cells gets updated, update the total selection component text\n                const footerComponent = el.parent[2];\n                const totalSelectionComponent = footerComponent.childProto[1];\n                const totalSelected = state.selectedCells.length;\n                // update component state\n                totalSelectionComponent.state.update({\n                    selectionTotal: totalSelected\n                });\n            }\n        }\n    });\nvar $49a81341a3c83fd9$export$2e2bcd8739ae039 = $49a81341a3c83fd9$var$GridArea;\n\n\nconst $312c426bcdb6f166$var$baseClass = \"grid__cell \";\nconst $312c426bcdb6f166$var$selected = \"selected\";\nconst $312c426bcdb6f166$var$GridCell = ()=>({\n        tag: \"div\",\n        class: (elem, state)=>state.isSelected ? $312c426bcdb6f166$var$baseClass + $312c426bcdb6f166$var$selected : $312c426bcdb6f166$var$baseClass,\n        // text: (elem, state) => elem.key,\n        state: {\n            isSelected: false,\n            classList: $312c426bcdb6f166$var$baseClass,\n            prevSelection: null\n        },\n        on: {\n            click: (event, gridCell, state)=>{\n                // Update the selected state for the current cell and all previous sibling cells\n                const cellKey = parseInt(gridCell.key);\n                const cellParent = gridCell.parent;\n                const selectedCells = cellParent.state.selectedCells;\n                const selectedCellsLength = cellParent.state.selectedCells.length;\n                const currentKey = cellKey;\n                // TODO:\n                // Move the logic that handles updating the parent state into the on:{ update() }\n                // So when the cell's isSelected state is updated, then add or remove it from the selectedCells parent array list.\n                if (selectedCellsLength <= 1 && currentKey == 0) {\n                    // if we have only 1 or less cells selected\n                    $312c426bcdb6f166$var$updateState(state, \"isSelected\", !state.isSelected);\n                    if (state.isSelected) // add to array list\n                    $312c426bcdb6f166$var$updateState(cellParent.state, \"selectedCells\", [\n                        currentKey\n                    ]);\n                    else {\n                        // remove from array list\n                        selectedCells.splice(currentKey, 1);\n                        $312c426bcdb6f166$var$updateState(cellParent.state, \"selectedCells\", selectedCells);\n                    }\n                } else if (currentKey <= selectedCellsLength) {\n                    // Handle deselection of cells because user has clicked a grid cell key than is less than the amount stored\n                    for(let i = currentKey; i < selectedCellsLength + 1; i++)if (cellParent[i].state.isSelected) {\n                        // if we have already selected grid cells then update their state to false and remove from array list\n                        $312c426bcdb6f166$var$updateState(cellParent[i].state, \"isSelected\", false);\n                        // remove cell from selected cells array\n                        for(let ii = 0; ii < selectedCellsLength; ii++)if (selectedCells[ii] && selectedCells[ii] == cellParent[i].key) {\n                            selectedCells.splice(ii, 1);\n                            $312c426bcdb6f166$var$updateState(cellParent.state, \"selectedCells\", selectedCells);\n                        }\n                    }\n                } else for(let i = selectedCellsLength; i < currentKey + 1; i++){\n                    // work backwards updating the grid cell states until reaching the first cell item\n                    $312c426bcdb6f166$var$updateState(cellParent[i].state, \"isSelected\", !cellParent[i].state.isSelected);\n                    $312c426bcdb6f166$var$updateState(cellParent.state, \"selectedCells\", [\n                        i,\n                        ...selectedCells\n                    ]);\n                }\n                /**\n       * Update selection co-ordinates\n       */ const selectionCoordsComponent = cellParent.parent.parent[2].childProto[0];\n                const { row: row, column: column } = $312c426bcdb6f166$var$calculateRowAndColumn(cellKey) // offset the key by 1 due to the keys starting from 0.\n                ;\n                selectionCoordsComponent.state.update({\n                    coordinates: [\n                        row + 1,\n                        column + 1\n                    ]\n                });\n            }\n        }\n    });\nfunction $312c426bcdb6f166$var$updateState(state, keyString, value) {\n    state.update({\n        [keyString]: value\n    });\n}\nfunction $312c426bcdb6f166$var$calculateRowAndColumn(cellKey, columns = 16) {\n    const row = Math.floor(cellKey / columns);\n    const column = cellKey % columns;\n    return {\n        row: row,\n        column: column\n    };\n}\nvar $312c426bcdb6f166$export$2e2bcd8739ae039 = $312c426bcdb6f166$var$GridCell;\n\n\n\nconst $0a86f6d69d6aa832$var$GridArea = (children)=>({\n        tag: \"div\",\n        class: \"grid__footer\",\n        childProto: children\n    });\nvar $0a86f6d69d6aa832$export$2e2bcd8739ae039 = $0a86f6d69d6aa832$var$GridArea;\n\n\nconst $4d894c0568f6ab6a$var$childComponents = [];\nconst $4d894c0568f6ab6a$var$rows = 8;\nconst $4d894c0568f6ab6a$var$cols = 16;\nconst $4d894c0568f6ab6a$var$gridAreaContent = [];\nfor(let i = 0; i < $4d894c0568f6ab6a$var$rows; i++)for(let ii = 0; ii < $4d894c0568f6ab6a$var$cols; ii++)$4d894c0568f6ab6a$var$gridAreaContent.push((0, $312c426bcdb6f166$export$2e2bcd8739ae039)());\nconst $4d894c0568f6ab6a$var$title = {\n    tag: \"h1\",\n    class: \"title\",\n    text: \"Grid Selection\"\n};\nconst $4d894c0568f6ab6a$var$gridArea = (0, $49a81341a3c83fd9$export$2e2bcd8739ae039)($4d894c0568f6ab6a$var$gridAreaContent);\nconst $4d894c0568f6ab6a$var$coordinatesSpan = {\n    tag: \"span\",\n    class: \"value\",\n    text: (el, state)=>{\n        return `${el.parent.state.coordinates[0]}, ${el.parent.state.coordinates[1]}`;\n    }\n};\nconst $4d894c0568f6ab6a$var$selectionCoordsComponent = {\n    tag: \"p\",\n    class: \"selection_coordinates\",\n    text: (elem, state)=>{\n        return \"Selection coordinates:\";\n    },\n    childProto: $4d894c0568f6ab6a$var$coordinatesSpan,\n    state: {\n        coordinates: [\n            0,\n            0\n        ]\n    }\n};\nconst $4d894c0568f6ab6a$var$selectionTotal = {\n    tag: \"span\",\n    class: \"value\",\n    text: (el, state)=>{\n        return el.parent.state.selectionTotal;\n    }\n};\nconst $4d894c0568f6ab6a$var$totalSelectionComponent = {\n    tag: \"p\",\n    class: \"selection_total\",\n    text: (elem, state)=>{\n        return \"Total cells selected:\";\n    },\n    childProto: $4d894c0568f6ab6a$var$selectionTotal,\n    state: {\n        selectionTotal: 0\n    }\n};\nconst $4d894c0568f6ab6a$var$footerContent = [\n    $4d894c0568f6ab6a$var$selectionCoordsComponent,\n    $4d894c0568f6ab6a$var$totalSelectionComponent\n];\n$4d894c0568f6ab6a$var$childComponents.push($4d894c0568f6ab6a$var$title, $4d894c0568f6ab6a$var$gridArea, (0, $0a86f6d69d6aa832$export$2e2bcd8739ae039)($4d894c0568f6ab6a$var$footerContent));\nconst $4d894c0568f6ab6a$var$Grid = ()=>({\n        tag: \"div\",\n        class: \"grid\",\n        childProto: $4d894c0568f6ab6a$var$childComponents\n    });\nvar $4d894c0568f6ab6a$export$2e2bcd8739ae039 = $4d894c0568f6ab6a$var$Grid;\n\n\n\"use strict\";\nconst $0961ea6318004278$export$3a7728e868aa3ebd = function() {\n    let index = 0;\n    function newId() {\n        index++;\n        return index;\n    }\n    return newId;\n}();\nconst $0961ea6318004278$export$6f8fb29fbb5b5b63 = $0961ea6318004278$export$3a7728e868aa3ebd;\n\n\n\"use strict\";\nconst $e6d79d7b0d7b5fe1$export$dd8826725fa2a3d4 = \"production\";\nconst $e6d79d7b0d7b5fe1$export$f15d00aa73aafac4 = (env = $e6d79d7b0d7b5fe1$export$dd8826725fa2a3d4)=>env === \"production\" || env === \"prod\" || env !== \"development\" && env !== \"dev\" && env !== \"test\";\nconst $e6d79d7b0d7b5fe1$export$410cbc2864fa25b5 = (env = $e6d79d7b0d7b5fe1$export$dd8826725fa2a3d4)=>env === \"test\";\nconst $e6d79d7b0d7b5fe1$export$df77466336fe5355 = (env = $e6d79d7b0d7b5fe1$export$dd8826725fa2a3d4)=>env === \"development\" || env === \"dev\";\nconst $e6d79d7b0d7b5fe1$export$d84272657cb7c466 = (key, env = $e6d79d7b0d7b5fe1$export$dd8826725fa2a3d4)=>env[key];\n\n\n\"use strict\";\nconst $e33f3b456b841cc9$export$90b4d2ff6acb88af = globalThis;\nconst $e33f3b456b841cc9$export$82c2e460fb230c2a = globalThis;\nconst $e33f3b456b841cc9$export$8291e5b88f90ce4 = globalThis;\nconst $e33f3b456b841cc9$export$5a7bfc01df82fcd1 = $e33f3b456b841cc9$export$8291e5b88f90ce4.document // eslint-disable-line\n;\n\n\n\"use strict\";\nconst $95800a96be489797$export$8ee0fc9ee280b4ee = (obj)=>{\n    return (typeof Node === \"object\" ? obj instanceof (0, $e33f3b456b841cc9$export$8291e5b88f90ce4).Node : obj && typeof obj === \"object\" && typeof obj.nodeType === \"number\" && typeof obj.nodeName === \"string\") || false;\n};\nconst $95800a96be489797$export$211442cb55fb93 = (obj)=>{\n    return (typeof HTMLElement === \"object\" ? obj instanceof (0, $e33f3b456b841cc9$export$8291e5b88f90ce4).HTMLElement // DOM2\n     : obj && typeof obj === \"object\" && obj !== null && obj.nodeType === 1 && typeof obj.nodeName === \"string\") || false;\n};\n\n\n\"use strict\";\nconst $079873fc3f2b5f81$export$a6cdc56e425d0d0a = (arg)=>{\n    if (arg === null) return false;\n    return typeof arg === \"object\" && arg.constructor === Object;\n};\nconst $079873fc3f2b5f81$export$844ec244b1367d54 = (arg)=>typeof arg === \"string\";\nconst $079873fc3f2b5f81$export$7e4aa119212bc614 = (arg)=>typeof arg === \"number\";\nconst $079873fc3f2b5f81$export$f6e2535fb5126e54 = (arg)=>typeof arg === \"function\";\nconst $079873fc3f2b5f81$export$f9ce7b637dfbe238 = (arg)=>arg === true || arg === false;\nconst $079873fc3f2b5f81$export$630801d484da15df = (arg)=>arg === null;\nconst $079873fc3f2b5f81$export$43bee75e5e14138e = (arg)=>Array.isArray(arg);\nconst $079873fc3f2b5f81$export$871608497c498473 = (d)=>d instanceof Date;\nconst $079873fc3f2b5f81$export$c10d0b04eaa80a43 = (arg)=>{\n    if (arg === null) return false;\n    // if (isArray(arg)) return false\n    return typeof arg === \"object\";\n};\nconst $079873fc3f2b5f81$export$4e62c701997796c1 = (arg)=>{\n    return $079873fc3f2b5f81$export$a6cdc56e425d0d0a(arg) || $079873fc3f2b5f81$export$c10d0b04eaa80a43(arg) || $079873fc3f2b5f81$export$844ec244b1367d54(arg) || $079873fc3f2b5f81$export$7e4aa119212bc614(arg) || $079873fc3f2b5f81$export$f6e2535fb5126e54(arg) || $079873fc3f2b5f81$export$43bee75e5e14138e(arg) || $079873fc3f2b5f81$export$c10d0b04eaa80a43(arg) || $079873fc3f2b5f81$export$f9ce7b637dfbe238(arg) || $079873fc3f2b5f81$export$871608497c498473(arg) || $079873fc3f2b5f81$export$630801d484da15df(arg);\n};\nconst $079873fc3f2b5f81$export$fce6876652108ab = (arg)=>{\n    return arg === undefined;\n};\nconst $079873fc3f2b5f81$export$426db7a6155b7a80 = {\n    boolean: $079873fc3f2b5f81$export$f9ce7b637dfbe238,\n    array: $079873fc3f2b5f81$export$43bee75e5e14138e,\n    object: $079873fc3f2b5f81$export$a6cdc56e425d0d0a,\n    string: $079873fc3f2b5f81$export$844ec244b1367d54,\n    date: $079873fc3f2b5f81$export$871608497c498473,\n    number: $079873fc3f2b5f81$export$7e4aa119212bc614,\n    null: $079873fc3f2b5f81$export$630801d484da15df,\n    function: $079873fc3f2b5f81$export$f6e2535fb5126e54,\n    objectLike: $079873fc3f2b5f81$export$c10d0b04eaa80a43,\n    node: (0, $95800a96be489797$export$8ee0fc9ee280b4ee),\n    htmlElement: (0, $95800a96be489797$export$211442cb55fb93),\n    defined: $079873fc3f2b5f81$export$4e62c701997796c1\n};\nconst $079873fc3f2b5f81$export$226b3eccf92c9ed9 = (arg)=>{\n    return (...args)=>{\n        return args.map((val)=>$079873fc3f2b5f81$export$426db7a6155b7a80[val](arg)).filter((v)=>v).length > 0;\n    };\n};\nconst $079873fc3f2b5f81$export$612ae635ef713eeb = (arg)=>{\n    return (...args)=>{\n        return args.map((val)=>$079873fc3f2b5f81$export$426db7a6155b7a80[val](arg)).filter((v)=>v).length === 0;\n    };\n};\n\n\n\n\n\n\n\"use strict\";\nconst $d0530a7c3063b815$export$de875babef361e5d = (arr1, arr2)=>{\n    return arr2.every((val)=>arr1.includes(val));\n};\nconst $d0530a7c3063b815$export$8af121ae7401c4 = (arr, index)=>{\n    if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(index)) index = parseInt(index);\n    if ((0, $079873fc3f2b5f81$export$7e4aa119212bc614)(index)) {\n        if (index < 0 || index >= arr.length || isNaN(index)) throw new Error(\"Invalid index\");\n        arr.splice(index, 1);\n    } else if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(index)) index.forEach((idx)=>$d0530a7c3063b815$export$8af121ae7401c4(arr, idx));\n    else throw new Error(\"Invalid index\");\n    return arr;\n};\nconst $d0530a7c3063b815$export$7e6517ca043a4c76 = (arr, i, j)=>{\n    [arr[i], arr[j]] = [\n        arr[j],\n        arr[i]\n    ];\n};\nconst $d0530a7c3063b815$export$fc359ae9633f7296 = (...arrays)=>{\n    return [].concat(...arrays);\n};\nconst $d0530a7c3063b815$export$fd2fbaf2367ef824 = (arr, excludeFrom = [])=>{\n    return arr.reduce((a, c)=>(0, $6348a97baa20d8d9$export$6969335ea1e4e77c)(a, (0, $6348a97baa20d8d9$export$b7d58db314e0ac27)(c, excludeFrom), excludeFrom), {});\n};\nconst $d0530a7c3063b815$export$803a4c6bdde5cd1d = (obj)=>{\n    return (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(obj) ? $d0530a7c3063b815$export$fd2fbaf2367ef824(obj) : (0, $6348a97baa20d8d9$export$b7d58db314e0ac27)(obj);\n};\nconst $d0530a7c3063b815$export$e1c90dd42d36d8f4 = (arr, value)=>{\n    const index = arr.indexOf(value);\n    if (index !== -1) return arr.slice(0, index);\n    return arr;\n};\nconst $d0530a7c3063b815$export$e9b4b966d876219d = (arr, value)=>{\n    const index = arr.indexOf(value);\n    if (index !== -1) return arr.slice(index + 1);\n    return arr;\n};\nconst $d0530a7c3063b815$export$a9706fb8026b394a = (arr, lastValue)=>{\n    const nestedObject = {};\n    if (arr.length === 0) return lastValue;\n    arr.reduce((obj, value, index)=>{\n        if (!obj[value]) obj[value] = {};\n        if (index === arr.length - 1 && lastValue) obj[value] = lastValue;\n        return obj[value];\n    }, nestedObject);\n    return nestedObject;\n};\nconst $d0530a7c3063b815$export$7268a0a9258a5297 = (arr, value)=>{\n    const index = arr.indexOf(value);\n    if (index > -1) {\n        const newArray = [\n            ...arr\n        ];\n        newArray.splice(index, 1);\n        return newArray;\n    }\n    return arr.slice();\n};\nconst $d0530a7c3063b815$export$91b305d65813a3f8 = (arr, value)=>{\n    return arr.filter((item)=>item !== value);\n};\n\n\n\"use strict\";\nconst $4537bba2bd33729a$export$5e62532c096c05e0 = (str, characters)=>{\n    for (const char of characters){\n        if (str.includes(char)) return true;\n    }\n    return false;\n};\nconst $4537bba2bd33729a$export$4cb168a4c77839cc = (str, characters)=>{\n    // Create a regular expression pattern to match the specified symbols\n    const pattern = new RegExp(`[${characters.join(\"\\\\\")}]`, \"g\");\n    // Replace matched symbols with an empty string\n    return str.replace(pattern, \"\");\n};\n/**\n * Replaces placeholders in a string with corresponding {{ }} values from an object.\n *\n * @param {string} str - The string containing placeholders to replace.\n * @param {object} state - The object containing the values to substitute.\n * @returns {string} The modified string with placeholders replaced by values from the object.\n */ const $4537bba2bd33729a$var$brackRegex = /\\{\\{\\s*((?:\\.\\.\\/)+)?([^}\\s]+)\\s*\\}\\}/g;\nconst $4537bba2bd33729a$export$7cb52b7decbd2220 = (str, state)=>{\n    if (!str.includes(\"{{\")) return str;\n    return str.replace($4537bba2bd33729a$var$brackRegex, (_, parentPath, variable)=>{\n        if (parentPath) {\n            const parentLevels = parentPath.match(/\\.\\.\\//g).length;\n            let parentState = state;\n            for(let i = 0; i < parentLevels; i++){\n                parentState = parentState.parent;\n                if (!parentState) return \"\" // Return an empty string if the parent level doesn't exist\n                ;\n            }\n            const value = parentState[variable.trim()];\n            return value !== undefined ? `${value}` : \"\";\n        } else {\n            const value = state[variable.trim()];\n            return value !== undefined ? `${value}` : \"\";\n        }\n    });\n};\n\n\n\"use strict\";\nconst $6348a97baa20d8d9$export$78e3044358792147 = (param, element, state, context)=>{\n    if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(param)) return param(element, state || element.state, context || element.context);\n    return param;\n};\nconst $6348a97baa20d8d9$export$871de8747c9eaa88 = (obj, extention, element)=>{\n    for(const e in extention)obj[e] = $6348a97baa20d8d9$export$78e3044358792147(extention[e], element);\n};\nconst $6348a97baa20d8d9$export$4950aa0f605343fb = (element, obj, excludeFrom = [])=>{\n    for(const e in obj){\n        const hasOwnProperty = Object.prototype.hasOwnProperty.call(obj, e);\n        if (!hasOwnProperty || excludeFrom.includes(e) || e.startsWith(\"__\")) continue;\n        const elementProp = element[e];\n        const objProp = obj[e];\n        if (elementProp === undefined) element[e] = objProp;\n    }\n    return element;\n};\nconst $6348a97baa20d8d9$export$6969335ea1e4e77c = (element, extend, excludeFrom = [])=>{\n    for(const e in extend){\n        const hasOwnProperty = Object.prototype.hasOwnProperty.call(extend, e);\n        if (!hasOwnProperty || excludeFrom.includes(e) || e.startsWith(\"__\")) continue;\n        const elementProp = element[e];\n        const extendProp = extend[e];\n        if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(elementProp) && (0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(extendProp)) $6348a97baa20d8d9$export$6969335ea1e4e77c(elementProp, extendProp, excludeFrom);\n        else if (elementProp === undefined) element[e] = extendProp;\n    }\n    return element;\n};\nconst $6348a97baa20d8d9$export$9cd59f9826255e47 = (obj, excludeFrom = [])=>{\n    const o = {};\n    for(const prop in obj){\n        const hasOwnProperty = Object.prototype.hasOwnProperty.call(obj, prop);\n        if (!hasOwnProperty || excludeFrom.includes(prop) || prop.startsWith(\"__\")) continue;\n        o[prop] = obj[prop];\n    }\n    return o;\n};\nconst $6348a97baa20d8d9$export$99e9e507e655127d = (obj, excludeFrom = [])=>{\n    if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(obj)) return obj.map((x)=>$6348a97baa20d8d9$export$99e9e507e655127d(x, excludeFrom));\n    const o = {};\n    for(const k in obj){\n        const hasOwnProperty = Object.prototype.hasOwnProperty.call(obj, k);\n        if (!hasOwnProperty || excludeFrom.includes(k) || k.startsWith(\"__\")) continue;\n        let v = obj[k];\n        if (k === \"extend\" && (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(v)) v = $6348a97baa20d8d9$export$1c8d6f44648a0c27(v, excludeFrom);\n        if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(v)) o[k] = v.map((x)=>$6348a97baa20d8d9$export$99e9e507e655127d(x, excludeFrom));\n        else if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(v)) o[k] = $6348a97baa20d8d9$export$99e9e507e655127d(v, excludeFrom);\n        else o[k] = v;\n    }\n    return o;\n};\nconst $6348a97baa20d8d9$export$1c8d6f44648a0c27 = (arr, excl = [])=>{\n    return arr.reduce((acc, curr)=>$6348a97baa20d8d9$export$6969335ea1e4e77c(acc, $6348a97baa20d8d9$export$99e9e507e655127d(curr, excl)), {});\n};\nconst $6348a97baa20d8d9$export$b7d58db314e0ac27 = (obj, excludeFrom = [], cleanUndefined = false)=>{\n    const o = (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(obj) ? [] : {};\n    for(const prop in obj){\n        if (prop === \"__proto__\") continue;\n        if (excludeFrom.includes(prop) || prop.startsWith(\"__\")) continue;\n        let objProp = obj[prop];\n        if (cleanUndefined && (0, $079873fc3f2b5f81$export$fce6876652108ab)(objProp)) continue;\n        if (prop === \"extend\" && (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(objProp)) objProp = (0, $d0530a7c3063b815$export$fd2fbaf2367ef824)(objProp);\n        if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(objProp)) o[prop] = $6348a97baa20d8d9$export$b7d58db314e0ac27(objProp, excludeFrom, cleanUndefined);\n        else o[prop] = objProp;\n    }\n    return o;\n};\nconst $6348a97baa20d8d9$export$e249d5701977b61b = (obj, excludeFrom = [], cleanUndefined = false)=>{\n    const o = (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(obj) ? [] : {};\n    for(const prop in obj){\n        if (prop === \"__proto__\") continue;\n        if (excludeFrom.includes(prop) || prop.startsWith(\"__\")) continue;\n        const objProp = obj[prop];\n        if (cleanUndefined && (0, $079873fc3f2b5f81$export$fce6876652108ab)(objProp)) continue;\n        if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(objProp)) o[prop] = $6348a97baa20d8d9$export$e249d5701977b61b(objProp, excludeFrom, cleanUndefined);\n        else o[prop] = objProp;\n    }\n    return o;\n};\nconst $6348a97baa20d8d9$export$7885cbf849c4488d = (obj, stringified = {})=>{\n    for(const prop in obj){\n        const objProp = obj[prop];\n        if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(objProp)) stringified[prop] = objProp.toString();\n        else if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(objProp)) {\n            stringified[prop] = {};\n            $6348a97baa20d8d9$export$7885cbf849c4488d(objProp, stringified[prop]);\n        } else if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(objProp)) {\n            stringified[prop] = [];\n            objProp.forEach((v, i)=>{\n                if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(v)) {\n                    stringified[prop][i] = {};\n                    $6348a97baa20d8d9$export$7885cbf849c4488d(v, stringified[prop][i]);\n                } else if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(v)) stringified[prop][i] = v.toString();\n                else stringified[prop][i] = v;\n            });\n        } else stringified[prop] = objProp;\n    }\n    return stringified;\n};\nconst $6348a97baa20d8d9$export$830c053460e5ddf6 = (obj, indent = 0)=>{\n    const spaces = \"  \".repeat(indent);\n    let str = \"{\\n\";\n    for (const [key, value] of Object.entries(obj)){\n        const keyNotAllowdChars = (0, $4537bba2bd33729a$export$5e62532c096c05e0)(key, [\n            \"&\",\n            \"*\",\n            \"-\",\n            \":\",\n            \"@\",\n            \".\",\n            \"/\",\n            \"!\",\n            \" \"\n        ]);\n        const stringedKey = keyNotAllowdChars ? `'${key}'` : key;\n        str += `${spaces}  ${stringedKey}: `;\n        if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(value)) {\n            str += \"[\\n\";\n            for (const element of value){\n                if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(element) && element !== null) str += `${spaces}    ${$6348a97baa20d8d9$export$830c053460e5ddf6(element, indent + 2)},\\n`;\n                else if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(element)) str += `${spaces}    '${element}',\\n`;\n                else str += `${spaces}    ${element},\\n`;\n            }\n            str += `${spaces}  ]`;\n        } else if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(value)) str += $6348a97baa20d8d9$export$830c053460e5ddf6(value, indent + 1);\n        else if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(value)) str += (0, $4537bba2bd33729a$export$5e62532c096c05e0)(value, [\n            \"\\n\",\n            \"'\"\n        ]) ? `\\`${value}\\`` : `'${value}'`;\n        else str += value;\n        str += \",\\n\";\n    }\n    str += `${spaces}}`;\n    return str;\n};\nconst $6348a97baa20d8d9$export$43ffbb9d42fee1c4 = (obj, detached = {})=>{\n    for(const prop in obj){\n        const objProp = obj[prop];\n        if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(objProp)) continue;\n        else if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(objProp)) {\n            detached[prop] = {};\n            $6348a97baa20d8d9$export$7885cbf849c4488d(objProp, detached[prop]);\n        } else if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(objProp)) {\n            detached[prop] = [];\n            objProp.forEach((v, i)=>{\n                if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(v)) return;\n                if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(v)) {\n                    detached[prop][i] = {};\n                    $6348a97baa20d8d9$export$43ffbb9d42fee1c4(v, detached[prop][i]);\n                } else detached[prop][i] = v;\n            });\n        } else detached[prop] = objProp;\n    }\n    return detached;\n};\nconst $6348a97baa20d8d9$export$87659e1dc59ed8a3 = (obj, destringified = {})=>{\n    for(const prop in obj){\n        const hasOwnProperty = Object.prototype.hasOwnProperty.call(obj, prop);\n        if (!hasOwnProperty) continue;\n        const objProp = obj[prop];\n        if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(objProp)) {\n            if (objProp.includes(\"=>\") || objProp.includes(\"function\") || objProp.startsWith(\"(\")) try {\n                const evalProp = (0, $e33f3b456b841cc9$export$8291e5b88f90ce4).eval(`(${objProp})`) // use parentheses to convert string to function expression\n                ;\n                destringified[prop] = evalProp;\n            } catch (e) {\n                if (e) destringified[prop] = objProp;\n            }\n            else destringified[prop] = objProp;\n        } else if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(objProp)) {\n            destringified[prop] = [];\n            objProp.forEach((arrProp)=>{\n                if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(arrProp)) {\n                    if (arrProp.includes(\"=>\") || arrProp.includes(\"function\") || arrProp.startsWith(\"(\")) try {\n                        const evalProp = (0, $e33f3b456b841cc9$export$8291e5b88f90ce4).eval(`(${arrProp})`) // use parentheses to convert string to function expression\n                        ;\n                        destringified[prop].push(evalProp);\n                    } catch (e) {\n                        if (e) destringified[prop].push(arrProp);\n                    }\n                    else destringified[prop].push(arrProp);\n                } else if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(arrProp)) destringified[prop].push($6348a97baa20d8d9$export$87659e1dc59ed8a3(arrProp));\n                else destringified[prop].push(arrProp);\n            });\n        } else if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(objProp)) destringified[prop] = $6348a97baa20d8d9$export$87659e1dc59ed8a3(objProp, destringified[prop]) // recursively call deepDestringify for nested objects\n        ;\n        else destringified[prop] = objProp;\n    }\n    return destringified;\n};\nconst $6348a97baa20d8d9$export$a6c9a3ccba61521e = (str, verbose)=>{\n    try {\n        return (0, $e33f3b456b841cc9$export$8291e5b88f90ce4).eval(\"(\" + str + \")\") // eslint-disable-line\n        ;\n    } catch (e) {\n        if (verbose) console.warn(e);\n    }\n};\nconst $6348a97baa20d8d9$export$fcd7b39b3d1c2c1 = (original, objToDiff, cache)=>{\n    for(const e in objToDiff){\n        if (e === \"ref\") continue;\n        const originalProp = original[e];\n        const objToDiffProp = objToDiff[e];\n        if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(originalProp) && (0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(objToDiffProp)) {\n            cache[e] = {};\n            $6348a97baa20d8d9$export$a37e3c603d7117e5(originalProp, objToDiffProp, cache[e]);\n        } else if (objToDiffProp !== undefined) cache[e] = objToDiffProp;\n    }\n    return cache;\n};\nconst $6348a97baa20d8d9$export$f1c08b3bfc8443c4 = (original, objToDiff, cache)=>{\n    if (original.length !== objToDiff.length) cache = objToDiff;\n    else {\n        const diffArr = [];\n        for(let i = 0; i < original.length; i++){\n            const diffObj = $6348a97baa20d8d9$export$a37e3c603d7117e5(original[i], objToDiff[i]);\n            if (Object.keys(diffObj).length > 0) diffArr.push(diffObj);\n        }\n        if (diffArr.length > 0) cache = diffArr;\n    }\n    return cache;\n};\nconst $6348a97baa20d8d9$export$a37e3c603d7117e5 = (original, objToDiff, cache = {})=>{\n    if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(original) && (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(objToDiff)) {\n        cache = [];\n        $6348a97baa20d8d9$export$f1c08b3bfc8443c4(original, objToDiff, cache);\n    } else $6348a97baa20d8d9$export$fcd7b39b3d1c2c1(original, objToDiff, cache);\n    return cache;\n};\nconst $6348a97baa20d8d9$export$5a15a386532a5ea4 = (o, ...args)=>Object.prototype.hasOwnProperty.call(o, ...args);\nconst $6348a97baa20d8d9$export$dd1bc94b04021eeb = (o)=>Object.keys(o).length === 0;\nconst $6348a97baa20d8d9$export$83b788b1a3698c03 = (o)=>(0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(o) && $6348a97baa20d8d9$export$dd1bc94b04021eeb(o);\nconst $6348a97baa20d8d9$export$d6d64087a1bd2d = ()=>Object.create(null);\nconst $6348a97baa20d8d9$export$f00d38dfe38936c3 = (lhs, rhs)=>{\n    if (lhs === rhs) return {};\n    if (!(0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(lhs) || !(0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(rhs)) return rhs;\n    const deletedValues = Object.keys(lhs).reduce((acc, key)=>{\n        if (!$6348a97baa20d8d9$export$5a15a386532a5ea4(rhs, key)) acc[key] = undefined;\n        return acc;\n    }, $6348a97baa20d8d9$export$d6d64087a1bd2d());\n    if ((0, $079873fc3f2b5f81$export$871608497c498473)(lhs) || (0, $079873fc3f2b5f81$export$871608497c498473)(rhs)) {\n        if (lhs.valueOf() === rhs.valueOf()) return {};\n        return rhs;\n    }\n    return Object.keys(rhs).reduce((acc, key)=>{\n        if (!$6348a97baa20d8d9$export$5a15a386532a5ea4(lhs, key)) {\n            acc[key] = rhs[key];\n            return acc;\n        }\n        const difference = $6348a97baa20d8d9$export$a37e3c603d7117e5(lhs[key], rhs[key]);\n        if ($6348a97baa20d8d9$export$83b788b1a3698c03(difference) && !(0, $079873fc3f2b5f81$export$871608497c498473)(difference) && ($6348a97baa20d8d9$export$83b788b1a3698c03(lhs[key]) || !$6348a97baa20d8d9$export$83b788b1a3698c03(rhs[key]))) return acc;\n        acc[key] = difference;\n        return acc;\n    }, deletedValues);\n};\nconst $6348a97baa20d8d9$export$d3305692eb3e9a81 = (element, params, excludeFrom = [])=>{\n    const { ref: ref } = element;\n    const changes = {};\n    for(const e in params){\n        if (excludeFrom.includes(e) || e.startsWith(\"__\")) continue;\n        const elementProp = element[e];\n        const paramsProp = params[e];\n        if (paramsProp) {\n            ref.__cache[e] = changes[e] = elementProp;\n            ref[e] = paramsProp;\n        }\n    }\n    return changes;\n};\nconst $6348a97baa20d8d9$export$1c07155dfdd98f41 = (obj, params, excludeFrom = [])=>{\n    for(const e in params){\n        if (excludeFrom.includes(e) || e.startsWith(\"__\")) continue;\n        obj[e] = params[e];\n    }\n    return obj;\n};\nconst $6348a97baa20d8d9$export$f0b277b530b4fffd = (obj, params, excludeFrom = [])=>{\n    for(const e in params){\n        if (e === \"__proto__\") continue;\n        if (excludeFrom.includes(e) || e.startsWith(\"__\")) continue;\n        const objProp = obj[e];\n        const paramsProp = params[e];\n        if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(objProp) && (0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(paramsProp)) $6348a97baa20d8d9$export$f0b277b530b4fffd(objProp, paramsProp);\n        else if (paramsProp !== undefined) obj[e] = paramsProp;\n    }\n    return obj;\n};\nconst $6348a97baa20d8d9$export$7bde6dffa6d2dd59 = (a, b)=>{\n    if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(a) && (0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(b)) return $6348a97baa20d8d9$export$6969335ea1e4e77c(a, b);\n    return a || b;\n};\nconst $6348a97baa20d8d9$export$d53c2c5b09d0676f = (param, prop, stack = [])=>{\n    const objectized = (0, $d0530a7c3063b815$export$803a4c6bdde5cd1d)(param);\n    stack.push(objectized);\n    const extendOfExtend = objectized[prop];\n    if (extendOfExtend) $6348a97baa20d8d9$export$d53c2c5b09d0676f(extendOfExtend, prop, stack);\n    delete objectized[prop];\n    return stack;\n};\nconst $6348a97baa20d8d9$export$683c7d6569f339f4 = (param, element, visited = new Set())=>{\n    // Check if both values are non-null objects\n    if (typeof param !== \"object\" || typeof element !== \"object\" || param === null || element === null) return param === element // Compare non-object values directly\n    ;\n    // Check for circular references\n    if (visited.has(param) || visited.has(element)) return true // Assume equality to break the circular reference\n    ;\n    visited.add(param);\n    visited.add(element);\n    const keysParam = Object.keys(param);\n    const keysElement = Object.keys(element);\n    // Check if both objects have the same number of properties\n    if (keysParam.length !== keysElement.length) return false;\n    // Check if all properties in param also exist in element\n    for (const key of keysParam){\n        if (!keysElement.includes(key)) return false;\n        const paramProp = param[key];\n        const elementProp = element[key];\n        // Recursively check property values\n        if (!$6348a97baa20d8d9$export$683c7d6569f339f4(paramProp, elementProp, visited)) return false;\n    }\n    return true;\n};\nconst $6348a97baa20d8d9$export$273cb3019e2f952c = (obj1, obj2)=>{\n    if (typeof obj1 !== typeof obj2) return false;\n    if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(obj1)) {\n        if (Array.isArray(obj1) && Array.isArray(obj2)) {\n            if (obj1.length !== obj2.length) return false;\n            for(let i = 0; i < obj1.length; i++){\n                if (!$6348a97baa20d8d9$export$273cb3019e2f952c(obj1[i], obj2[i])) return false;\n            }\n        } else if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(obj1) && obj2 !== null) for(const key in obj1){\n            const hasOwnProperty = Object.prototype.hasOwnProperty.call(obj2, key);\n            if (!hasOwnProperty || !$6348a97baa20d8d9$export$273cb3019e2f952c(obj1[key], obj2[key])) return false;\n        }\n    } else return obj2 === obj1;\n    return true;\n};\nconst $6348a97baa20d8d9$export$bdd7fc6cf95d63b = (obj, props)=>{\n    if (props === undefined || props === null) return obj;\n    if ((0, $079873fc3f2b5f81$export$226b3eccf92c9ed9)(props)(\"string\", \"number\")) delete obj[props];\n    else if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(props)) props.forEach((prop)=>delete obj[prop]);\n    else throw new Error(\"Invalid input: props must be a string or an array of strings\");\n    return obj;\n};\n\n\n\"use strict\";\nfunction $b7c9275e9e0262d0$export$61fc7d43ac8f84b0(func, wait, immediate) {\n    let timeout;\n    return function() {\n        const context = this;\n        const args = arguments;\n        const later = function() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        const callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n    };\n}\nconst $b7c9275e9e0262d0$export$d3757b91c00af798 = (element, func, timeout = 300)=>{\n    let timer;\n    return (...args)=>{\n        clearTimeout(timer);\n        timer = setTimeout(()=>{\n            func.apply(element, args);\n        }, timeout);\n    };\n};\nconst $b7c9275e9e0262d0$export$fc10aeed3a532e2a = (fn)=>{\n    const cache = {};\n    return (...args)=>{\n        const n = args[0];\n        if (n in cache) return cache[n];\n        else {\n            const result = fn(n);\n            cache[n] = result;\n            return result;\n        }\n    };\n};\nconst $b7c9275e9e0262d0$export$6f017d9966fe4675 = (inputString)=>{\n    // Regular expression to match both regular and arrow function declarations\n    const functionRegex = /^((function\\s*\\([^)]*\\)\\s*\\{[^}]*\\})|(\\([^)]*\\)\\s*=>))/;\n    // Use the regex to test if the inputString matches the function pattern\n    return functionRegex.test(inputString);\n};\n\n\n\n\n\"use strict\";\nconst $958f2e9ae228360b$export$f3730dd3d285b7c6 = (bool, ...arg)=>{\n    if (bool) arg.map((v)=>console.log(v));\n};\nconst $958f2e9ae228360b$export$7cea94b68a0c230b = (bool, key, ...arg)=>{\n    if (bool) {\n        console.group(key);\n        arg.map((v)=>console.log(v));\n        console.groupEnd(key);\n    }\n};\n\n\n\n\n\n\"use strict\";\nconst $3bae52d896fdaae9$export$d0a8044dce8ff2fc = (()=>typeof navigator === \"undefined\" ? false : /Mobi/.test(navigator.userAgent))();\nconst $3bae52d896fdaae9$export$110700823644f4a6 = (cname, cvalue, exdays = 365)=>{\n    if ((0, $079873fc3f2b5f81$export$fce6876652108ab)(document) || (0, $079873fc3f2b5f81$export$fce6876652108ab)(document.cookie)) return;\n    const d = new Date();\n    d.setTime(d.getTime() + exdays * 86400000);\n    const expires = `expires=${d.toUTCString()}`;\n    document.cookie = `${cname}=${cvalue};${expires};path=/`;\n};\nconst $3bae52d896fdaae9$export$4be65e66cfa2648a = (cname)=>{\n    if ((0, $079873fc3f2b5f81$export$fce6876652108ab)(document) || (0, $079873fc3f2b5f81$export$fce6876652108ab)(document.cookie)) return;\n    const name = `${cname}=`;\n    const decodedCookie = decodeURIComponent(document.cookie);\n    const ca = decodedCookie.split(\";\");\n    for(let i = 0; i < ca.length; i++){\n        let c = ca[i];\n        while(c.charAt(0) === \" \")c = c.substring(1);\n        if (c.indexOf(name) === 0) return c.substring(name.length, c.length);\n    }\n    return \"\";\n};\n\n\n\"use strict\";\nconst $be778da0f6744ca3$export$4c3fa92ca590c71f = {\n    root: [\n        \"body\",\n        \"html\"\n    ],\n    head: [\n        \"title\",\n        \"base\",\n        \"meta\",\n        \"style\"\n    ],\n    body: [\n        \"string\",\n        \"fragment\",\n        \"a\",\n        \"abbr\",\n        \"acronym\",\n        \"address\",\n        \"applet\",\n        \"area\",\n        \"article\",\n        \"aside\",\n        \"audio\",\n        \"b\",\n        \"basefont\",\n        \"bdi\",\n        \"bdo\",\n        \"big\",\n        \"blockquote\",\n        \"br\",\n        \"button\",\n        \"canvas\",\n        \"caption\",\n        \"center\",\n        \"cite\",\n        \"code\",\n        \"col\",\n        \"colgroup\",\n        \"data\",\n        \"datalist\",\n        \"dd\",\n        \"del\",\n        \"details\",\n        \"dfn\",\n        \"dialog\",\n        \"dir\",\n        \"div\",\n        \"dl\",\n        \"dt\",\n        \"em\",\n        \"embed\",\n        \"fieldset\",\n        \"figcaption\",\n        \"figure\",\n        \"font\",\n        \"footer\",\n        \"form\",\n        \"frame\",\n        \"frameset\",\n        \"h1\",\n        \"h2\",\n        \"h3\",\n        \"h4\",\n        \"h5\",\n        \"h6\",\n        \"head\",\n        \"header\",\n        \"hr\",\n        \"i\",\n        \"iframe\",\n        \"img\",\n        \"input\",\n        \"ins\",\n        \"kbd\",\n        \"label\",\n        \"legend\",\n        \"li\",\n        \"link\",\n        \"main\",\n        \"map\",\n        \"mark\",\n        \"meter\",\n        \"nav\",\n        \"noframes\",\n        \"noscript\",\n        \"object\",\n        \"ol\",\n        \"optgroup\",\n        \"option\",\n        \"output\",\n        \"p\",\n        \"param\",\n        \"picture\",\n        \"pre\",\n        \"progress\",\n        \"q\",\n        \"rp\",\n        \"rt\",\n        \"ruby\",\n        \"s\",\n        \"samp\",\n        \"script\",\n        \"section\",\n        \"select\",\n        \"small\",\n        \"source\",\n        \"span\",\n        \"strike\",\n        \"strong\",\n        \"sub\",\n        \"summary\",\n        \"sup\",\n        \"table\",\n        \"tbody\",\n        \"td\",\n        \"template\",\n        \"textarea\",\n        \"tfoot\",\n        \"th\",\n        \"thead\",\n        \"time\",\n        \"tr\",\n        \"track\",\n        \"tt\",\n        \"u\",\n        \"ul\",\n        \"var\",\n        \"video\",\n        \"wbr\",\n        // SVG\n        \"svg\",\n        \"path\"\n    ]\n};\nconst $be778da0f6744ca3$export$52675ca41d41c093 = (arg)=>$be778da0f6744ca3$export$4c3fa92ca590c71f.body.includes(arg);\n\n\n\"use strict\";\n\n\n\"use strict\";\nconst $06908963bda72849$export$fc4da02de2c0bd43 = {\n    en: {\n        DocumentNotDefined: {\n            title: \"Document is undefined\",\n            description: \"To tweak with DOM, you should use browser.\"\n        },\n        OverwriteToBuiltin: {\n            title: \"Overwriting to builtin method\",\n            description: \"Overwriting a builtin method in the window define is not possible, please choose different name\"\n        },\n        BrowserNotDefined: {\n            title: \"Can't recognize environment\",\n            description: \"Environment should be browser application, that can run Javascript\"\n        },\n        SetQuickPreferancesIsNotObject: {\n            title: \"Quick preferances object is required\",\n            description: 'Please pass a plain object with \"lang\", \"culture\" and \"area\" properties'\n        },\n        InvalidParams: {\n            title: \"Params are invalid\",\n            description: 'Please pass a plain object with \"lang\", \"culture\" and \"area\" properties'\n        },\n        CantCreateWithoutNode: {\n            title: \"You must provide node\",\n            description: \"Can't create DOM element without setting node or text\"\n        },\n        HTMLInvalidTag: {\n            title: \"Element tag name (or DOM nodeName) is invalid\",\n            description: \"To create element, you must provide valid DOM node. See full list of them at here: http://www.w3schools.com/tags/\"\n        },\n        HTMLInvalidAttr: {\n            title: \"Attibutes object is invalid\",\n            description: \"Please pass a valid plain object to apply as an attributes for a DOM node\"\n        },\n        HTMLInvalidData: {\n            title: \"Data object is invalid\",\n            description: \"Please pass a valid plain object to apply as an dataset for a DOM node\"\n        },\n        HTMLInvalidStyles: {\n            title: \"Styles object is invalid\",\n            description: \"Please pass a valid plain object to apply as an style for a DOM node\"\n        },\n        HTMLInvalidText: {\n            title: \"Text string is invalid\",\n            description: \"Please pass a valid string to apply text to DOM node\"\n        },\n        ElementOnStateIsNotDefined: {\n            title: \"Element on state is not defined\",\n            description: \"Please check the element object\"\n        }\n    }\n};\nconst $06908963bda72849$export$f18d5b0af29128b7 = (err, arg, element)=>{\n    const currentLang = \"en\";\n    let errObj;\n    if (err && typeof err === \"string\") errObj = $06908963bda72849$export$fc4da02de2c0bd43[currentLang][err];\n    return new Error(`\"${err}\", \"${arg}\"\\n\\n`, `${errObj.description}`, element ? `\\n\\n${element}` : \"\");\n};\n\n\n\"use strict\";\nconst $80563b8eaf6ba844$export$fbea82a1c0574ef4 = {\n    key: \":root\",\n    node: (0, $e33f3b456b841cc9$export$5a7bfc01df82fcd1) ? (0, $e33f3b456b841cc9$export$5a7bfc01df82fcd1).body : (0, $06908963bda72849$export$f18d5b0af29128b7)(\"DocumentNotDefined\", (0, $e33f3b456b841cc9$export$5a7bfc01df82fcd1))\n};\nconst $80563b8eaf6ba844$export$33ecaa422889cd80 = $80563b8eaf6ba844$export$fbea82a1c0574ef4;\n\n\n\n\n\"use strict\";\nconst $33936e69aa63c9cd$export$27ca81ea148fa005 = (param, element, state, context, options)=>{\n    return param(element, state || element.state, context || element.context, options);\n};\nconst $33936e69aa63c9cd$export$1bc010482b845252 = (param, element, options)=>{\n    if (element.on && (0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(element.on[param])) {\n        const { state: state, context: context } = element;\n        return $33936e69aa63c9cd$export$27ca81ea148fa005(element.on[param], element, state, context, options);\n    }\n};\nconst $33936e69aa63c9cd$export$906113ec468a9c43 = (param, updatedObj, element, state, context, options)=>{\n    return param(updatedObj, element, state || element.state, context || element.context, options);\n};\nconst $33936e69aa63c9cd$export$8fe90418b8a0fc1e = (param, updatedObj, element, options)=>{\n    if (element.on && (0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(element.on[param])) {\n        const { state: state, context: context } = element;\n        return $33936e69aa63c9cd$export$906113ec468a9c43(element.on[param], updatedObj, element, state, context, options);\n    }\n};\nconst $33936e69aa63c9cd$export$1f7cb486ba1f8a10 = (element, options)=>{\n    const { node: node, on: on } = element;\n    for(const param in on){\n        if (param === \"init\" || param === \"beforeClassAssign\" || param === \"render\" || param === \"renderRouter\" || param === \"attachNode\" || param === \"stateInit\" || param === \"stateCreated\" || param === \"initStateUpdated\" || param === \"stateUpdated\" || param === \"initUpdate\" || param === \"update\") continue;\n        const appliedFunction = element.on[param];\n        if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(appliedFunction)) node.addEventListener(param, (event)=>{\n            const { state: state, context: context } = element;\n            appliedFunction(event, element, state, context, options);\n        });\n    }\n};\n\n\n\n\n\"use strict\";\nconst $a7c2803c7e7b293f$export$5d42fc0d80b5349f = (element)=>{\n    const tag = element.tag || \"div\";\n    return (0, $be778da0f6744ca3$export$52675ca41d41c093)(tag) || (0, $06908963bda72849$export$f18d5b0af29128b7)(\"HTMLInvalidTag\");\n};\n\n\n\"use strict\";\n\n\n\"use strict\";\nconst $8af08dc9e7559b54$export$270e7ba5936d3c48 = (element)=>{};\n\n\n\n\n\n\"use strict\";\nconst $01ef634a92434650$var$cache = {};\nconst $01ef634a92434650$export$39fdcd81e0c5d80b = (element)=>{\n    const { tag: tag } = element;\n    if (tag) {\n        if (tag === \"string\") return document.createTextNode(element.text);\n        else if (tag === \"fragment\") return document.createDocumentFragment();\n        else if (tag === \"svg\" || tag === \"path\") return document.createElementNS(\"http://www.w3.org/2000/svg\", tag);\n        else return document.createElement(tag) // TODO: allow strict mode to check validity\n        ;\n    } else return document.createElement(\"div\");\n};\nconst $01ef634a92434650$export$5075bd4eae016d2c = (element)=>{\n    let { tag: tag, key: key, props: props } = element;\n    tag = (0, $6348a97baa20d8d9$export$78e3044358792147)(tag, element);\n    if (tag === true) tag = key;\n    if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(props) && (0, $079873fc3f2b5f81$export$844ec244b1367d54)(props.tag)) {\n        const tagExists = (0, $be778da0f6744ca3$export$52675ca41d41c093)(props.tag);\n        if (tagExists) return props.tag;\n    }\n    if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(tag)) {\n        const tagExists = (0, $be778da0f6744ca3$export$52675ca41d41c093)(tag);\n        if (tagExists) return tag;\n    } else {\n        const isKeyATag = (0, $be778da0f6744ca3$export$52675ca41d41c093)(key);\n        if (isKeyATag) return key;\n    }\n    return \"div\";\n};\nconst $01ef634a92434650$export$257247f9c0329159 = (element)=>{\n    const tag = element.tag = $01ef634a92434650$export$5075bd4eae016d2c(element);\n    if (!(0, $a7c2803c7e7b293f$export$5d42fc0d80b5349f)(element)) return (0, $06908963bda72849$export$f18d5b0af29128b7)(\"HTMLInvalidTag\", element.tag, element);\n    let cachedTag = $01ef634a92434650$var$cache[tag];\n    if (!cachedTag) cachedTag = $01ef634a92434650$var$cache[tag] = $01ef634a92434650$export$39fdcd81e0c5d80b(element);\n    const clonedNode = cachedTag.cloneNode(true);\n    if (tag === \"string\") clonedNode.nodeValue = element.text;\n    return clonedNode;\n};\n\n\n\"use strict\";\nconst $98807bf18bc93fb3$export$13970129ca912f06 = (node, parentNode)=>{\n    parentNode.appendChild(node);\n    return node;\n};\nconst $98807bf18bc93fb3$export$9c63b8d16fa708c5 = (node, siblingNode, parentNode)=>{\n    const parent = parentNode || siblingNode.parentNode;\n    if (siblingNode.nextSibling) parent?.insertBefore(node, siblingNode.nextSibling);\n    else siblingNode?.insertAdjacentElement(\"afterend\", node);\n};\nconst $98807bf18bc93fb3$export$3a727f1d0007fe49 = (node, siblingNode, parentNode)=>{\n    (parentNode || siblingNode.parentNode)?.insertBefore(node, siblingNode);\n};\nconst $98807bf18bc93fb3$export$4f2a718cb234b42f = (element, parent, key, attachOptions)=>{\n    parent[key || element.key] = element;\n    if (element.tag !== \"shadow\") {\n        if (attachOptions && attachOptions.position) (attachOptions.position === \"before\" ? $98807bf18bc93fb3$export$3a727f1d0007fe49 : $98807bf18bc93fb3$export$9c63b8d16fa708c5)(element.node, attachOptions.node || parent.node);\n        else $98807bf18bc93fb3$export$13970129ca912f06(element.node, parent.node);\n    }\n    return element;\n};\n\n\n\"use strict\";\n\n\n\n\n\n\n\"use strict\";\nvar /**\n * Recursively add attributes to a DOM node\n */ $781ba30c522cf3e7$export$2e2bcd8739ae039 = (params, element, node)=>{\n    const { __ref: __ref } = element;\n    const { __attr: __attr } = __ref;\n    if ((0, $079873fc3f2b5f81$export$612ae635ef713eeb)(\"object\")) (0, $06908963bda72849$export$f18d5b0af29128b7)(\"HTMLInvalidAttr\", params);\n    if (params) for(const attr in params){\n        const val = (0, $6348a97baa20d8d9$export$78e3044358792147)(params[attr], element);\n        // if (__attr[attr] === val) return\n        if (val && node.setAttribute) node.setAttribute(attr, val);\n        else if (node.removeAttribute) node.removeAttribute(attr);\n        __attr[attr] = val;\n    }\n    console.groupEnd(params, __attr);\n};\n\n\n\n\"use strict\";\nconst $6a43953e96d89b45$export$d559e9a3b71405f6 = (element)=>{\n    const { key: key } = element;\n    if (element.class === true) element.class = key;\n    else if (!element.class && typeof key === \"string\" && key.charAt(0) === \"_\" && key.charAt(1) !== \"_\") element.class = key.slice(1);\n};\nconst $6a43953e96d89b45$export$b04d9b8d414ba5e8 = (obj, element)=>{\n    let className = \"\";\n    for(const item in obj){\n        const param = obj[item];\n        if (typeof param === \"boolean\" && param) className += ` ${item}`;\n        else if (typeof param === \"string\") className += ` ${param}`;\n        else if (typeof param === \"function\") className += ` ${(0, $6348a97baa20d8d9$export$78e3044358792147)(param, element)}`;\n    }\n    return className;\n};\nconst $6a43953e96d89b45$export$11c615ce16f87241 = (params, element)=>{\n    if (!params) return;\n    const { key: key } = element;\n    if (params === true) params = element.class = {\n        key: key\n    };\n    if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(params)) params = element.class = {\n        default: params\n    };\n    if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(params)) params = $6a43953e96d89b45$export$b04d9b8d414ba5e8(params, element);\n    // TODO: fails on string\n    const className = params.replace(/\\s+/g, \" \").trim();\n    if (element.ref) element.ref.class = className // TODO: this check is NOT needed in new DOMQL\n    ;\n    return className;\n};\nconst $6a43953e96d89b45$export$e8f750c9f10c0a7b = (params, element, node)=>{\n    const className = $6a43953e96d89b45$export$11c615ce16f87241(params, element);\n    node.classList = className;\n    return className;\n};\nvar $6a43953e96d89b45$export$2e2bcd8739ae039 = (params, element, node)=>{\n    $6a43953e96d89b45$export$e8f750c9f10c0a7b(params, element, node);\n};\n\n\n\n\n\n\"use strict\";\nvar $ad3d3b247d47f3a2$export$2e2bcd8739ae039 = {};\n\n\n\n\n\"use strict\";\nconst $bf937aebc888d68f$var$set = function(params, options = {}, el) {\n    const element = el || this;\n    const { __ref: ref, content: content } = element;\n    const __contentRef = content && content.__ref;\n    const lazyLoad = element.props && element.props.lazyLoad;\n    if (ref.__noCollectionDifference || __contentRef && __contentRef.__cached && (0, $6348a97baa20d8d9$export$273cb3019e2f952c)(params, content)) return content.update();\n    if (options.preventContentUpdate === true) return;\n    const setAsync = ()=>{\n        (0, $0a7669919424e35c$export$6e1d9b0d0e1e1def)(element);\n        (0, $947d5c063e68e91c$export$2e2bcd8739ae039)(params, element, \"content\", {\n            ignoreChildExtend: true,\n            ...(0, $782cf63e523d0885$export$2e2bcd8739ae039).defaultOptions,\n            ...(0, $ad3d3b247d47f3a2$export$2e2bcd8739ae039).create,\n            ...options\n        });\n    };\n    if (params) {\n        const { childExtend: childExtend } = params;\n        if (!childExtend && element.childExtend) params.childExtend = element.childExtend;\n        if (lazyLoad) window.requestAnimationFrame(setAsync);\n        else setAsync();\n    }\n    return element;\n};\nvar $bf937aebc888d68f$export$2e2bcd8739ae039 = $bf937aebc888d68f$var$set;\n\n\n\"use strict\";\nconst $0a7669919424e35c$export$5143cc956eb9d8f6 = function(params, options) {\n    const element = this;\n    if (!element.content) return;\n    if (element.content.update) element.content.update(params, options);\n};\nconst $0a7669919424e35c$export$6e1d9b0d0e1e1def = function(el) {\n    const element = el || this;\n    const { __ref: __ref } = element;\n    if (element.content) {\n        if (element.content.node) {\n            if (element.content.tag === \"fragment\") element.node.innerHTML = \"\";\n            else element.node.removeChild(element.content.node);\n        }\n        const { __cached: __cached } = __ref;\n        if (__cached && __cached.content) {\n            if (__cached.content.tag === \"fragment\") __cached.content.parent.node.innerHTML = \"\";\n            else if (__cached.content && (0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(__cached.content.remove)) __cached.content.remove();\n        }\n        delete element.content;\n    }\n};\nconst $0a7669919424e35c$export$431313f2afd011e2 = (param, element, node, options)=>{\n    if (param && element) {\n        if (element.content.update) element.content.update({}, options);\n        else (0, $bf937aebc888d68f$export$2e2bcd8739ae039).call(element, param, options);\n    }\n};\nvar $0a7669919424e35c$export$2e2bcd8739ae039 = $0a7669919424e35c$export$431313f2afd011e2;\n\n\n\n\n\"use strict\";\nvar /**\n * Apply data parameters on the DOM nodes\n * this should only work if `showOnNode: true` is passed\n */ $e4aeb17327021212$export$2e2bcd8739ae039 = (params, element, node)=>{\n    if (params && params.showOnNode) {\n        if (!(0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(params)) (0, $06908963bda72849$export$f18d5b0af29128b7)(\"HTMLInvalidData\", params);\n        // Apply data params on node\n        for(const dataset in params)if (dataset !== \"showOnNode\") node.dataset[dataset] = (0, $6348a97baa20d8d9$export$78e3044358792147)(params[dataset], element);\n    }\n};\n\n\n\n\"use strict\";\nvar /**\n * Appends raw HTML as content\n * an original one as a child\n */ $1591488d379f80a7$export$2e2bcd8739ae039 = (param, element, node)=>{\n    const prop = (0, $6348a97baa20d8d9$export$78e3044358792147)(param, element);\n    const { __ref: __ref } = element;\n    if (prop !== __ref.__html) {\n        // const parser = new window.DOMParser()\n        // param = parser.parseFromString(param, 'text/html')\n        if (node.nodeName === \"SVG\") node.textContent = prop;\n        else node.innerHTML = prop;\n        __ref.__html = prop;\n    }\n};\n\n\n\n\n\"use strict\";\nvar /**\n * Recursively add styles to a DOM node\n */ $479abf9e8c0e6739$export$2e2bcd8739ae039 = (params, element, node)=>{\n    if (params) {\n        if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(params)) (0, $6348a97baa20d8d9$export$871de8747c9eaa88)(node.style, params, element);\n        else (0, $06908963bda72849$export$f18d5b0af29128b7)(\"HTMLInvalidStyles\", params);\n    }\n};\n\n\n\n\n\"use strict\";\nvar /**\n * Creates a text node and appends into\n * an original one as a child\n */ $19f4b3c5f241581d$export$2e2bcd8739ae039 = (param, element, node)=>{\n    let prop = (0, $6348a97baa20d8d9$export$78e3044358792147)(param, element);\n    if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(prop) && prop.includes(\"{{\")) prop = (0, $4537bba2bd33729a$export$7cb52b7decbd2220)(prop, element.state);\n    if (element.tag === \"string\") node.nodeValue = prop;\n    else if (param !== undefined || param !== null) {\n        if (element.__text) {\n            if (element.__text.text === prop) return;\n            element.__text.text = prop;\n            if (element.__text.node) element.__text.node.nodeValue = prop;\n        } else (0, $947d5c063e68e91c$export$2e2bcd8739ae039)({\n            tag: \"string\",\n            text: prop\n        }, element, \"__text\");\n    }\n};\n\n\n\"use strict\";\nconst $bfb47641e396194b$export$5100524046ce8de6 = [\n    \"update\",\n    \"parse\",\n    \"clean\",\n    \"create\",\n    \"destroy\",\n    \"add\",\n    \"toggle\",\n    \"remove\",\n    \"apply\",\n    \"set\",\n    \"reset\",\n    \"rootUpdate\",\n    \"parentUpdate\",\n    \"parent\",\n    \"__element\",\n    \"__depends\",\n    \"__ref\",\n    \"__children\",\n    \"__root\"\n];\n\n\n\n\n\n\n\n\"use strict\";\nconst $7c314a91da5c12c3$export$98e6a39c04603d36 = function() {\n    const state = this;\n    if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(state)) {\n        const obj = {};\n        for(const param in state)if (!(0, $bfb47641e396194b$export$5100524046ce8de6).includes(param)) obj[param] = state[param];\n        return obj;\n    } else if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(state)) return state.filter((item)=>!(0, $bfb47641e396194b$export$5100524046ce8de6).includes(item));\n};\nconst $7c314a91da5c12c3$export$cf0b2a6c63f9e656 = function(options = {}) {\n    const state = this;\n    for(const param in state)if (!(0, $bfb47641e396194b$export$5100524046ce8de6).includes(param)) delete state[param];\n    if (!options.preventStateUpdate) state.update(state, {\n        replace: true,\n        ...options\n    });\n    return state;\n};\nconst $7c314a91da5c12c3$export$b1fb4cac938035f7 = function(options = {}) {\n    const state = this;\n    const element = state.__element;\n    const stateKey = element.__ref.__state;\n    if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(stateKey)) {\n        element.parent.state.remove(stateKey, {\n            isHoisted: true,\n            ...options\n        });\n        return element.state;\n    }\n    delete element.state;\n    element.state = state.parent;\n    if (state.parent) delete state.parent.__children[element.key];\n    if (state.__children) for(const key in state.__children){\n        const child = state.__children[key];\n        if (child.state) {\n            if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(child.state)) Object.defineProperty(child.state, \"parent\", {\n                value: state.parent,\n                enumerable: false,\n                configurable: true,\n                writable: true // Set this to true if you want to allow changing the function later\n            });\n            else Object.setPrototypeOf(child, {\n                parent: state.parent\n            });\n        }\n    }\n    element.state.update({}, {\n        isHoisted: true,\n        ...options\n    });\n    return element.state;\n};\nconst $7c314a91da5c12c3$export$e45af8832c6abf26 = function(obj, options = {}) {\n    const state = this;\n    if (!state || !state.parent) return;\n    return state.parent.update(obj, {\n        isHoisted: true,\n        ...options\n    });\n};\nconst $7c314a91da5c12c3$export$c2f300c8c094e900 = function(obj, options = {}) {\n    const state = this;\n    if (!state) return;\n    const rootState = state.__element.__ref.__root.state;\n    return rootState.update(obj, {\n        isHoisted: false,\n        ...options\n    });\n};\nconst $7c314a91da5c12c3$export$e16d8520af44a096 = function(value, options = {}) {\n    const state = this;\n    if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(state)) {\n        state.push(value);\n        state.update(state.parse(), {\n            overwrite: \"replace\",\n            ...options\n        });\n    } else if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(state)) {\n        const key = Object.keys(state).length;\n        state.update({\n            [key]: value\n        }, options);\n    }\n};\nconst $7c314a91da5c12c3$export$e03c1c3201ee8bb7 = function(key, options = {}) {\n    const state = this;\n    state.update({\n        [key]: !state[key]\n    }, options);\n};\nconst $7c314a91da5c12c3$export$cd7f480d6b8286c3 = function(key, options = {}) {\n    const state = this;\n    if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(state)) (0, $d0530a7c3063b815$export$8af121ae7401c4)(state, key);\n    if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(state)) (0, $6348a97baa20d8d9$export$bdd7fc6cf95d63b)(state, key);\n    return state.update(state.parse(), {\n        replace: true,\n        ...options\n    });\n};\nconst $7c314a91da5c12c3$export$adaa4cf7ef1b65be = function(val, options = {}) {\n    const state = this;\n    const value = (0, $6348a97baa20d8d9$export$e249d5701977b61b)(val);\n    return state.clean({\n        preventStateUpdate: true,\n        ...options\n    }).update(value, {\n        replace: true,\n        ...options\n    });\n};\nconst $7c314a91da5c12c3$export$aad8462122ac592b = function(options = {}) {\n    const state = this;\n    const value = (0, $6348a97baa20d8d9$export$e249d5701977b61b)(state.parse());\n    return state.set(value, {\n        replace: true,\n        ...options\n    });\n};\nconst $7c314a91da5c12c3$export$5635d7ef4b8fee1c = function(func, options = {}) {\n    const state = this;\n    if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(func)) {\n        func(state);\n        return state.update(state.parse(), {\n            replace: true,\n            ...options\n        });\n    }\n};\n\n\n\n\n\n\n\n\n\"use strict\";\nconst $5fcb062e9eb35754$export$f7dd4f6f6830b29d = (stateKey, parentState)=>{\n    if (!stateKey.includes(\"../\")) return;\n    const arr = stateKey.split(\"../\");\n    const arrLength = arr.length - 1;\n    for(let i = 0; i < arrLength; i++){\n        if (!parentState.parent) return null;\n        parentState = parentState.parent;\n    }\n    return parentState;\n};\nconst $5fcb062e9eb35754$export$e6d108f71cc7e736 = (stateKey, parentState, options = {})=>{\n    const arr = stateKey.split(\"/\");\n    const arrLength = arr.length - 1;\n    for(let i = 0; i < arrLength; i++){\n        const childKey = arr[i];\n        const grandChildKey = arr[i + 1];\n        if (childKey === \"__proto__\" || grandChildKey === \"__proto__\") return;\n        let childInParent = parentState[childKey];\n        if (!childInParent) childInParent = parentState[childKey] = {} // check for array\n        ;\n        if (!childInParent[grandChildKey]) childInParent[grandChildKey] = {} // check for array\n        ;\n        stateKey = grandChildKey;\n        parentState = childInParent;\n    }\n    if (options.returnParent) return parentState;\n    return parentState[stateKey];\n};\nconst $5fcb062e9eb35754$export$487549069bb5d2a9 = (element, parent, options = {})=>{\n    const ref = element.__ref;\n    let stateKey = ref.__state;\n    if (!$5fcb062e9eb35754$export$e187d7e20e9fd8fa(element)) return;\n    let parentState = parent.state;\n    const findGrandParentState = $5fcb062e9eb35754$export$f7dd4f6f6830b29d(stateKey, parent.state);\n    if (findGrandParentState) {\n        parentState = findGrandParentState;\n        stateKey = stateKey.replaceAll(\"../\", \"\");\n    }\n    if (!parentState) return;\n    return $5fcb062e9eb35754$export$e6d108f71cc7e736(stateKey, parentState, options);\n};\nconst $5fcb062e9eb35754$export$c546cc738d4564ba = (element, parent)=>{\n    const ref = element.__ref;\n    const inheritedState = $5fcb062e9eb35754$export$487549069bb5d2a9(element, parent);\n    if ((0, $079873fc3f2b5f81$export$fce6876652108ab)(inheritedState)) return element.state;\n    if ((0, $079873fc3f2b5f81$export$226b3eccf92c9ed9)(inheritedState)(\"object\", \"array\")) return (0, $6348a97baa20d8d9$export$e249d5701977b61b)(inheritedState, (0, $bfb47641e396194b$export$5100524046ce8de6));\n    else if ((0, $079873fc3f2b5f81$export$226b3eccf92c9ed9)(inheritedState)(\"string\", \"number\", \"boolean\")) {\n        ref.__stateType = typeof inheritedState;\n        return {\n            value: inheritedState\n        };\n    }\n    console.warn(ref.__state, \"is not present. Replacing with\", {});\n};\nconst $5fcb062e9eb35754$export$e187d7e20e9fd8fa = (element)=>{\n    const ref = element.__ref;\n    const stateKey = ref.__state;\n    if (stateKey && (0, $079873fc3f2b5f81$export$226b3eccf92c9ed9)(stateKey)(\"number\", \"string\", \"boolean\")) return true;\n    return false;\n};\nconst $5fcb062e9eb35754$export$e5d60a6bbabd36f = function(state) {\n    if (!(0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(state)) return false;\n    return state.update && state.parse && state.clean && state.create && state.parent && state.destroy && state.rootUpdate && state.parentUpdate && state.toggle && state.add && state.apply && state.__element && state.__children;\n// return arrayContainsOtherArray(keys, ['update', 'parse', 'clean', 'create', 'parent', 'rootUpdate'])\n};\nconst $5fcb062e9eb35754$export$2318606fe59d6594 = (path, value)=>{\n    if (!path) return value || {};\n    const keys = path.split(\"/\");\n    const obj = {};\n    let ref = obj;\n    keys.forEach((key, index)=>{\n        ref[key] = index === keys.length - 1 ? value || {} : {};\n        ref = ref[key];\n    });\n    return obj;\n};\n\n\n\"use strict\";\nconst $8b576c5d9c1d0c84$var$STATE_UPDATE_OPTIONS = {\n    overwrite: true,\n    preventHoistElementUpdate: false,\n    updateByState: true,\n    isHoisted: true,\n    execStateFunction: true\n};\nconst $8b576c5d9c1d0c84$export$4971331372cec95a = function(obj, options = $8b576c5d9c1d0c84$var$STATE_UPDATE_OPTIONS) {\n    const state = this;\n    const element = state.__element;\n    if (!options.updateByState) (0, $6348a97baa20d8d9$export$4950aa0f605343fb)(options, $8b576c5d9c1d0c84$var$STATE_UPDATE_OPTIONS);\n    if (!state.__element) (0, $06908963bda72849$export$f18d5b0af29128b7)(\"ElementOnStateIsNotDefined\");\n    if (options.preventInheritAtCurrentState === true) options.preventInheritAtCurrentState = state;\n    else if (options.preventInheritAtCurrentState) return;\n    if (!options.preventInitStateUpdateListener) {\n        const initStateUpdateReturns = (0, $33936e69aa63c9cd$export$8fe90418b8a0fc1e)(\"initStateUpdated\", obj, element, options);\n        if (initStateUpdateReturns === false) return element;\n    }\n    $8b576c5d9c1d0c84$var$applyOverwrite(state, obj, options);\n    const updateIsHoisted = $8b576c5d9c1d0c84$var$hoistStateUpdate(state, obj, options);\n    if (updateIsHoisted) return state;\n    $8b576c5d9c1d0c84$var$updateDependentState(state, obj, options);\n    $8b576c5d9c1d0c84$var$applyElementUpdate(state, obj, options);\n    if (!options.preventStateUpdateListener) (0, $33936e69aa63c9cd$export$8fe90418b8a0fc1e)(\"stateUpdated\", obj, element, options);\n    return state;\n};\nconst $8b576c5d9c1d0c84$var$applyOverwrite = (state, obj, options)=>{\n    const { overwrite: overwrite } = options;\n    if (!overwrite) return;\n    const shallow = overwrite === \"shallow\";\n    const merge = overwrite === \"merge\";\n    if (merge) {\n        (0, $6348a97baa20d8d9$export$6969335ea1e4e77c)(state, obj, (0, $bfb47641e396194b$export$5100524046ce8de6));\n        return;\n    }\n    const overwriteFunc = shallow ? (0, $6348a97baa20d8d9$export$1c07155dfdd98f41) : (0, $6348a97baa20d8d9$export$f0b277b530b4fffd);\n    overwriteFunc(state, obj, (0, $bfb47641e396194b$export$5100524046ce8de6));\n};\nconst $8b576c5d9c1d0c84$var$hoistStateUpdate = (state, obj, options)=>{\n    const element = state.__element;\n    const { parent: parent, __ref: ref } = element;\n    const stateKey = ref.__state;\n    const stateType = ref.__stateType;\n    if (!stateKey) return;\n    const asksForInherit = (0, $5fcb062e9eb35754$export$e187d7e20e9fd8fa)(element);\n    const inheritedState = (0, $5fcb062e9eb35754$export$487549069bb5d2a9)(element, parent, {\n        returnParent: true\n    });\n    const shouldPropagateState = asksForInherit && inheritedState && !options.stopStatePropagation;\n    if (!shouldPropagateState) return;\n    const isStringState = stateType === \"string\" || stateType === \"number\" || stateType === \"boolean\";\n    const value = isStringState ? state.value : state.parse();\n    const passedValue = isStringState ? state.value : obj;\n    const findGrandParentState = (0, $5fcb062e9eb35754$export$f7dd4f6f6830b29d)(stateKey, parent.state);\n    const changesValue = (0, $5fcb062e9eb35754$export$2318606fe59d6594)(stateKey, passedValue);\n    const targetParent = findGrandParentState || parent.state;\n    if (options.replace) (0, $6348a97baa20d8d9$export$f0b277b530b4fffd)(targetParent, changesValue || value) // check with createChangesByKey\n    ;\n    targetParent.update(changesValue, {\n        execStateFunction: false,\n        isHoisted: true,\n        ...options,\n        preventUpdate: options.preventHoistElementUpdate,\n        overwrite: !options.replace\n    });\n    const hasNotUpdated = options.preventUpdate !== true || !options.preventHoistElementUpdate;\n    if (!options.preventStateUpdateListener && hasNotUpdated) (0, $33936e69aa63c9cd$export$8fe90418b8a0fc1e)(\"stateUpdated\", obj, element, options);\n    return true;\n};\nconst $8b576c5d9c1d0c84$var$updateDependentState = (state, obj, options)=>{\n    if (!state.__depends) return;\n    for(const el in state.__depends){\n        const dependentState = state.__depends[el];\n        dependentState.clean().update(state.parse(), options);\n    }\n};\nconst $8b576c5d9c1d0c84$var$applyElementUpdate = (state, obj, options)=>{\n    const element = state.__element;\n    if (options.preventUpdate !== true) element.update({}, {\n        ...options,\n        updateByState: true\n    });\n    else if (options.preventUpdate === \"recursive\") element.update({}, {\n        ...options,\n        isHoisted: false,\n        updateByState: true,\n        preventUpdate: true\n    });\n};\n\n\n\n\"use strict\";\nconst $774f1a3b2fe82710$export$e6a0daad8304de = function(element, parent, options) {\n    element.state = $774f1a3b2fe82710$export$6e8a0938c76079c7(element, parent, options);\n    return element.state;\n};\nconst $774f1a3b2fe82710$export$6e8a0938c76079c7 = function(element, parent, options) {\n    const objectizeState = $774f1a3b2fe82710$var$checkForTypes(element);\n    if (objectizeState === false) return parent.state || {};\n    else element.state = (0, $6348a97baa20d8d9$export$e249d5701977b61b)(objectizeState, (0, $bfb47641e396194b$export$5100524046ce8de6));\n    const whatInitReturns = (0, $33936e69aa63c9cd$export$1bc010482b845252)(\"stateInit\", element, options);\n    if (whatInitReturns === false) return element.state;\n    if ((0, $5fcb062e9eb35754$export$e187d7e20e9fd8fa)(element)) {\n        const inheritedState = (0, $5fcb062e9eb35754$export$c546cc738d4564ba)(element, parent);\n        element.state = (0, $079873fc3f2b5f81$export$fce6876652108ab)(inheritedState) ? {} : inheritedState;\n    }\n    const dependentState = $774f1a3b2fe82710$var$applyDependentState(element, element.state);\n    if (dependentState) element.state = dependentState;\n    $774f1a3b2fe82710$var$applyMethods(element);\n    // trigger `on.stateCreated`\n    (0, $33936e69aa63c9cd$export$1bc010482b845252)(\"stateCreated\", element);\n    return element.state;\n};\nconst $774f1a3b2fe82710$var$applyDependentState = (element, state)=>{\n    const { __ref: ref } = state;\n    if (!ref) return;\n    const dependentState = (0, $6348a97baa20d8d9$export$e249d5701977b61b)(ref, (0, $bfb47641e396194b$export$5100524046ce8de6));\n    const newDepends = {\n        [element.key]: dependentState\n    };\n    ref.__depends = (0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(ref.__depends) ? {\n        ...ref.__depends,\n        ...newDepends\n    } : newDepends;\n    return dependentState;\n};\nconst $774f1a3b2fe82710$var$checkForTypes = (element)=>{\n    const { state: state, __ref: ref } = element;\n    if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(state)) {\n        ref.__state = state;\n        return (0, $6348a97baa20d8d9$export$78e3044358792147)(state, element);\n    } else if ((0, $079873fc3f2b5f81$export$226b3eccf92c9ed9)(state)(\"string\", \"number\")) {\n        ref.__state = state;\n        return {};\n    } else if (state === true) {\n        ref.__state = element.key;\n        return {};\n    } else if (state) {\n        ref.__hasRootState = true;\n        return state;\n    } else return false;\n};\nconst $774f1a3b2fe82710$var$addProtoToArray = (state, proto)=>{\n    for(const key in proto)Object.defineProperty(state, key, {\n        value: proto[key],\n        enumerable: false,\n        configurable: true,\n        writable: true // Set this to true if you want to allow changing the function later\n    });\n};\nconst $774f1a3b2fe82710$var$applyMethods = (element)=>{\n    const state = element.state;\n    const ref = element.__ref;\n    const proto = {\n        clean: (0, $7c314a91da5c12c3$export$cf0b2a6c63f9e656).bind(state),\n        parse: (0, $7c314a91da5c12c3$export$98e6a39c04603d36).bind(state),\n        destroy: (0, $7c314a91da5c12c3$export$b1fb4cac938035f7).bind(state),\n        update: (0, $8b576c5d9c1d0c84$export$4971331372cec95a).bind(state),\n        rootUpdate: (0, $7c314a91da5c12c3$export$c2f300c8c094e900).bind(state),\n        parentUpdate: (0, $7c314a91da5c12c3$export$e45af8832c6abf26).bind(state),\n        create: $774f1a3b2fe82710$export$e6a0daad8304de.bind(state),\n        add: (0, $7c314a91da5c12c3$export$e16d8520af44a096).bind(state),\n        toggle: (0, $7c314a91da5c12c3$export$e03c1c3201ee8bb7).bind(state),\n        remove: (0, $7c314a91da5c12c3$export$cd7f480d6b8286c3).bind(state),\n        apply: (0, $7c314a91da5c12c3$export$5635d7ef4b8fee1c).bind(state),\n        set: (0, $7c314a91da5c12c3$export$adaa4cf7ef1b65be).bind(state),\n        reset: (0, $7c314a91da5c12c3$export$aad8462122ac592b).bind(state),\n        parent: element.parent.state,\n        __element: element,\n        __children: {},\n        __root: ref.__root ? ref.__root.state : state\n    };\n    if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(state)) $774f1a3b2fe82710$var$addProtoToArray(state, proto);\n    else Object.setPrototypeOf(state, proto);\n    if (state.parent && state.parent.__children) state.parent.__children[element.key] = state;\n};\n\n\n\n\n\n\"use strict\";\n\n\n\n\"use strict\";\nconst $4a610b4ab9f6f506$export$ca000e230c0caa3e = (params, element, node)=>{\n    const state = (0, $6348a97baa20d8d9$export$78e3044358792147)(params, element);\n    if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(state)) for(const param in state){\n        if ((0, $bfb47641e396194b$export$5100524046ce8de6).includes(param)) continue;\n        if (!Object.hasOwnProperty.call(state, param)) continue;\n        element.state[param] = (0, $6348a97baa20d8d9$export$78e3044358792147)(state[param], element);\n    }\n    return element;\n};\nvar $4a610b4ab9f6f506$export$2e2bcd8739ae039 = $4a610b4ab9f6f506$export$ca000e230c0caa3e;\n\n\n\n\"use strict\";\nvar /**\n * Apply data parameters on the DOM nodes\n * this should only work if `showOnNode: true` is passed\n */ $d1bc0a58271a837c$export$2e2bcd8739ae039 = (params, element, node)=>{\n    if (!(0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(params)) return;\n    // Apply data params on node\n    for(const scopeItem in params){\n        const value = params[scopeItem];\n        if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(value)) element.scope[scopeItem] = value.bind(element);\n        else element.scope[scopeItem] = value;\n    }\n};\n\n\n\n\"use strict\";\nvar $782cf63e523d0885$export$2e2bcd8739ae039 = {\n    attr: $781ba30c522cf3e7$export$2e2bcd8739ae039,\n    style: $479abf9e8c0e6739$export$2e2bcd8739ae039,\n    text: $19f4b3c5f241581d$export$2e2bcd8739ae039,\n    html: $1591488d379f80a7$export$2e2bcd8739ae039,\n    content: $0a7669919424e35c$export$2e2bcd8739ae039,\n    data: $e4aeb17327021212$export$2e2bcd8739ae039,\n    class: (0, $6a43953e96d89b45$export$2e2bcd8739ae039),\n    state: $4a610b4ab9f6f506$export$2e2bcd8739ae039,\n    scope: $d1bc0a58271a837c$export$2e2bcd8739ae039,\n    deps: (param, el)=>param || el.parent.deps,\n    extend: {},\n    childExtend: {},\n    childExtendRecursive: {},\n    props: {},\n    path: {},\n    if: {},\n    define: {},\n    transform: {},\n    __name: {},\n    __ref: {},\n    __hash: {},\n    __text: {},\n    nextElement: {},\n    previousElement: {},\n    key: {},\n    tag: {},\n    query: {},\n    parent: {},\n    node: {},\n    set: {},\n    update: {},\n    setProps: {},\n    remove: {},\n    updateContent: {},\n    removeContent: {},\n    lookup: {},\n    spotByPath: {},\n    keys: {},\n    log: {},\n    parse: {},\n    parseDeep: {},\n    on: {},\n    component: {},\n    context: {},\n    $setStateCollection: {},\n    $setCollection: {},\n    $setPropsCollection: {}\n};\nconst $782cf63e523d0885$export$2f387f690230eab4 = {\n    elementKeys: [\n        \"tag\",\n        \"text\",\n        \"style\",\n        \"attr\",\n        \"class\",\n        \"state\",\n        \"props\",\n        \"data\",\n        \"content\",\n        \"html\",\n        \"on\",\n        \"key\"\n    ],\n    propsKeys: [\n        \"__element\",\n        \"update\"\n    ],\n    stateKeys: []\n};\n\n\n\"use strict\";\n\n\n\"use strict\";\nconst $d61abc47c39ce5ac$export$cec27f102c074405 = function(path) {\n    const element = this;\n    const arr = [].concat(path);\n    let active = (0, $80563b8eaf6ba844$export$33ecaa422889cd80)[arr[0]];\n    if (!arr || !arr.length) return console.log(arr, \"on\", element.key, \"is undefined\");\n    while(active.key === arr[0]){\n        arr.shift();\n        if (!arr.length) break;\n        active = active[arr[0]];\n        if (!active) return;\n    }\n    return active;\n};\nconst $d61abc47c39ce5ac$export$dfc7155ac0343b8 = function(key) {\n    const element = this;\n    let { parent: parent } = element;\n    while(parent.key !== key){\n        if (parent[key]) return parent[key];\n        parent = parent.parent;\n        if (!parent) return;\n    }\n    return parent;\n};\nconst $d61abc47c39ce5ac$export$cd7f480d6b8286c3 = function(params) {\n    const element = this;\n    if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(element.node.remove)) element.node.remove();\n    else if (!(0, $e6d79d7b0d7b5fe1$export$f15d00aa73aafac4)()) {\n        console.warn(\"This item cant be removed\");\n        element.log();\n    }\n    delete element.parent[element.key];\n};\nconst $d61abc47c39ce5ac$export$3988ae62b71be9a3 = function(param) {\n    const element = this;\n    return element[param];\n};\nconst $d61abc47c39ce5ac$export$938ca3893886de06 = function(param, options) {\n    const element = this;\n    if (!param || !element.props) return;\n    element.update({\n        props: param\n    }, options);\n    return element;\n};\nconst $d61abc47c39ce5ac$export$a98d858bb785d7b9 = (element, key, get, set)=>Object.defineProperty(element, key, {\n        get: get,\n        set: set\n    });\nconst $d61abc47c39ce5ac$export$ed97f33186d4b816 = function() {\n    const element = this;\n    const keys = [];\n    for(const param in element){\n        if ((0, $782cf63e523d0885$export$2e2bcd8739ae039)[param] && !(0, $782cf63e523d0885$export$2f387f690230eab4).elementKeys.includes(param)) continue;\n        keys.push(param);\n    }\n    return keys;\n};\nconst $d61abc47c39ce5ac$export$98e6a39c04603d36 = function(excl = []) {\n    const element = this;\n    const obj = {};\n    const keyList = $d61abc47c39ce5ac$export$ed97f33186d4b816.call(element);\n    keyList.forEach((v)=>{\n        if (excl.includes(v)) return;\n        let val = element[v];\n        if (v === \"state\") {\n            if (element.__ref && element.__ref.__hasRootState) return;\n            if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(val && val.parse)) val = val.parse();\n        } else if (v === \"props\") {\n            const { __element: __element, update: update, ...props } = element[v];\n            obj[v] = props;\n        } else if ((0, $079873fc3f2b5f81$export$4e62c701997796c1)(val)) obj[v] = val;\n    });\n    return obj;\n};\nconst $d61abc47c39ce5ac$export$3ed0fe0c6a5387e2 = function(excl = []) {\n    const element = this;\n    const obj = $d61abc47c39ce5ac$export$98e6a39c04603d36.call(element, excl);\n    for(const v in obj){\n        if (excl.includes(v)) return;\n        if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(obj[v])) obj[v] = $d61abc47c39ce5ac$export$3ed0fe0c6a5387e2.call(obj[v], excl);\n    }\n    return obj;\n};\nconst $d61abc47c39ce5ac$export$bef1f36f5486a6a3 = function(...args) {\n    const element = this;\n    const { __ref: __ref } = element;\n    console.group(element.key);\n    if (args.length) args.forEach((v)=>console.log(`%c${v}:\\n`, \"font-weight: bold\", element[v]));\n    else {\n        console.log(__ref.path);\n        const keys = element.keys();\n        keys.forEach((v)=>console.log(`%c${v}:\\n`, \"font-weight: bold\", element[v]));\n    }\n    console.groupEnd(element.key);\n    return element;\n};\nconst $d61abc47c39ce5ac$export$e87a5caa96444a37 = function() {\n    const element = this;\n    const { key: key, parent: parent } = element;\n    const { __children: __children } = parent.__ref;\n    const currentIndex = __children.indexOf(key);\n    const nextChild = __children[currentIndex + 1];\n    return parent[nextChild];\n};\nconst $d61abc47c39ce5ac$export$1facc1d780a4d839 = function(el) {\n    const element = el || this;\n    const { key: key, parent: parent } = element;\n    const { __children: __children } = parent.__ref;\n    if (!__children) return;\n    const currentIndex = __children.indexOf(key);\n    return parent[__children[currentIndex - 1]];\n};\nconst $d61abc47c39ce5ac$export$f0748ddc99f937c7 = [\n    \"set\",\n    \"update\",\n    \"remove\",\n    \"updateContent\",\n    \"removeContent\",\n    \"lookup\",\n    \"spotByPath\",\n    \"keys\",\n    \"parse\",\n    \"setProps\",\n    \"parseDeep\",\n    \"if\",\n    \"log\",\n    \"nextElement\",\n    \"previousElement\"\n];\nconst $d61abc47c39ce5ac$export$ed2133acb96eb5aa = function(param) {\n    return $d61abc47c39ce5ac$export$f0748ddc99f937c7.includes(param);\n};\n\n\n\n\n\n\n\"use strict\";\nconst $c6321d44fd66ade0$export$431871e52735632b = [\n    \"update\",\n    \"__element\"\n];\n\n\n\n\n\n\"use strict\";\nconst $045c563bb4b0b2eb$var$objectizeStringProperty = (propValue)=>{\n    if ((0, $079873fc3f2b5f81$export$226b3eccf92c9ed9)(propValue)(\"string\", \"number\")) return {\n        inheritedString: propValue\n    };\n    return propValue;\n};\nconst $045c563bb4b0b2eb$export$d25057a75c14aff7 = (element, parent)=>{\n    let propsStack = [];\n    const parentProps = (0, $6348a97baa20d8d9$export$78e3044358792147)(parent, parent.state).props;\n    const matchParent = parent.props && parentProps[element.key];\n    const matchParentIsString = (0, $079873fc3f2b5f81$export$844ec244b1367d54)(matchParent);\n    const matchParentChildProps = parentProps && parentProps.childProps;\n    if (matchParent) {\n        if (matchParentIsString) {\n            const inheritedStringExists = propsStack.filter((v)=>v.inheritedString)[0];\n            if (inheritedStringExists) inheritedStringExists.inheritedString = matchParent;\n            else propsStack = [].concat($045c563bb4b0b2eb$var$objectizeStringProperty(matchParent), propsStack);\n        } else propsStack.push($045c563bb4b0b2eb$var$objectizeStringProperty(matchParent));\n    }\n    if (matchParentChildProps) propsStack.push(matchParentChildProps);\n    return propsStack;\n};\n\n\n\"use strict\";\nconst $e818f1ed291a38e8$var$createPropsStack = (element, parent)=>{\n    const { props: props, __ref: __ref } = element;\n    const propsStack = __ref.__props = (0, $045c563bb4b0b2eb$export$d25057a75c14aff7)(element, parent);\n    if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(props)) propsStack.push(props);\n    else if (props === \"inherit\" && parent.props) propsStack.push(parent.props);\n    else if (props) propsStack.push(props);\n    if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(__ref.__extend)) __ref.__extend.forEach((extend)=>{\n        if (extend.props && extend.props !== props) propsStack.push(extend.props);\n    });\n    __ref.__props = propsStack;\n    return propsStack;\n};\nconst $e818f1ed291a38e8$export$b23ca50362483f82 = (props, element)=>{\n    element.props = {};\n    const mergedProps = {};\n    props.forEach((v)=>{\n        if ((0, $c6321d44fd66ade0$export$431871e52735632b).includes(v)) return;\n        const execProps = (0, $6348a97baa20d8d9$export$78e3044358792147)(v, element);\n        // TODO: check if this failing the function props merge\n        // if (isObject(execProps) && execProps.__element) return\n        // it was causing infinite loop at early days\n        element.props = (0, $6348a97baa20d8d9$export$6969335ea1e4e77c)(mergedProps, (0, $6348a97baa20d8d9$export$b7d58db314e0ac27)(execProps, (0, $c6321d44fd66ade0$export$431871e52735632b)), (0, $c6321d44fd66ade0$export$431871e52735632b));\n    });\n    element.props = mergedProps;\n    const methods = {\n        update: $e818f1ed291a38e8$var$update.bind(element.props),\n        __element: element\n    };\n    Object.setPrototypeOf(element.props, methods);\n    return element.props;\n};\nconst $e818f1ed291a38e8$export$c94ea207b45fef3a = function(element, parent, cached) {\n    const { __ref: ref } = element;\n    // if (element.parent.key === '0' && element.key === 'editor') {\n    //   debugger\n    // }\n    const applyProps = ()=>{\n        const propsStack = cached || $e818f1ed291a38e8$var$createPropsStack(element, parent);\n        if (propsStack.length) {\n            ref.__props = propsStack;\n            $e818f1ed291a38e8$export$b23ca50362483f82(propsStack, element);\n        } else {\n            ref.__props = cached || [];\n            element.props = {};\n        }\n    };\n    if (ref.__if) applyProps();\n    else try {\n        applyProps();\n    } catch  {\n        element.props = {};\n        ref.__props = cached || [];\n    }\n    const methods = {\n        update: $e818f1ed291a38e8$var$update.bind(element.props),\n        __element: element\n    };\n    Object.setPrototypeOf(element.props, methods);\n    return element;\n};\nfunction $e818f1ed291a38e8$var$update(props, options) {\n    const element = this.__element;\n    element.update({\n        props: props\n    }, options);\n}\n\n\n\n\n\n\"use strict\";\nconst $902e7fcbfa0a2596$export$c8dce3c08436e91e = (newProps, element, parent)=>{\n    const { __ref: __ref } = element;\n    let propsStack = __ref.__props;\n    const parentProps = (0, $045c563bb4b0b2eb$export$d25057a75c14aff7)(element, parent);\n    if (parentProps.length) propsStack = __ref.__props = [].concat(parentProps, propsStack);\n    if (newProps) propsStack = __ref.__props = [].concat(newProps, propsStack);\n    if (propsStack) (0, $e818f1ed291a38e8$export$b23ca50362483f82)(propsStack, element);\n    return element;\n};\n\n\n\"use strict\";\n\n\n\n\"use strict\";\nconst $9dbe2fe74e93fc61$export$7f0c3d30e5984c9d = (0, $d0530a7c3063b815$export$fc359ae9633f7296)([\n    \"node\",\n    \"state\",\n    \"context\",\n    \"extend\"\n], (0, $d61abc47c39ce5ac$export$f0748ddc99f937c7), (0, $bfb47641e396194b$export$5100524046ce8de6), (0, $c6321d44fd66ade0$export$431871e52735632b));\nconst $9dbe2fe74e93fc61$export$6969335ea1e4e77c = (element, extend, exclude = $9dbe2fe74e93fc61$export$7f0c3d30e5984c9d)=>{\n    for(const e in extend){\n        if (exclude.includes(e)) continue;\n        const elementProp = element[e];\n        const extendProp = extend[e];\n        if (elementProp === undefined) element[e] = extendProp;\n        else if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(elementProp) && (0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(extendProp)) $9dbe2fe74e93fc61$export$6969335ea1e4e77c(elementProp, extendProp);\n    }\n    return element;\n};\nconst $9dbe2fe74e93fc61$export$9cd59f9826255e47 = (obj, exclude = $9dbe2fe74e93fc61$export$7f0c3d30e5984c9d)=>{\n    const o = {};\n    for(const e in obj){\n        if (exclude.includes(e)) continue;\n        o[e] = obj[e];\n    }\n    return o;\n};\nconst $9dbe2fe74e93fc61$export$b7d58db314e0ac27 = (obj, exclude = $9dbe2fe74e93fc61$export$7f0c3d30e5984c9d)=>{\n    const o = (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(obj) ? [] : {};\n    for(const e in obj){\n        if (exclude.includes(e)) continue;\n        let objProp = obj[e];\n        if (e === \"extend\" && (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(objProp)) objProp = $9dbe2fe74e93fc61$export$fd2fbaf2367ef824(objProp, exclude);\n        if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(objProp)) o[e] = $9dbe2fe74e93fc61$export$b7d58db314e0ac27(objProp, exclude);\n        else o[e] = objProp;\n    }\n    return o;\n};\nconst $9dbe2fe74e93fc61$export$d3305692eb3e9a81 = (element, params, options)=>{\n    const changes = {};\n    const { __ref: __ref } = element;\n    const { __exec: __exec, __cached: __cached } = __ref;\n    for(const e in params){\n        if (e === \"props\" || e === \"state\" || e === \"__ref\") continue;\n        const elementProp = element[e];\n        const paramsProp = params[e];\n        if (paramsProp !== undefined) {\n            __cached[e] = changes[e] = elementProp;\n            element[e] = paramsProp;\n        }\n        if (options.cleanExec) delete __exec[e];\n    }\n    return changes;\n};\nconst $9dbe2fe74e93fc61$export$1c07155dfdd98f41 = (obj, params, exclude = $9dbe2fe74e93fc61$export$7f0c3d30e5984c9d)=>{\n    for(const e in params){\n        if (exclude.includes(e)) continue;\n        obj[e] = params[e];\n    }\n    return obj;\n};\nconst $9dbe2fe74e93fc61$export$f0b277b530b4fffd = (obj, params, exclude = $9dbe2fe74e93fc61$export$7f0c3d30e5984c9d)=>{\n    for(const e in params){\n        if (exclude.includes(e)) continue;\n        const objProp = obj[e];\n        const paramsProp = params[e];\n        if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(objProp) && (0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(paramsProp)) $9dbe2fe74e93fc61$export$f0b277b530b4fffd(objProp, paramsProp);\n        else if (paramsProp !== undefined) obj[e] = paramsProp;\n    }\n    return obj;\n};\nconst $9dbe2fe74e93fc61$export$7bde6dffa6d2dd59 = (a, b)=>{\n    if ((0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(a) && (0, $079873fc3f2b5f81$export$c10d0b04eaa80a43)(b)) return $9dbe2fe74e93fc61$export$6969335ea1e4e77c(a, b);\n    return a || b;\n};\nconst $9dbe2fe74e93fc61$export$fd2fbaf2367ef824 = (arr, exclude = [\n    \"parent\",\n    \"node\",\n    \"__element\",\n    \"state\",\n    \"context\",\n    \"__ref\"\n])=>{\n    return arr.reduce((a, c)=>$9dbe2fe74e93fc61$export$6969335ea1e4e77c(a, $9dbe2fe74e93fc61$export$b7d58db314e0ac27(c, exclude)), {});\n};\nconst $9dbe2fe74e93fc61$export$803a4c6bdde5cd1d = (obj)=>{\n    return (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(obj) ? $9dbe2fe74e93fc61$export$fd2fbaf2367ef824(obj) : $9dbe2fe74e93fc61$export$b7d58db314e0ac27(obj);\n};\nconst $9dbe2fe74e93fc61$export$d53c2c5b09d0676f = (param, prop, stack = [])=>{\n    const objectized = $9dbe2fe74e93fc61$export$803a4c6bdde5cd1d(param);\n    stack.push(objectized);\n    const extendOfExtend = objectized[prop];\n    if (extendOfExtend) $9dbe2fe74e93fc61$export$d53c2c5b09d0676f(extendOfExtend, prop, stack);\n    delete objectized[prop];\n    return stack;\n};\n\n\n\n\"use strict\";\nconst $ce326eb5cdcc3ce9$var$ENV = \"production\";\nconst $ce326eb5cdcc3ce9$export$daf4c137c5f56404 = ()=>Math.random().toString(36).substring(2);\nconst $ce326eb5cdcc3ce9$export$476cb8ab9adcdb0d = {};\nconst $ce326eb5cdcc3ce9$export$bc442b6cc8c83971 = {};\nconst $ce326eb5cdcc3ce9$export$46ce3405574370c6 = (extend)=>{\n    return $ce326eb5cdcc3ce9$export$476cb8ab9adcdb0d[extend.__hash];\n};\nconst $ce326eb5cdcc3ce9$export$8c8f2806a2edf07f = (extend, stack)=>{\n    const hash = $ce326eb5cdcc3ce9$export$daf4c137c5f56404();\n    if (!(0, $079873fc3f2b5f81$export$844ec244b1367d54)(extend)) extend.__hash = hash;\n    $ce326eb5cdcc3ce9$export$476cb8ab9adcdb0d[hash] = stack;\n    return stack;\n};\nconst $ce326eb5cdcc3ce9$export$6ef9dd655b57622a = (extend, stack)=>{\n    if (extend.__hash) return stack.concat($ce326eb5cdcc3ce9$export$46ce3405574370c6(extend));\n    return $ce326eb5cdcc3ce9$export$8c8f2806a2edf07f(extend, stack) // stack .concat(hashedExtend)\n    ;\n};\nconst $ce326eb5cdcc3ce9$export$2c118161a655606a = (extend, stack, context)=>{\n    extend.forEach((each)=>$ce326eb5cdcc3ce9$export$802e3e1ed5ecb3f2(each, stack, context));\n    return stack;\n};\nconst $ce326eb5cdcc3ce9$export$54e9fb29908872fa = (extend, stack, context)=>{\n    const extendOflattenExtend = extend.extend;\n    if (extendOflattenExtend) $ce326eb5cdcc3ce9$export$802e3e1ed5ecb3f2(extendOflattenExtend, stack, context);\n    return stack;\n};\nconst $ce326eb5cdcc3ce9$export$802e3e1ed5ecb3f2 = (extend, stack, context)=>{\n    if (!extend) return stack;\n    if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(extend)) return $ce326eb5cdcc3ce9$export$2c118161a655606a(extend, stack, context);\n    if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(extend)) extend = $ce326eb5cdcc3ce9$export$ade1aefc7d5ec315(extend, context);\n    stack.push(extend);\n    if (extend.extend) $ce326eb5cdcc3ce9$export$54e9fb29908872fa(extend, stack, context);\n    return stack;\n};\nconst $ce326eb5cdcc3ce9$export$16fb354ab895483c = (obj)=>{\n    const o = {};\n    for(const prop in obj){\n        if ([\n            \"parent\",\n            \"node\",\n            \"__element\"\n        ].indexOf(prop) > -1) continue;\n        const objProp = obj[prop];\n        if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(objProp)) o[prop] = $ce326eb5cdcc3ce9$export$16fb354ab895483c(objProp);\n        else if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(objProp)) o[prop] = objProp.map((x)=>x);\n        else o[prop] = objProp;\n    }\n    return o;\n};\nconst $ce326eb5cdcc3ce9$export$d20ceec222df68ed = (element, extend)=>{\n    for(const e in extend){\n        if ([\n            \"parent\",\n            \"node\",\n            \"__element\"\n        ].indexOf(e) > -1) continue;\n        const elementProp = element[e];\n        const extendProp = extend[e];\n        if (elementProp === undefined) element[e] = extendProp;\n        else if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(elementProp) && (0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(extendProp)) $ce326eb5cdcc3ce9$export$d20ceec222df68ed(elementProp, extendProp);\n        else if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(elementProp) && (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(extendProp)) element[e] = elementProp.concat(extendProp);\n        else if ((0, $079873fc3f2b5f81$export$43bee75e5e14138e)(elementProp) && (0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(extendProp)) {\n            const obj = $ce326eb5cdcc3ce9$export$d20ceec222df68ed({}, elementProp);\n            element[e] = $ce326eb5cdcc3ce9$export$d20ceec222df68ed(obj, extendProp);\n        } else if (elementProp === undefined && (0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(extendProp)) element[e] = extendProp;\n    }\n    return element;\n};\nconst $ce326eb5cdcc3ce9$export$e2e460d82983fb19 = (stack)=>{\n    return stack.reduce((a, c)=>{\n        return $ce326eb5cdcc3ce9$export$d20ceec222df68ed(a, $ce326eb5cdcc3ce9$export$16fb354ab895483c(c));\n    }, {});\n};\nconst $ce326eb5cdcc3ce9$export$ade1aefc7d5ec315 = (extend, context, options = {})=>{\n    const COMPONENTS = context && context.components || options.components;\n    if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(extend)) {\n        const componentExists = COMPONENTS[extend] || COMPONENTS[\"smbls.\" + extend];\n        if (COMPONENTS && componentExists) return componentExists;\n        else {\n            if ($ce326eb5cdcc3ce9$var$ENV !== \"test\" || $ce326eb5cdcc3ce9$var$ENV !== \"development\") console.warn(\"Extend is string but component was not found:\", extend);\n            return {};\n        }\n    }\n    return extend;\n};\nconst $ce326eb5cdcc3ce9$export$f9f936cf352c3af2 = (extendStack, childExtendStack)=>{\n    return [].concat(extendStack.slice(0, 1)).concat(childExtendStack.slice(0, 1)).concat(extendStack.slice(1)).concat(childExtendStack.slice(1));\n};\nconst $ce326eb5cdcc3ce9$export$a0203ee23029af7e = (extend, context)=>{\n    if (!extend) return [];\n    if (extend.__hash) return $ce326eb5cdcc3ce9$export$46ce3405574370c6(extend) || [];\n    const stack = $ce326eb5cdcc3ce9$export$802e3e1ed5ecb3f2(extend, [], context);\n    return $ce326eb5cdcc3ce9$export$6ef9dd655b57622a(extend, stack);\n};\nconst $ce326eb5cdcc3ce9$export$52f1fe7126b651a = (extend)=>{\n    const stack = $ce326eb5cdcc3ce9$export$a0203ee23029af7e(extend);\n    return $ce326eb5cdcc3ce9$export$e2e460d82983fb19(stack);\n} // export const replaceStringsWithComponents = (stack, context, options) => {\n //   const COMPONENTS = (context && context.components) || options.components\n //   return stack.map(v => {\n //     if (isString(v)) {\n //       const component = COMPONENTS[v]\n //       return component\n //     }\n //     if (isString(v.extend)) {\n //       v.extend = getExtendMerged(COMPONENTS[v.extend])\n //     }\n //     return v\n //   })\n // }\n;\n\n\n\n\n\n\"use strict\";\nconst $3bff1c984b824aeb$var$ENV = \"production\";\nconst $3bff1c984b824aeb$export$f20941eae6723bcc = (element, parent, options = {})=>{\n    if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(element)) element = (0, $6348a97baa20d8d9$export$78e3044358792147)(element, parent);\n    let { extend: extend, props: props, context: context, __ref: __ref } = element;\n    extend = (0, $ce326eb5cdcc3ce9$export$ade1aefc7d5ec315)(extend, context, options);\n    const extendStack = (0, $ce326eb5cdcc3ce9$export$a0203ee23029af7e)(extend, context);\n    if ($3bff1c984b824aeb$var$ENV !== \"test\" || $3bff1c984b824aeb$var$ENV !== \"development\") delete element.extend;\n    let childExtendStack = [];\n    if (parent) {\n        element.parent = parent;\n        // Assign parent attr to the element\n        if (!options.ignoreChildExtend && !(props && props.ignoreChildExtend)) {\n            childExtendStack = (0, $ce326eb5cdcc3ce9$export$a0203ee23029af7e)(parent.childExtend, context);\n            const ignoreChildExtendRecursive = props && props.ignoreChildExtendRecursive;\n            if (parent.childExtendRecursive && !ignoreChildExtendRecursive) {\n                const canExtendRecursive = element.key !== \"__text\";\n                if (canExtendRecursive) {\n                    const childExtendRecursiveStack = (0, $ce326eb5cdcc3ce9$export$a0203ee23029af7e)(parent.childExtendRecursive, context);\n                    // add error if childExtendRecursive contains element which goes to infinite loop\n                    childExtendStack = childExtendStack.concat(childExtendRecursiveStack);\n                    element.childExtendRecursive = parent.childExtendRecursive;\n                }\n            }\n        }\n    }\n    const extendLength = extendStack.length;\n    const childExtendLength = childExtendStack.length;\n    let stack = [];\n    if (extendLength && childExtendLength) stack = (0, $ce326eb5cdcc3ce9$export$f9f936cf352c3af2)(extendStack, childExtendStack);\n    else if (extendLength) stack = extendStack;\n    else if (childExtendLength) stack = childExtendStack;\n    else if (!options.extend) return element;\n    if (options.extend) {\n        const defaultOptionsExtend = (0, $ce326eb5cdcc3ce9$export$a0203ee23029af7e)(options.extend, context);\n        stack = [].concat(stack, defaultOptionsExtend);\n    }\n    // check if array contains string extends\n    if (__ref) __ref.__extend = stack;\n    let mergedExtend = (0, $ce326eb5cdcc3ce9$export$e2e460d82983fb19)(stack);\n    // apply `component:` property\n    const COMPONENTS = context && context.components || options.components;\n    const component = (0, $6348a97baa20d8d9$export$78e3044358792147)(element.component || mergedExtend.component, element);\n    if (component && COMPONENTS && COMPONENTS[component]) {\n        const componentExtend = (0, $ce326eb5cdcc3ce9$export$e2e460d82983fb19)((0, $ce326eb5cdcc3ce9$export$a0203ee23029af7e)(COMPONENTS[component]));\n        mergedExtend = (0, $ce326eb5cdcc3ce9$export$d20ceec222df68ed)(componentExtend, mergedExtend);\n    }\n    return (0, $ce326eb5cdcc3ce9$export$d20ceec222df68ed)(element, mergedExtend);\n};\n\n\n\"use strict\";\nconst $a6bfc6202982ac85$var$ENV = \"production\";\nconst $a6bfc6202982ac85$export$b791484194c5fc38 = (key)=>{\n    const isFirstKeyString = (0, $079873fc3f2b5f81$export$844ec244b1367d54)(key);\n    if (!isFirstKeyString) return;\n    const firstCharKey = key.slice(0, 1);\n    return /^[A-Z]*$/.test(firstCharKey);\n};\nconst $a6bfc6202982ac85$export$356ecc5e07374be5 = (newExtend, element)=>{\n    const { extend: elementExtend } = element;\n    const originalArray = (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(elementExtend) ? elementExtend : [\n        elementExtend\n    ];\n    const receivedArray = (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(newExtend) ? newExtend : [\n        newExtend\n    ];\n    const extend = (0, $d0530a7c3063b815$export$fc359ae9633f7296)(receivedArray, originalArray);\n    return {\n        ...element,\n        extend: extend\n    };\n};\nconst $a6bfc6202982ac85$export$c786485ace8eb69b = (element, parent, key)=>{\n    const { context: context, tag: tag, extend: extend, props: props, attr: attr, state: state, childExtend: childExtend, childProps: childProps, on: on, if: condition } = element;\n    const hasComponentAttrs = extend || childExtend || props || state || on || condition || attr;\n    const extendFromKey = key.includes(\"+\") ? key.split(\"+\") : key.includes(\"_\") ? key.split(\"_\")[0] : key.includes(\".\") ? key.split(\".\")[0] : key;\n    const isExtendKeyComponent = context?.components[extendFromKey];\n    if (element === isExtendKeyComponent) return element;\n    else if (!hasComponentAttrs || childProps) return {\n        extend: extendFromKey,\n        tag: tag,\n        props: {\n            ...element\n        }\n    };\n    else if (!extend || extend === true) return {\n        ...element,\n        tag: tag,\n        extend: extendFromKey\n    };\n    else if (extend) return $a6bfc6202982ac85$export$356ecc5e07374be5(extendFromKey, element);\n    else if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(element)) return {\n        extend: extendFromKey,\n        tag: tag,\n        props: {\n            ...(0, $6348a97baa20d8d9$export$78e3044358792147)(element, parent)\n        }\n    };\n};\nconst $a6bfc6202982ac85$export$2279e5e6b0817ddc = (element, parent, key)=>{\n    return $a6bfc6202982ac85$export$c786485ace8eb69b(element, parent, key) || element;\n};\nconst $a6bfc6202982ac85$export$fd6b2f481ffc7974 = (element, parent, options)=>{\n    const { context: context } = element;\n    if (!context || !context.components) return;\n    const { components: components } = context;\n    const { extend: extend } = element;\n    const execExtend = (0, $6348a97baa20d8d9$export$78e3044358792147)(extend, element);\n    if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(execExtend)) {\n        const componentExists = components[execExtend] || components[\"smbls.\" + execExtend];\n        if (componentExists) element.extend = componentExists;\n        else {\n            if (($a6bfc6202982ac85$var$ENV === \"test\" || $a6bfc6202982ac85$var$ENV === \"development\") && options.verbose) {\n                console.warn(execExtend, \"is not in library\", components, element);\n                console.warn(\"replacing with \", {});\n            }\n            element.extend = {};\n        }\n    }\n};\nconst $a6bfc6202982ac85$export$53cd1a145c393044 = (param)=>{\n    if (!(0, $079873fc3f2b5f81$export$844ec244b1367d54)(param)) return;\n    const firstCharKey = param.slice(0, 1);\n    // return (firstCharKey === '.' || firstCharKey === '$')\n    return firstCharKey === \".\";\n};\nconst $a6bfc6202982ac85$export$c66af1c05bf7bb06 = (element)=>{\n    const { props: props } = element;\n    if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(props) && (0, $079873fc3f2b5f81$export$844ec244b1367d54)(props.variant)) return true;\n};\nconst $a6bfc6202982ac85$export$a9aa73f3ae416cbd = (element, variant, variantProps)=>{\n    let variantElement = element[variant];\n    if (!variantElement) return;\n    const props = (0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(variantProps) ? variantProps : {};\n    if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(variantElement)) variantElement = {\n        extend: [\n            {\n                props: props\n            },\n            variantElement\n        ]\n    };\n    else if (variantElement.extend) variantElement = $a6bfc6202982ac85$export$356ecc5e07374be5({\n        props: props\n    }, variantElement);\n    return (0, $6348a97baa20d8d9$export$f0b277b530b4fffd)(element, (0, $3bff1c984b824aeb$export$f20941eae6723bcc)(variantElement)) // TODO: check why string is not working\n    ;\n};\nconst $a6bfc6202982ac85$export$f1439fc936ef702f = (element)=>{\n    const { props: props } = element;\n    if (!$a6bfc6202982ac85$export$c66af1c05bf7bb06(element)) return element;\n    const { variant: variant } = props;\n    $a6bfc6202982ac85$export$a9aa73f3ae416cbd(element, `.${variant}`);\n    const elKeys = Object.keys(element).filter((key)=>$a6bfc6202982ac85$export$53cd1a145c393044(key));\n    elKeys.forEach((variant)=>{\n        const slicedVariantElementKey = variant.slice(1);\n        const variantElementProps = props[slicedVariantElementKey];\n        if (variantElementProps) $a6bfc6202982ac85$export$a9aa73f3ae416cbd(element, variant, variantElementProps);\n    });\n    return element;\n};\n\n\n\"use strict\";\n\n\n\n\"use strict\";\nconst $0513b3ed7d5404ec$export$3223a9877c540db8 = (element, exclude = {})=>{\n    const { __ref: ref } = element;\n    for(const param in element){\n        if (exclude[param]) continue;\n        const prop = element[param];\n        if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(prop) && !(0, $d61abc47c39ce5ac$export$ed2133acb96eb5aa)(param) && !(0, $a6bfc6202982ac85$export$53cd1a145c393044)(param)) {\n            ref.__exec[param] = prop;\n            element[param] = prop(element, element.state);\n        // if (isComponent)\n        }\n    }\n};\nconst $0513b3ed7d5404ec$export$2ad800d85590910f = (element, options = {\n    excludes: (0, $9dbe2fe74e93fc61$export$7f0c3d30e5984c9d)\n})=>{\n    const { __ref: ref } = element;\n    const changes = {};\n    for(const param in ref.__exec){\n        const prop = element[param];\n        const isDefinedParam = ref.__defineCache[param];\n        if (isDefinedParam) continue;\n        const newExec = ref.__exec[param](element, element.state, element.context);\n        const execReturnsString = (0, $079873fc3f2b5f81$export$844ec244b1367d54)(newExec) || (0, $079873fc3f2b5f81$export$7e4aa119212bc614)(newExec);\n        // if (prop && prop.node && execReturnsString) {\n        if (prop && prop.node && execReturnsString) (0, $9dbe2fe74e93fc61$export$d3305692eb3e9a81)(prop, {\n            text: newExec\n        }, options);\n        else if (newExec !== prop) {\n            if ((0, $a6bfc6202982ac85$export$b791484194c5fc38)(param)) {\n                const { extend: extend, ...newElem } = (0, $a6bfc6202982ac85$export$c786485ace8eb69b)(newExec, element, param);\n                (0, $9dbe2fe74e93fc61$export$d3305692eb3e9a81)(prop, newElem, options);\n            // } else {\n            //   overwrite(prop, newExec, options)\n            } else {\n                ref.__cached[param] = changes[param] = prop;\n                element[param] = newExec;\n            }\n        }\n    }\n    return changes;\n};\nconst $0513b3ed7d5404ec$export$b4c781127351659b = (element)=>{\n    const { define: define, context: context, __ref: ref } = element;\n    let defineObj = {};\n    const hasGlobalDefine = context && (0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(context.define);\n    if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(define)) defineObj = {\n        ...define\n    };\n    if (hasGlobalDefine) defineObj = {\n        ...defineObj,\n        ...context.define\n    };\n    for(const param in defineObj){\n        let elementProp = element[param];\n        if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(elementProp) && !(0, $d61abc47c39ce5ac$export$ed2133acb96eb5aa)(param) && !(0, $a6bfc6202982ac85$export$53cd1a145c393044)(param)) {\n            ref.__exec[param] = elementProp;\n            const execParam = elementProp = (0, $6348a97baa20d8d9$export$78e3044358792147)(elementProp, element);\n            if (execParam) {\n                elementProp = element[param] = execParam.parse ? execParam.parse() : execParam;\n                ref.__defineCache[param] = elementProp;\n            }\n        }\n        const execParam = defineObj[param](elementProp, element, element.state, element.context);\n        if (execParam) element[param] = execParam;\n    }\n    return element;\n};\nconst $0513b3ed7d5404ec$export$88eda8a7eb5c5eff = (element)=>{\n    const { context: context, define: define, __ref: ref } = element;\n    const changes = {};\n    let obj = {};\n    if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(define)) obj = {\n        ...define\n    };\n    if ((0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(context && context.define)) obj = {\n        ...obj,\n        ...context.define\n    };\n    for(const param in obj){\n        const execParam = ref.__exec[param];\n        if (execParam) ref.__defineCache[param] = execParam(element, element.state, element.context);\n        const cached = (0, $6348a97baa20d8d9$export$78e3044358792147)(ref.__defineCache[param], element);\n        const newExecParam = obj[param](cached, element, element.state, element.context);\n        if (newExecParam) element[param] = newExecParam;\n    }\n    return changes;\n};\n\n\n\n\n\n\"use strict\";\nconst $68d3ab890627ea70$export$535107f3c159da5d = (param, element, options)=>{\n    const { node: node, context: context, __ref: ref } = element;\n    const prop = element[param];\n    const DOMQLProperty = (0, $782cf63e523d0885$export$2e2bcd8739ae039)[param];\n    const DOMQLPropertyFromContext = context && context.registry && context.registry[param];\n    const isGlobalTransformer = DOMQLPropertyFromContext || DOMQLProperty;\n    const hasDefine = element.define && element.define[param];\n    const hasContextDefine = context && context.define && context.define[param];\n    if (!ref.__if) return;\n    if (isGlobalTransformer && !hasContextDefine) {\n        if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(isGlobalTransformer)) {\n            isGlobalTransformer(prop, element, node, options);\n            return;\n        }\n    }\n    return {\n        hasDefine: hasDefine,\n        hasContextDefine: hasContextDefine\n    };\n};\n\n\n\n\"use strict\";\n// import { defineSetter } from './methods'\nconst $4e214d02be0ddce7$var$ENV = \"production\";\nconst $4e214d02be0ddce7$export$270e7ba5936d3c48 = (element, options)=>{\n    // create and assign a node\n    let { node: node, tag: tag, __ref: ref } = element;\n    let isNewNode;\n    if (!node) {\n        isNewNode = true;\n        if (!ref.__if) return element;\n        if (tag === \"shadow\") node = element.node = element.parent.node.attachShadow({\n            mode: \"open\"\n        });\n        else node = element.node = (0, $01ef634a92434650$export$257247f9c0329159)(element);\n        // trigger `on.attachNode`\n        (0, $33936e69aa63c9cd$export$1bc010482b845252)(\"attachNode\", element, options);\n    }\n    // node.dataset // .key = element.key\n    if ($4e214d02be0ddce7$var$ENV === \"test\" || $4e214d02be0ddce7$var$ENV === \"development\" || options.alowRefReference) {\n        node.ref = element;\n        if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(node.setAttribute)) node.setAttribute(\"key\", element.key);\n    }\n    // iterate through define\n    (0, $0513b3ed7d5404ec$export$b4c781127351659b)(element);\n    // iterate through exec\n    (0, $0513b3ed7d5404ec$export$3223a9877c540db8)(element);\n    if (element.tag !== \"string\" && element.tag !== \"fragment\") // apply events\n    {\n        if (isNewNode && (0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(element.on)) (0, $33936e69aa63c9cd$export$1f7cb486ba1f8a10)(element, options);\n    }\n    for(const param in element){\n        const value = element[param];\n        if ((0, $079873fc3f2b5f81$export$fce6876652108ab)(value) || (0, $d61abc47c39ce5ac$export$ed2133acb96eb5aa)(param) || (0, $a6bfc6202982ac85$export$53cd1a145c393044)(param) || (0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)((0, $782cf63e523d0885$export$2e2bcd8739ae039)[param])) continue;\n        const isElement = (0, $68d3ab890627ea70$export$535107f3c159da5d)(param, element, options);\n        if (isElement) {\n            const { hasDefine: hasDefine, hasContextDefine: hasContextDefine } = isElement;\n            if (element[param] && !hasDefine && !hasContextDefine) {\n                const createAsync = ()=>(0, $947d5c063e68e91c$export$2e2bcd8739ae039)((0, $6348a97baa20d8d9$export$78e3044358792147)(value, element), element, param, options);\n                if (element.props && element.props.lazyLoad || options.lazyLoad) window.requestAnimationFrame(()=>createAsync());\n                else createAsync();\n            }\n        }\n    }\n    // node.dataset.key = key\n    return element;\n};\nvar $4e214d02be0ddce7$export$2e2bcd8739ae039 = $4e214d02be0ddce7$export$270e7ba5936d3c48;\n\n\n\n\n\"use strict\";\nconst $5fc178d8c3a9e6de$export$5c3eb765ea0f1dc2 = {\n    key: {},\n    tag: {},\n    if: {},\n    define: {},\n    attr: {},\n    style: {},\n    content: {},\n    class: {},\n    props: {},\n    state: {},\n    method: {},\n    transform: {},\n    on: {},\n    ref: {},\n    extend: {},\n    childExtend: {},\n    text: (element, state)=>{\n        element.ref.text = {\n            tag: \"text\",\n            text: (0, $6348a97baa20d8d9$export$78e3044358792147)(element.text, element, state)\n        };\n    },\n    innerHTML: {},\n    set: {},\n    update: {},\n    remove: {}\n} // log: {}\n // value: {},\n // text: {},\n // html: {},\n // path: {},\n // data: {},\n // if: {},\n // __hash: {},\n // __cache: {},\n // __defined: {},\n // __exec: {},\n // __changes: {},\n // __trash: {},\n // __root: {},\n // __props: {},\n // __extend: {},\n // __ifFragment: {},\n // __ifFalsy: {},\n // parent: {},\n // node: {},\n // lookup: {},\n // keys: {},\n // parse: {},\n // parseDeep: {},\n;\n\n\n\"use strict\";\nconst $89442055fcdd5e8d$export$de435b1ae0c975f3 = {\n    root: [\n        \"body\",\n        \"html\"\n    ],\n    head: [\n        \"title\",\n        \"base\",\n        \"meta\",\n        \"style\"\n    ],\n    body: [\n        \"html\",\n        \"body\",\n        \"string\",\n        \"fragment\",\n        \"a\",\n        \"abbr\",\n        \"acronym\",\n        \"address\",\n        \"applet\",\n        \"area\",\n        \"article\",\n        \"aside\",\n        \"audio\",\n        \"b\",\n        \"basefont\",\n        \"bdi\",\n        \"bdo\",\n        \"big\",\n        \"blockquote\",\n        \"br\",\n        \"button\",\n        \"canvas\",\n        \"caption\",\n        \"center\",\n        \"cite\",\n        \"code\",\n        \"col\",\n        \"colgroup\",\n        \"data\",\n        \"datalist\",\n        \"dd\",\n        \"del\",\n        \"details\",\n        \"dfn\",\n        \"dialog\",\n        \"dir\",\n        \"div\",\n        \"dl\",\n        \"dt\",\n        \"em\",\n        \"embed\",\n        \"fieldset\",\n        \"figcaption\",\n        \"figure\",\n        \"font\",\n        \"footer\",\n        \"form\",\n        \"frame\",\n        \"frameset\",\n        \"h1\",\n        \"h2\",\n        \"h3\",\n        \"h4\",\n        \"h5\",\n        \"h6\",\n        \"head\",\n        \"header\",\n        \"hr\",\n        \"i\",\n        \"iframe\",\n        \"img\",\n        \"input\",\n        \"ins\",\n        \"kbd\",\n        \"label\",\n        \"legend\",\n        \"li\",\n        \"link\",\n        \"main\",\n        \"map\",\n        \"mark\",\n        \"meter\",\n        \"nav\",\n        \"noframes\",\n        \"noscript\",\n        \"object\",\n        \"ol\",\n        \"optgroup\",\n        \"option\",\n        \"output\",\n        \"p\",\n        \"param\",\n        \"picture\",\n        \"pre\",\n        \"progress\",\n        \"q\",\n        \"rp\",\n        \"rt\",\n        \"ruby\",\n        \"s\",\n        \"samp\",\n        \"script\",\n        \"section\",\n        \"select\",\n        \"small\",\n        \"source\",\n        \"span\",\n        \"strike\",\n        \"strong\",\n        \"sub\",\n        \"summary\",\n        \"sup\",\n        \"table\",\n        \"tbody\",\n        \"td\",\n        \"template\",\n        \"textarea\",\n        \"tfoot\",\n        \"th\",\n        \"thead\",\n        \"time\",\n        \"tr\",\n        \"track\",\n        \"tt\",\n        \"u\",\n        \"ul\",\n        \"var\",\n        \"video\",\n        \"wbr\",\n        // SVG\n        \"svg\",\n        \"path\"\n    ]\n};\n\n\n\"use strict\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\"use strict\";\nconst $196ad7400dcaf39e$var$snapshot = {\n    snapshotId: (0, $0961ea6318004278$export$6f8fb29fbb5b5b63)\n};\nconst $196ad7400dcaf39e$var$UPDATE_DEFAULT_OPTIONS = {\n    stackChanges: false,\n    cleanExec: true,\n    preventRecursive: false,\n    currentSnapshot: false,\n    calleeElement: false,\n    excludes: (0, $9dbe2fe74e93fc61$export$7f0c3d30e5984c9d)\n};\nconst $196ad7400dcaf39e$var$update = function(params = {}, options = $196ad7400dcaf39e$var$UPDATE_DEFAULT_OPTIONS) {\n    const element = this;\n    const { parent: parent, node: node, key: key } = element;\n    const { excludes: excludes, preventInheritAtCurrentState: preventInheritAtCurrentState } = options;\n    (0, $33936e69aa63c9cd$export$8fe90418b8a0fc1e)(\"startUpdate\", params, element, options);\n    if (preventInheritAtCurrentState && preventInheritAtCurrentState.__element === element) return;\n    if (!excludes) (0, $6348a97baa20d8d9$export$4950aa0f605343fb)(options, $196ad7400dcaf39e$var$UPDATE_DEFAULT_OPTIONS);\n    let ref = element.__ref;\n    if (!ref) ref = element.__ref = {};\n    const [snapshotOnCallee, calleeElement, snapshotHasUpdated] = $196ad7400dcaf39e$var$captureSnapshot(element, options);\n    if (snapshotHasUpdated) return;\n    if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(params) || (0, $079873fc3f2b5f81$export$7e4aa119212bc614)(params)) params = {\n        text: params\n    };\n    const inheritState = $196ad7400dcaf39e$var$inheritStateUpdates(element, options);\n    if (inheritState === false) return;\n    const ifFails = $196ad7400dcaf39e$var$checkIfOnUpdate(element, parent, options);\n    if (ifFails) return;\n    if (ref.__if && !options.preventPropsUpdate) {\n        const hasParentProps = parent.props && (parent.props[key] || parent.props.childProps);\n        const hasFunctionInProps = ref.__props.filter((v)=>(0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(v));\n        const props = params.props || hasParentProps || hasFunctionInProps.length;\n        if (props) (0, $902e7fcbfa0a2596$export$c8dce3c08436e91e)(props, element, parent);\n    }\n    if (!options.preventInitUpdateListener) {\n        const initUpdateReturns = (0, $33936e69aa63c9cd$export$8fe90418b8a0fc1e)(\"initUpdate\", params, element, options);\n        if (initUpdateReturns === false) return element;\n    }\n    const overwriteChanges = (0, $6348a97baa20d8d9$export$f0b277b530b4fffd)(element, params, (0, $9dbe2fe74e93fc61$export$7f0c3d30e5984c9d));\n    const execChanges = (0, $0513b3ed7d5404ec$export$2ad800d85590910f)(element, {\n        ignore: $196ad7400dcaf39e$var$UPDATE_DEFAULT_OPTIONS\n    });\n    const definedChanges = (0, $0513b3ed7d5404ec$export$88eda8a7eb5c5eff)(element);\n    if (!options.isForced) (0, $33936e69aa63c9cd$export$1bc010482b845252)(\"beforeClassAssign\", element, options);\n    if (options.stackChanges && element.__stackChanges) {\n        const stackChanges = (0, $6348a97baa20d8d9$export$4950aa0f605343fb)(definedChanges, (0, $6348a97baa20d8d9$export$4950aa0f605343fb)(execChanges, overwriteChanges));\n        element.__stackChanges.push(stackChanges);\n    }\n    if (!ref.__if) return false;\n    if (!node) // return createNode(element, options)\n    return;\n    for(const param in element){\n        const prop = element[param];\n        const hasOnlyUpdateFalsy = options.onlyUpdate && (options.onlyUpdate !== param || !element.lookup(options.onlyUpdate));\n        const isInPreventUpdate = (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(options.preventUpdate) && options.preventUpdate.includes(param);\n        const isInPreventDefineUpdate = (0, $079873fc3f2b5f81$export$43bee75e5e14138e)(options.preventDefineUpdate) && options.preventDefineUpdate.includes(param);\n        if ((0, $079873fc3f2b5f81$export$fce6876652108ab)(prop) || hasOnlyUpdateFalsy || isInPreventUpdate || isInPreventDefineUpdate || options.preventDefineUpdate === true || options.preventDefineUpdate === param || options.preventContentUpdate && param === \"content\" || (options.preventStateUpdate && param) === \"state\" || (0, $d61abc47c39ce5ac$export$ed2133acb96eb5aa)(param) || (0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)((0, $782cf63e523d0885$export$2e2bcd8739ae039)[param]) || (0, $a6bfc6202982ac85$export$53cd1a145c393044)(param)) continue;\n        if (options.preventStateUpdate === \"once\") options.preventStateUpdate = false;\n        const isElement = (0, $68d3ab890627ea70$export$535107f3c159da5d)(param, element, options);\n        if (isElement) {\n            const { hasDefine: hasDefine, hasContextDefine: hasContextDefine } = isElement;\n            const canUpdate = (0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)(prop) && !hasDefine && !hasContextDefine && !options.preventRecursive;\n            if (!canUpdate) continue;\n            const lazyLoad = element.props.lazyLoad || options.lazyLoad;\n            const childUpdateCall = ()=>$196ad7400dcaf39e$var$update.call(prop, params[prop], {\n                    ...options,\n                    currentSnapshot: snapshotOnCallee,\n                    calleeElement: calleeElement\n                });\n            lazyLoad ? (0, $e33f3b456b841cc9$export$8291e5b88f90ce4).requestAnimationFrame(()=>childUpdateCall()) : childUpdateCall();\n        }\n    }\n    if (!options.preventUpdateListener) (0, $33936e69aa63c9cd$export$1bc010482b845252)(\"update\", element, options);\n};\nconst $196ad7400dcaf39e$var$captureSnapshot = (element, options)=>{\n    const ref = element.__ref;\n    const { currentSnapshot: currentSnapshot, calleeElement: calleeElement } = options;\n    const isCallee = calleeElement === element;\n    if (!calleeElement || isCallee) {\n        const createdStanpshot = $196ad7400dcaf39e$var$snapshot.snapshotId();\n        ref.__currentSnapshot = createdStanpshot;\n        return [\n            createdStanpshot,\n            element\n        ];\n    }\n    const snapshotOnCallee = ref.__currentSnapshot;\n    if (currentSnapshot < snapshotOnCallee) return [\n        snapshotOnCallee,\n        calleeElement,\n        true\n    ];\n    return [\n        snapshotOnCallee,\n        calleeElement\n    ];\n};\nconst $196ad7400dcaf39e$var$checkIfOnUpdate = (element, parent, options)=>{\n    if (!(0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(element.if) || !parent) return;\n    const ref = element.__ref;\n    const ifPassed = element.if(element, element.state, element.context, options);\n    const itWasFalse = ref.__if !== true;\n    if (ifPassed) {\n        ref.__if = true;\n        if (itWasFalse) {\n            delete element.__hash;\n            delete element.extend;\n            if (!ref.__hasRootState) delete element.state;\n            if (ref.__state) element.state = ref.__state;\n            element.node?.remove();\n            const previousElement = element.previousElement();\n            const nextElement = element.nextElement();\n            const hasPrevious = previousElement && previousElement.node;\n            const hasNext = nextElement && nextElement.node;\n            const attachOptions = (hasPrevious?.parentNode || hasNext?.parentNode) && {\n                position: hasPrevious ? \"after\" : hasNext ? \"before\" : null,\n                node: hasPrevious || hasNext\n            };\n            const created = (0, $947d5c063e68e91c$export$2e2bcd8739ae039)(element, parent, element.key, (0, $ad3d3b247d47f3a2$export$2e2bcd8739ae039).create, attachOptions);\n            // check preventUpdate for an array (Line: 87)\n            if (options.preventUpdate !== true && element.on && (0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(element.on.update)) (0, $33936e69aa63c9cd$export$27ca81ea148fa005)(element.on.update, created, created.state);\n            return created;\n        }\n    } else if (element.node && !ifPassed) {\n        element.node.remove();\n        delete ref.__if;\n    }\n};\n/**\n * Inherit state updates for a given element based on the specified options.\n *\n * @param {Object} element - The element to inherit state updates for.\n * @param {Object} options - Configuration options for state update inheritance.\n * @param {boolean} [options.preventUpdateTriggerStateUpdate] - If true, prevent triggering state updates.\n * @param {boolean} [options.isHoisted] - Whether the state is hoisted.\n * @param {boolean} [options.execStateFunction] - Execute the state functions.\n * @param {boolean} [options.stateFunctionOverwrite] - If true, overwrite (not merge) current state with what function returns.\n * @param {boolean} [options.preventInheritedStateUpdate] - If true, prevent inheriting state updates.\n * @param {boolean} [options.preventInitStateUpdateListener] - If true, prevent the 'initStateUpdated' event listener.\n * @param {boolean} [options.preventStateUpdateListener] - If true, prevent the 'stateUpdated' event listener.\n * @returns {boolean} - If returns false, it breaks the update function\n */ const $196ad7400dcaf39e$var$inheritStateUpdates = (element, options)=>{\n    const { __ref: ref } = element;\n    const stateKey = ref.__state;\n    const { parent: parent, state: state } = element;\n    const { preventUpdateTriggerStateUpdate: preventUpdateTriggerStateUpdate, isHoisted: isHoisted, execStateFunction: execStateFunction } = options;\n    if (preventUpdateTriggerStateUpdate) return;\n    // If does not have own state inherit from parent\n    if (!stateKey && !ref.__hasRootState) {\n        element.state = parent && parent.state || {};\n        return;\n    }\n    // If state is function, decide execution and apply setting a current state\n    const shouldForceFunctionState = (0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(stateKey) && !isHoisted && execStateFunction;\n    if (shouldForceFunctionState) {\n        const execState = (0, $6348a97baa20d8d9$export$78e3044358792147)(stateKey, element);\n        state.set(execState, {\n            ...options,\n            preventUpdate: true,\n            updatedByStateFunction: true\n        });\n        return;\n    }\n    // If state is string, find its value in the state tree\n    const keyInParentState = (0, $5fcb062e9eb35754$export$487549069bb5d2a9)(element, element.parent);\n    if (!keyInParentState || options.preventInheritedStateUpdate) return;\n    // Trigger on.initStateUpdated event\n    if (!options.preventInitStateUpdateListener) {\n        const initStateReturns = (0, $33936e69aa63c9cd$export$8fe90418b8a0fc1e)(\"initStateUpdated\", keyInParentState, element, options);\n        if (initStateReturns === false) return element;\n    }\n    // Recreate the state again\n    const newState = $196ad7400dcaf39e$var$createStateUpdate(element, parent, options);\n    // Trigger on.stateUpdated event\n    if (!options.preventStateUpdateListener) (0, $33936e69aa63c9cd$export$8fe90418b8a0fc1e)(\"stateUpdated\", newState.parse(), element, options);\n};\nconst $196ad7400dcaf39e$var$createStateUpdate = (element, parent, options)=>{\n    const __stateChildren = element.state.__children;\n    const newState = (0, $774f1a3b2fe82710$export$e6a0daad8304de)(element, parent);\n    element.state = newState;\n    for(const child in __stateChildren){\n        // check this for inherited states\n        if (newState[child]) newState.__children[child] = __stateChildren[child];\n        __stateChildren[child].parent = newState;\n    }\n    return newState;\n};\nvar $196ad7400dcaf39e$export$2e2bcd8739ae039 = $196ad7400dcaf39e$var$update;\n\n\n\n\n\"use strict\";\nconst $6587d89a5cc3b917$export$626ce79af72fc3d3 = (element, parent)=>{\n    const proto = {\n        set: (0, $bf937aebc888d68f$export$2e2bcd8739ae039).bind(element),\n        update: (0, $196ad7400dcaf39e$export$2e2bcd8739ae039).bind(element),\n        remove: (0, $d61abc47c39ce5ac$export$cd7f480d6b8286c3).bind(element),\n        updateContent: (0, $0a7669919424e35c$export$5143cc956eb9d8f6).bind(element),\n        removeContent: (0, $0a7669919424e35c$export$6e1d9b0d0e1e1def).bind(element),\n        setProps: (0, $d61abc47c39ce5ac$export$938ca3893886de06).bind(element),\n        lookup: (0, $d61abc47c39ce5ac$export$dfc7155ac0343b8).bind(element),\n        spotByPath: (0, $d61abc47c39ce5ac$export$cec27f102c074405).bind(element),\n        parse: (0, $d61abc47c39ce5ac$export$98e6a39c04603d36).bind(element),\n        parseDeep: (0, $d61abc47c39ce5ac$export$3ed0fe0c6a5387e2).bind(element),\n        keys: (0, $d61abc47c39ce5ac$export$ed97f33186d4b816).bind(element),\n        nextElement: (0, $d61abc47c39ce5ac$export$e87a5caa96444a37).bind(element),\n        previousElement: (0, $d61abc47c39ce5ac$export$1facc1d780a4d839).bind(element)\n    };\n    if ((0, $e6d79d7b0d7b5fe1$export$df77466336fe5355)()) proto.log = (0, $d61abc47c39ce5ac$export$bef1f36f5486a6a3).bind(element);\n    Object.setPrototypeOf(element, proto);\n};\n\n\n\n\n\n\n\n\"use strict\";\nconst $947d5c063e68e91c$var$ENV = \"production\";\n/**\n * Creating a domQL element using passed parameters\n */ const $947d5c063e68e91c$var$create = (element, parent, key, options = (0, $ad3d3b247d47f3a2$export$2e2bcd8739ae039).create || {}, attachOptions)=>{\n    $947d5c063e68e91c$var$cacheOptions(element, options);\n    // if (key === 'Title') debugger\n    // if element is STRING\n    if ($947d5c063e68e91c$var$checkIfPrimitive(element)) element = $947d5c063e68e91c$var$applyValueAsText(element, parent, key);\n    element = $947d5c063e68e91c$var$redefineElement(element, parent, key, options);\n    parent = $947d5c063e68e91c$var$redefineParent(element, parent, key);\n    key = $947d5c063e68e91c$var$createKey(element, parent, key);\n    const ref = $947d5c063e68e91c$var$addRef(element, parent, key);\n    // assign initial props\n    ref.__initialProps = (0, $6348a97baa20d8d9$export$b7d58db314e0ac27)(element.props, []);\n    // assign context\n    $947d5c063e68e91c$var$applyContext(element, parent, options);\n    (0, $a6bfc6202982ac85$export$fd6b2f481ffc7974)(element, parent, options);\n    if (!ref.__skipCreate) // create EXTEND inheritance\n    (0, $3bff1c984b824aeb$export$f20941eae6723bcc)(element, parent, options);\n    // create and assign a KEY\n    element.key = key;\n    // Only resolve extends, skip everything else\n    if (options.onlyResolveExtends) return $947d5c063e68e91c$var$onlyResolveExtends(element, parent, key, options);\n    $947d5c063e68e91c$var$replaceOptions(element, parent, options);\n    $947d5c063e68e91c$var$addCaching(element, parent);\n    (0, $6587d89a5cc3b917$export$626ce79af72fc3d3)(element, parent);\n    $947d5c063e68e91c$var$createScope(element, parent);\n    (0, $774f1a3b2fe82710$export$e6a0daad8304de)(element, parent);\n    if (element.scope === \"state\") element.scope = element.state;\n    $947d5c063e68e91c$var$createIfConditionFlag(element, parent);\n    // apply props settings\n    (0, $e818f1ed291a38e8$export$c94ea207b45fef3a)(element, parent);\n    if (element.scope === \"props\" || element.scope === true) element.scope = element.props;\n    // recatch if it passess props again\n    $947d5c063e68e91c$var$createIfConditionFlag(element, parent);\n    // if it already HAS a NODE\n    if (element.node && ref.__if) return (0, $98807bf18bc93fb3$export$4f2a718cb234b42f)(element, parent, key, attachOptions);\n    // apply variants\n    (0, $a6bfc6202982ac85$export$f1439fc936ef702f)(element, parent);\n    const onInit = (0, $33936e69aa63c9cd$export$1bc010482b845252)(\"init\", element, options);\n    if (onInit === false) return element;\n    (0, $33936e69aa63c9cd$export$1bc010482b845252)(\"beforeClassAssign\", element, options);\n    // generate a CLASS name\n    (0, $6a43953e96d89b45$export$d559e9a3b71405f6)(element);\n    $947d5c063e68e91c$var$renderElement(element, parent, options, attachOptions);\n    $947d5c063e68e91c$var$addElementIntoParentChildren(element, parent);\n    (0, $33936e69aa63c9cd$export$1bc010482b845252)(\"complete\", element, options);\n    return element;\n};\nconst $947d5c063e68e91c$var$createBasedOnType = (element, parent, key, options)=>{\n    // if ELEMENT is not given\n    if (element === undefined) {\n        if ($947d5c063e68e91c$var$ENV === \"test\" || $947d5c063e68e91c$var$ENV === \"development\") console.warn(key, \"element is undefined in\", parent && parent.__ref && parent.__ref.path);\n        return {};\n    }\n    if ((0, $079873fc3f2b5f81$export$844ec244b1367d54)(key) && key.slice(0, false)) {\n        if ($947d5c063e68e91c$var$ENV === \"test\" || $947d5c063e68e91c$var$ENV === \"development\") console.warn(key, \"seems like to be in __ref\");\n    }\n    if (element === null) return;\n    if (element === true) return {\n        text: true\n    };\n    // if element is extend\n    if (element.__hash) return {\n        extend: element\n    };\n    return element;\n};\nconst $947d5c063e68e91c$var$redefineElement = (element, parent, key, options)=>{\n    const elementWrapper = $947d5c063e68e91c$var$createBasedOnType(element, parent, key, options);\n    if ((0, $a6bfc6202982ac85$export$b791484194c5fc38)(key)) return (0, $a6bfc6202982ac85$export$2279e5e6b0817ddc)(elementWrapper, parent, key);\n    // TODO: move as define plugins\n    // Responsive rendering\n    if ($947d5c063e68e91c$var$checkIfMedia(key)) return $947d5c063e68e91c$var$applyMediaProps(elementWrapper, parent, key);\n    return elementWrapper;\n};\nconst $947d5c063e68e91c$var$redefineParent = (element, parent, key, options)=>{\n    if (!parent) return 0, $80563b8eaf6ba844$export$fbea82a1c0574ef4;\n    if ((0, $95800a96be489797$export$8ee0fc9ee280b4ee)(parent)) {\n        const parentNodeWrapper = {\n            key: \":root\",\n            node: parent\n        };\n        (0, $80563b8eaf6ba844$export$fbea82a1c0574ef4)[`${key}_parent`] = parentNodeWrapper;\n        return parentNodeWrapper;\n    }\n    return parent;\n};\nconst $947d5c063e68e91c$var$cacheOptions = (element, options)=>{\n    if (options && !(0, $ad3d3b247d47f3a2$export$2e2bcd8739ae039).create) {\n        (0, $ad3d3b247d47f3a2$export$2e2bcd8739ae039).create = options;\n        (0, $ad3d3b247d47f3a2$export$2e2bcd8739ae039).create.context = element.context || options.context;\n    }\n};\nconst $947d5c063e68e91c$var$createKey = (element, parent, key)=>{\n    return ((0, $6348a97baa20d8d9$export$78e3044358792147)(key, element) || key || element.key || (0, $0961ea6318004278$export$3a7728e868aa3ebd)()).toString();\n};\nconst $947d5c063e68e91c$var$addRef = (element, parent)=>{\n    if (element.__ref) element.__ref.origin = element;\n    else element.__ref = {\n        origin: element\n    };\n    return element.__ref;\n};\nconst $947d5c063e68e91c$var$replaceOptions = (element, parent, options)=>{\n    if (Object.keys(options).length) {\n        (0, $782cf63e523d0885$export$2e2bcd8739ae039).defaultOptions = options;\n        if (options.ignoreChildExtend) delete options.ignoreChildExtend;\n    }\n};\nconst $947d5c063e68e91c$var$addElementIntoParentChildren = (element, parent)=>{\n    if (parent.__ref && parent.__ref.__children) parent.__ref.__children.push(element.key);\n};\nconst $947d5c063e68e91c$var$renderElement = (element, parent, options, attachOptions)=>{\n    const { __ref: ref, key: key } = element;\n    // CREATE a real NODE\n    (0, $4e214d02be0ddce7$export$2e2bcd8739ae039)(element, options);\n    if (!ref.__if) {\n        parent[key || element.key] = element;\n        return element;\n    }\n    // assign NODE\n    (0, $98807bf18bc93fb3$export$4f2a718cb234b42f)(element, parent, key, attachOptions);\n    // run `on.renderRouter`\n    (0, $33936e69aa63c9cd$export$1bc010482b845252)(\"renderRouter\", element, options);\n    // run `on.render`\n    (0, $33936e69aa63c9cd$export$1bc010482b845252)(\"render\", element, options);\n};\nconst $947d5c063e68e91c$var$checkIfPrimitive = (element)=>{\n    return (0, $079873fc3f2b5f81$export$226b3eccf92c9ed9)(element)(\"string\", \"number\");\n};\nconst $947d5c063e68e91c$var$applyValueAsText = (element, parent, key)=>{\n    const extendTag = element.extend && element.extend.tag;\n    const childExtendTag = parent.childExtend && parent.childExtend.tag;\n    const isKeyValidHTMLTag = (0, $89442055fcdd5e8d$export$de435b1ae0c975f3).body.indexOf(key) > -1 && key;\n    return {\n        text: element,\n        tag: extendTag || childExtendTag || isKeyValidHTMLTag || \"string\"\n    };\n};\nconst $947d5c063e68e91c$var$applyContext = (element, parent, options)=>{\n    if (options.context && !(0, $80563b8eaf6ba844$export$fbea82a1c0574ef4).context && !element.context) (0, $80563b8eaf6ba844$export$fbea82a1c0574ef4).context = options.context;\n    if (!element.context) element.context = parent.context || options.context || (0, $80563b8eaf6ba844$export$fbea82a1c0574ef4).context;\n};\nconst $947d5c063e68e91c$var$createScope = (element, parent)=>{\n    const { __ref: ref } = element;\n    if (!element.scope) element.scope = parent.scope || ref.__root.scope || {};\n};\nconst $947d5c063e68e91c$var$createIfConditionFlag = (element, parent)=>{\n    const { __ref: ref } = element;\n    if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(element.if) && !element.if(element, element.state)) delete ref.__if;\n    else ref.__if = true;\n};\nconst $947d5c063e68e91c$var$addCaching = (element, parent)=>{\n    const { __ref: ref } = element;\n    let { __ref: parentRef } = parent;\n    // enable TRANSFORM in data\n    if (!element.transform) element.transform = {};\n    // enable CACHING\n    if (!ref.__cached) ref.__cached = {};\n    if (!ref.__defineCache) ref.__defineCache = {};\n    // enable EXEC\n    if (!ref.__exec) ref.__exec = {};\n    // enable CLASS CACHING\n    if (!ref.__class) ref.__class = {};\n    if (!ref.__classNames) ref.__classNames = {};\n    // enable CLASS CACHING\n    if (!ref.__attr) ref.__attr = {};\n    // enable CHANGES storing\n    if (!ref.__changes) ref.__changes = [];\n    // enable CHANGES storing\n    if (!ref.__children) ref.__children = [];\n    // Add _root element property\n    const hasRoot = parent && parent.key === \":root\";\n    if (!ref.__root) ref.__root = hasRoot ? element : parentRef.__root;\n    // set the PATH array\n    if ($947d5c063e68e91c$var$ENV === \"test\" || $947d5c063e68e91c$var$ENV === \"development\") {\n        if (!parentRef) parentRef = parent.ref = {};\n        if (!parentRef.__path) parentRef.__path = [];\n        ref.__path = parentRef.__path.concat(element.key);\n    }\n};\nconst $947d5c063e68e91c$var$onlyResolveExtends = (element, parent, key, options)=>{\n    const { __ref: ref } = element;\n    if (!ref.__skipCreate) {\n        element.tag = (0, $01ef634a92434650$export$5075bd4eae016d2c)(element);\n        // if (!element.props) element.props = {}\n        // Copy-paste of addCaching()\n        // enable CACHING\n        if (!ref.__cached) ref.__cached = {};\n        if (!ref.__defineCache) ref.__defineCache = {};\n        // enable EXEC\n        if (!ref.__exec) ref.__exec = {};\n        // enable CLASS CACHING\n        if (!ref.__class) ref.__class = {};\n        if (!ref.__classNames) ref.__classNames = {};\n        // enable CLASS CACHING\n        if (!ref.__attr) ref.__attr = {};\n        // enable CHANGES storing\n        if (!ref.__changes) ref.__changes = [];\n        // enable CHANGES storing\n        if (!ref.__children) ref.__children = [];\n        // Add __root element property\n        // const hasRoot = parent && parent.key === ':root'\n        // if (!ref.__root) ref.__root = hasRoot ? element : parentRef.__root\n        (0, $6587d89a5cc3b917$export$626ce79af72fc3d3)(element, parent);\n        (0, $774f1a3b2fe82710$export$e6a0daad8304de)(element, parent);\n        // Borrowed from createIfConditionFlag()\n        if ((0, $079873fc3f2b5f81$export$f6e2535fb5126e54)(element.if)) {\n            const ifPassed = element.if(element, element.state);\n            if (!ifPassed) // const ifFragment = cacheNode({ tag: 'fragment' })\n            // ref.__ifFragment = appendNode(ifFragment, parent.node)\n            delete ref.__if;\n            else ref.__if = true;\n        } else ref.__if = true;\n        /// ///\n        if (element.node && ref.__if) parent[key || element.key] = element;\n         // Borrowed from assignNode()\n        (0, $e818f1ed291a38e8$export$c94ea207b45fef3a)(element, parent);\n        if (!element.props) element.props = {};\n        (0, $a6bfc6202982ac85$export$f1439fc936ef702f)(element, parent);\n    }\n    if (element.tag !== \"string\" && element.tag !== \"fragment\") {\n        (0, $0513b3ed7d5404ec$export$b4c781127351659b)(element);\n        (0, $0513b3ed7d5404ec$export$3223a9877c540db8)(element);\n        for(const k in element){\n            if ((0, $079873fc3f2b5f81$export$fce6876652108ab)(element[k]) || (0, $d61abc47c39ce5ac$export$ed2133acb96eb5aa)(k) || (0, $079873fc3f2b5f81$export$a6cdc56e425d0d0a)((0, $782cf63e523d0885$export$2e2bcd8739ae039)[k]) || (0, $a6bfc6202982ac85$export$53cd1a145c393044)(k)) continue;\n            const hasDefine = element.define && element.define[k];\n            const contextHasDefine = element.context && element.context.define && element.context.define[k];\n            const optionsHasDefine = options.define && options.define[k];\n            if (!ref.__skipCreate && (0, $782cf63e523d0885$export$2e2bcd8739ae039)[k] && !optionsHasDefine) continue;\n            else if (element[k] && !hasDefine && !optionsHasDefine && !contextHasDefine) $947d5c063e68e91c$var$create((0, $6348a97baa20d8d9$export$78e3044358792147)(element[k], element), element, k, options);\n        }\n    }\n    parent[key || element.key] = element // Borrowed from assignNode()\n    ;\n    delete element.update;\n    delete element.__element;\n    // added by createProps\n    if (element.props) {\n        delete element.props.update;\n        delete element.props.__element;\n    }\n    return element;\n};\nconst $947d5c063e68e91c$var$checkIfMedia = (key)=>key.slice(0, 1) === \"@\";\nconst $947d5c063e68e91c$var$applyMediaProps = (element, parent, key)=>{\n    const { props: props } = element;\n    if (props) {\n        props.display = \"none\";\n        if (props[key]) props[key].display = props.display;\n        else props[key] = {\n            display: props.display || \"block\"\n        };\n        return element;\n    } else return {\n        ...element,\n        props: {\n            display: \"none\",\n            [key]: {\n                display: \"block\"\n            }\n        }\n    };\n};\nvar $947d5c063e68e91c$export$2e2bcd8739ae039 = $947d5c063e68e91c$var$create;\n\n\n\n\n\n\"use strict\";\nvar $dd5b413a87318846$export$2e2bcd8739ae039 = (params, options = {})=>{\n    const { overwrite: overwrite } = options;\n    for(const param in params)if ((0, $782cf63e523d0885$export$2e2bcd8739ae039)[param] && !overwrite) (0, $06908963bda72849$export$f18d5b0af29128b7)(\"OverwriteToBuiltin\", param);\n    else (0, $782cf63e523d0885$export$2e2bcd8739ae039)[param] = params[param];\n};\n\n\n\n\n\"use strict\";\n\n\n\"use strict\";\nconst $07fce7224ceb45c2$var$create = (element, parent, key, options)=>{\n    return (0, $947d5c063e68e91c$export$2e2bcd8739ae039)(element, parent, key, options);\n};\nvar $07fce7224ceb45c2$export$2e2bcd8739ae039 = {\n    TREE: $80563b8eaf6ba844$export$33ecaa422889cd80,\n    create: $07fce7224ceb45c2$var$create\n};\n\n\n\"use strict\";\nvar { performance: $35da740d59af89ba$var$performance } = window;\nvar $35da740d59af89ba$var$start = $35da740d59af89ba$var$performance.now();\nvar $35da740d59af89ba$var$dom = (0, $07fce7224ceb45c2$export$2e2bcd8739ae039).create({\n    class: \"app\",\n    proto: (0, $4d894c0568f6ab6a$export$2e2bcd8739ae039)\n}, null, \"app\"); // dom.update({ time: `${performance.now() - start}` })\n\n\n//# sourceMappingURL=index.16b57466.js.map\n","\"use strict\";\n\nimport Grid from \"./components/Grid.js\";\n\nimport DOM from \"domql\";\nvar { performance } = window;\n\nvar start = performance.now();\nvar dom = DOM.create(\n  {\n    class: 'app',\n    proto: Grid,\n  },\n  null,\n  \"app\"\n);\n\n// dom.update({ time: `${performance.now() - start}` })\n","import GridArea from \"./GridArea.js\"\nimport GridCell from \"./GridCell.js\"\nimport GridFooter from \"./GridFooter.js\"\n\nconst childComponents = []\nconst rows = 8\nconst cols = 16\n\nconst gridAreaContent = []\nfor (let i = 0; i < rows; i++) {\n  for (let ii = 0; ii < cols; ii++) {\n    gridAreaContent.push(GridCell())\n  }\n}\n\nconst title = {\n  tag: \"h1\",\n  class: \"title\",\n  text: \"Grid Selection\",\n}\n\nconst gridArea = GridArea(gridAreaContent)\n\nconst coordinatesSpan = {\n  tag: \"span\",\n  class: \"value\",\n  text: (el, state) => {\n    return `${el.parent.state.coordinates[0]}, ${el.parent.state.coordinates[1]}`\n  },\n}\n\nconst selectionCoordsComponent = {\n  tag: \"p\",\n  class: \"selection_coordinates\",\n  text: (elem, state) => {\n    return \"Selection coordinates:\"\n  },\n  childProto: coordinatesSpan,\n  state: {\n    coordinates: [0, 0],\n  }\n}\n\nconst selectionTotal = {\n  tag: \"span\",\n  class: \"value\",\n  text: (el, state) => {\n    return el.parent.state.selectionTotal\n  },\n}\n\nconst totalSelectionComponent = {\n  tag: \"p\",\n  class: \"selection_total\",\n  text: (elem, state) => {\n    return \"Total cells selected:\"\n  },\n  childProto: selectionTotal,\n  state: {\n    selectionTotal: 0,\n  }\n}\n\nconst footerContent = [selectionCoordsComponent, totalSelectionComponent]\n\nchildComponents.push(title, gridArea, GridFooter(footerContent))\n\nconst Grid = () => ({\n  tag: \"div\",\n  class: \"grid\",\n  childProto: childComponents,\n})\n\nexport default Grid\n","const GridArea = (children) => ({\n  tag: \"div\",\n  class: \"grid__area\",\n  childProto: children,\n  state: {\n    selectedCells: [],\n  },\n  \n  on: {\n    update: (el, state) => {\n      // Each time the number of selected cells gets updated, update the total selection component text\n      const footerComponent = el.parent[2]\n      const totalSelectionComponent = footerComponent.childProto[1]\n\n      const totalSelected = state.selectedCells.length\n\n      // update component state\n      totalSelectionComponent.state.update({\n        selectionTotal: totalSelected\n      })\n    }\n  }\n})\n\nexport default GridArea\n","const baseClass = \"grid__cell \"\nconst selected = \"selected\"\n\nconst GridCell = () => ({\n  tag: \"div\",\n  class: (elem, state) => (state.isSelected ? baseClass + selected : baseClass),\n  // text: (elem, state) => elem.key,\n  state: {\n    isSelected: false,\n    classList: baseClass,\n    prevSelection: null,\n  },\n\n  on: {\n    click: (event, gridCell, state) => {\n      // Update the selected state for the current cell and all previous sibling cells\n      const cellKey = parseInt(gridCell.key)\n      const cellParent = gridCell.parent\n      const selectedCells = cellParent.state.selectedCells\n      const selectedCellsLength = cellParent.state.selectedCells.length\n      const currentKey = cellKey\n\n      // TODO:\n      // Move the logic that handles updating the parent state into the on:{ update() }\n      // So when the cell's isSelected state is updated, then add or remove it from the selectedCells parent array list.\n      if (selectedCellsLength <= 1 && currentKey == 0) {\n        // if we have only 1 or less cells selected\n        updateState(state, \"isSelected\", !state.isSelected)\n        if (state.isSelected) {\n          // add to array list\n          updateState(cellParent.state, \"selectedCells\", [currentKey])\n        } else {\n          // remove from array list\n          selectedCells.splice(currentKey, 1)\n          updateState(cellParent.state, \"selectedCells\", selectedCells)\n        }\n      }\n      // If we have more than 1 selected cell then\n      else if (currentKey <= selectedCellsLength) {\n        // Handle deselection of cells because user has clicked a grid cell key than is less than the amount stored\n        for (let i = currentKey; i < selectedCellsLength + 1; i++) {\n          if (cellParent[i].state.isSelected) {\n            // if we have already selected grid cells then update their state to false and remove from array list\n            updateState(cellParent[i].state, \"isSelected\", false)\n\n            // remove cell from selected cells array\n            for (let ii = 0; ii < selectedCellsLength; ii++) {\n              if (selectedCells[ii] && selectedCells[ii] == cellParent[i].key) {\n                selectedCells.splice(ii, 1)\n                updateState(cellParent.state, \"selectedCells\", selectedCells)\n              }\n            }\n          }\n        }\n      } else {\n        for (let i = selectedCellsLength; i < currentKey + 1; i++) {\n          // work backwards updating the grid cell states until reaching the first cell item\n          updateState(\n            cellParent[i].state,\n            \"isSelected\",\n            !cellParent[i].state.isSelected\n          )\n\n          updateState(cellParent.state, \"selectedCells\", [i, ...selectedCells])\n        }\n      }\n\n      /**\n       * Update selection co-ordinates\n       */\n      const selectionCoordsComponent = cellParent.parent.parent[2].childProto[0]\n      const { row, column } = calculateRowAndColumn(cellKey) // offset the key by 1 due to the keys starting from 0.\n      selectionCoordsComponent.state.update({\n        coordinates: [row + 1, column + 1],\n      })\n    }, // end click\n  }, // end on\n})\n\nfunction updateState(state, keyString, value) {\n  state.update({ [keyString]: value })\n}\n\nfunction calculateRowAndColumn(cellKey, columns = 16) {\n  const row = Math.floor(cellKey / columns)\n  const column = cellKey % columns\n  return { row, column }\n}\n\nexport default GridCell\n","import \"../styles/grid_footer.scss\"\n\nconst GridArea = (children) => ({\n  tag: \"div\",\n  class: \"grid__footer\",\n  childProto: children\n})\n\nexport default GridArea\n","'use strict'\n\nimport { TREE, create as createElement } from '@domql/element'\n\nconst create = (element, parent, key, options) => {\n  return createElement(element, parent, key, options)\n}\n\nexport default {\n  TREE,\n  create\n}\n","'use strict'\n\nimport { TREE } from './tree'\nimport create from './create'\nimport createNode from './node'\nimport define from './define'\nimport update from './update'\nimport set from './set'\n\nexport {\n  TREE,\n  create,\n  createNode,\n  define,\n  update,\n  set\n}\n","'use strict'\n\nimport { document } from '@domql/utils'\nimport { report } from '@domql/report'\n\nexport const ROOT = {\n  key: ':root',\n  node: document ? document.body : report('DocumentNotDefined', document)\n}\n\nexport const TREE = ROOT\n","'use strict'\n\nexport * from './key.js'\nexport * from './env.js'\nexport * from './types.js'\nexport * from './object.js'\nexport * from './function.js'\nexport * from './array.js'\nexport * from './node.js'\nexport * from './log.js'\nexport * from './string.js'\nexport * from './globals.js'\nexport * from './cookie.js'\nexport * from './tags.js'\n","'use strict'\n\nexport const generateKey = (function () {\n  let index = 0\n\n  function newId () {\n    index++\n    return index\n  }\n\n  return newId\n})()\n\nexport const createSnapshotId = generateKey\n","'use strict'\n\nexport const NODE_ENV = process.env.NODE_ENV\n\nexport const isProduction = (env = NODE_ENV) => (env === 'production' || env === 'prod') ||\n  (env !== 'development' && env !== 'dev' && env !== 'test')\nexport const isTest = (env = NODE_ENV) => env === 'test'\nexport const isDevelopment = (env = NODE_ENV) => env === 'development' || env === 'dev'\n\nexport const getNev = (key, env = NODE_ENV) => env[key]\n","'use strict'\n\nimport { isHtmlElement, isNode } from './node'\n\nexport const isObject = arg => {\n  if (arg === null) return false\n  return (typeof arg === 'object') && (arg.constructor === Object)\n}\n\nexport const isString = arg => typeof arg === 'string'\n\nexport const isNumber = arg => typeof arg === 'number'\n\nexport const isFunction = arg => typeof arg === 'function'\n\nexport const isBoolean = arg => arg === true || arg === false\n\nexport const isNull = arg => arg === null\n\nexport const isArray = arg => Array.isArray(arg)\n\nexport const isDate = d => d instanceof Date\n\nexport const isObjectLike = arg => {\n  if (arg === null) return false\n  // if (isArray(arg)) return false\n  return (typeof arg === 'object')\n}\n\nexport const isDefined = arg => {\n  return isObject(arg) ||\n    isObjectLike(arg) ||\n    isString(arg) ||\n    isNumber(arg) ||\n    isFunction(arg) ||\n    isArray(arg) ||\n    isObjectLike(arg) ||\n    isBoolean(arg) ||\n    isDate(arg) ||\n    isNull(arg)\n}\n\nexport const isUndefined = arg => {\n  return arg === undefined\n}\n\nexport const TYPES = {\n  boolean: isBoolean,\n  array: isArray,\n  object: isObject,\n  string: isString,\n  date: isDate,\n  number: isNumber,\n  null: isNull,\n  function: isFunction,\n  objectLike: isObjectLike,\n  node: isNode,\n  htmlElement: isHtmlElement,\n  defined: isDefined\n}\n\nexport const is = (arg) => {\n  return (...args) => {\n    return args.map(val => TYPES[val](arg)).filter(v => v).length > 0\n  }\n}\n\nexport const isNot = (arg) => {\n  return (...args) => {\n    return args.map(val => TYPES[val](arg)).filter(v => v).length === 0\n  }\n}\n","'use strict'\n\nimport { window } from './globals'\n\nexport const isNode = (obj) => {\n  return (\n    typeof Node === 'object'\n      ? obj instanceof window.Node\n      : obj && typeof obj === 'object' && typeof obj.nodeType === 'number' && typeof obj.nodeName === 'string'\n  ) || false\n}\n\n// Returns true if it is a DOM element\nexport const isHtmlElement = obj => {\n  return (\n    typeof HTMLElement === 'object'\n      ? obj instanceof window.HTMLElement // DOM2\n      : obj && typeof obj === 'object' && obj !== null && obj.nodeType === 1 && typeof obj.nodeName === 'string'\n  ) || false\n}\n","'use strict'\n\nconst global = globalThis\nconst self = globalThis\nconst window = globalThis\nconst document = window.document // eslint-disable-line\n\nexport { global, self, window, document }\n","'use strict'\n\nimport { window } from './globals.js'\nimport { isFunction, isObjectLike, isObject, isArray, isString, is, isUndefined, isDate } from './types.js'\nimport { mergeAndCloneIfArray, mergeArray } from './array.js'\nimport { stringIncludesAny } from './string.js'\n\nexport const exec = (param, element, state, context) => {\n  if (isFunction(param)) {\n    return param(\n      element,\n      state || element.state,\n      context || element.context\n    )\n  }\n  return param\n}\n\nexport const map = (obj, extention, element) => {\n  for (const e in extention) {\n    obj[e] = exec(extention[e], element)\n  }\n}\n\nexport const merge = (element, obj, excludeFrom = []) => {\n  for (const e in obj) {\n    const hasOwnProperty = Object.prototype.hasOwnProperty.call(obj, e)\n    if (!hasOwnProperty || excludeFrom.includes(e) || e.startsWith('__')) continue\n    const elementProp = element[e]\n    const objProp = obj[e]\n    if (elementProp === undefined) {\n      element[e] = objProp\n    }\n  }\n  return element\n}\n\nexport const deepMerge = (element, extend, excludeFrom = []) => {\n  for (const e in extend) {\n    const hasOwnProperty = Object.prototype.hasOwnProperty.call(extend, e)\n    if (!hasOwnProperty || excludeFrom.includes(e) || e.startsWith('__')) continue\n    const elementProp = element[e]\n    const extendProp = extend[e]\n    if (isObjectLike(elementProp) && isObjectLike(extendProp)) {\n      deepMerge(elementProp, extendProp, excludeFrom)\n    } else if (elementProp === undefined) {\n      element[e] = extendProp\n    }\n  }\n  return element\n}\n\nexport const clone = (obj, excludeFrom = []) => {\n  const o = {}\n  for (const prop in obj) {\n    const hasOwnProperty = Object.prototype.hasOwnProperty.call(obj, prop)\n    if (!hasOwnProperty || excludeFrom.includes(prop) || prop.startsWith('__')) continue\n    o[prop] = obj[prop]\n  }\n  return o\n}\n\n// Clone anything deeply but excludeFrom keys given in 'excludeFrom'\nexport const deepCloneExclude = (obj, excludeFrom = []) => {\n  if (isArray(obj)) {\n    return obj.map(x => deepCloneExclude(x, excludeFrom))\n  }\n\n  const o = {}\n  for (const k in obj) {\n    const hasOwnProperty = Object.prototype.hasOwnProperty.call(obj, k)\n    if (!hasOwnProperty || excludeFrom.includes(k) || k.startsWith('__')) continue\n\n    let v = obj[k]\n\n    if (k === 'extend' && isArray(v)) {\n      v = mergeArrayExclude(v, excludeFrom)\n    }\n\n    if (isArray(v)) {\n      o[k] = v.map(x => deepCloneExclude(x, excludeFrom))\n    } else if (isObject(v)) {\n      o[k] = deepCloneExclude(v, excludeFrom)\n    } else o[k] = v\n  }\n\n  return o\n}\n\n// Merge array, but exclude keys listed in 'excl'z\nexport const mergeArrayExclude = (arr, excl = []) => {\n  return arr.reduce((acc, curr) => deepMerge(acc, deepCloneExclude(curr, excl)), {})\n}\n\n/**\n * Deep cloning of object\n */\nexport const deepClone = (obj, excludeFrom = [], cleanUndefined = false) => {\n  const o = isArray(obj) ? [] : {}\n  for (const prop in obj) {\n    if (prop === '__proto__') continue\n    if (excludeFrom.includes(prop) || prop.startsWith('__')) continue\n    let objProp = obj[prop]\n    if (cleanUndefined && isUndefined(objProp)) continue\n    if (prop === 'extend' && isArray(objProp)) {\n      objProp = mergeArray(objProp)\n    }\n    if (isObjectLike(objProp)) {\n      o[prop] = deepClone(objProp, excludeFrom, cleanUndefined)\n    } else o[prop] = objProp\n  }\n  return o\n}\n/**\n * Deep cloning of object\n */\nexport const deepCloneWithExtnd = (obj, excludeFrom = [], cleanUndefined = false) => {\n  const o = isArray(obj) ? [] : {}\n  for (const prop in obj) {\n    if (prop === '__proto__') continue\n    if (excludeFrom.includes(prop) || prop.startsWith('__')) continue\n    const objProp = obj[prop]\n    if (cleanUndefined && isUndefined(objProp)) continue\n    if (isObjectLike(objProp)) {\n      o[prop] = deepCloneWithExtnd(objProp, excludeFrom, cleanUndefined)\n    } else o[prop] = objProp\n  }\n  return o\n}\n\n/**\n * Stringify object\n */\nexport const deepStringify = (obj, stringified = {}) => {\n  for (const prop in obj) {\n    const objProp = obj[prop]\n    if (isFunction(objProp)) {\n      stringified[prop] = objProp.toString()\n    } else if (isObject(objProp)) {\n      stringified[prop] = {}\n      deepStringify(objProp, stringified[prop])\n    } else if (isArray(objProp)) {\n      stringified[prop] = []\n      objProp.forEach((v, i) => {\n        if (isObject(v)) {\n          stringified[prop][i] = {}\n          deepStringify(v, stringified[prop][i])\n        } else if (isFunction(v)) {\n          stringified[prop][i] = v.toString()\n        } else {\n          stringified[prop][i] = v\n        }\n      })\n    } else {\n      stringified[prop] = objProp\n    }\n  }\n  return stringified\n}\n\nexport const objectToString = (obj, indent = 0) => {\n  const spaces = '  '.repeat(indent)\n  let str = '{\\n'\n\n  for (const [key, value] of Object.entries(obj)) {\n    const keyNotAllowdChars = stringIncludesAny(key, ['&', '*', '-', ':', '@', '.', '/', '!', ' '])\n    const stringedKey = keyNotAllowdChars ? `'${key}'` : key\n    str += `${spaces}  ${stringedKey}: `\n\n    if (isArray(value)) {\n      str += '[\\n'\n      for (const element of value) {\n        if (isObject(element) && element !== null) {\n          str += `${spaces}    ${objectToString(element, indent + 2)},\\n`\n        } else if (isString(element)) {\n          str += `${spaces}    '${element}',\\n`\n        } else {\n          str += `${spaces}    ${element},\\n`\n        }\n      }\n      str += `${spaces}  ]`\n    } else if (isObjectLike(value)) {\n      str += objectToString(value, indent + 1)\n    } else if (isString(value)) {\n      str += stringIncludesAny(value, ['\\n', '\\'']) ? `\\`${value}\\`` : `'${value}'`\n    } else {\n      str += value\n    }\n\n    str += ',\\n'\n  }\n\n  str += `${spaces}}`\n  return str\n}\n\n/**\n * Stringify object\n */\nexport const detachFunctionsFromObject = (obj, detached = {}) => {\n  for (const prop in obj) {\n    const objProp = obj[prop]\n    if (isFunction(objProp)) continue\n    else if (isObject(objProp)) {\n      detached[prop] = {}\n      deepStringify(objProp, detached[prop])\n    } else if (isArray(objProp)) {\n      detached[prop] = []\n      objProp.forEach((v, i) => {\n        if (isFunction(v)) return\n        if (isObject(v)) {\n          detached[prop][i] = {}\n          detachFunctionsFromObject(v, detached[prop][i])\n        } else {\n          detached[prop][i] = v\n        }\n      })\n    } else {\n      detached[prop] = objProp\n    }\n  }\n  return detached\n}\n\n/**\n * Detringify object\n */\nexport const deepDestringify = (obj, destringified = {}) => {\n  for (const prop in obj) {\n    const hasOwnProperty = Object.prototype.hasOwnProperty.call(obj, prop)\n    if (!hasOwnProperty) continue\n    const objProp = obj[prop]\n    if (isString(objProp)) {\n      if (objProp.includes('=>') || objProp.includes('function') || objProp.startsWith('(')) {\n        try {\n          const evalProp = window.eval(`(${objProp})`) // use parentheses to convert string to function expression\n          destringified[prop] = evalProp\n        } catch (e) { if (e) destringified[prop] = objProp }\n      } else {\n        destringified[prop] = objProp\n      }\n    } else if (isArray(objProp)) {\n      destringified[prop] = []\n      objProp.forEach((arrProp) => {\n        if (isString(arrProp)) {\n          if (arrProp.includes('=>') || arrProp.includes('function') || arrProp.startsWith('(')) {\n            try {\n              const evalProp = window.eval(`(${arrProp})`) // use parentheses to convert string to function expression\n              destringified[prop].push(evalProp)\n            } catch (e) { if (e) destringified[prop].push(arrProp) }\n          } else {\n            destringified[prop].push(arrProp)\n          }\n        } else if (isObject(arrProp)) {\n          destringified[prop].push(deepDestringify(arrProp))\n        } else {\n          destringified[prop].push(arrProp)\n        }\n      })\n    } else if (isObject(objProp)) {\n      destringified[prop] = deepDestringify(objProp, destringified[prop]) // recursively call deepDestringify for nested objects\n    } else {\n      destringified[prop] = objProp\n    }\n  }\n  return destringified\n}\n\nexport const stringToObject = (str, verbose) => {\n  try {\n    return window.eval('(' + str + ')') // eslint-disable-line\n  } catch (e) { if (verbose) console.warn(e) }\n}\n\nexport const diffObjects = (original, objToDiff, cache) => {\n  for (const e in objToDiff) {\n    if (e === 'ref') continue\n\n    const originalProp = original[e]\n    const objToDiffProp = objToDiff[e]\n\n    if (isObject(originalProp) && isObject(objToDiffProp)) {\n      cache[e] = {}\n      diff(originalProp, objToDiffProp, cache[e])\n    } else if (objToDiffProp !== undefined) {\n      cache[e] = objToDiffProp\n    }\n  }\n  return cache\n}\n\nexport const diffArrays = (original, objToDiff, cache) => {\n  if (original.length !== objToDiff.length) {\n    cache = objToDiff\n  } else {\n    const diffArr = []\n    for (let i = 0; i < original.length; i++) {\n      const diffObj = diff(original[i], objToDiff[i])\n      if (Object.keys(diffObj).length > 0) {\n        diffArr.push(diffObj)\n      }\n    }\n    if (diffArr.length > 0) {\n      cache = diffArr\n    }\n  }\n  return cache\n}\n\nexport const diff = (original, objToDiff, cache = {}) => {\n  if (isArray(original) && isArray(objToDiff)) {\n    cache = []\n    diffArrays(original, objToDiff, cache)\n  } else {\n    diffObjects(original, objToDiff, cache)\n  }\n\n  return cache\n}\n\nexport const hasOwnProperty = (o, ...args) => Object.prototype.hasOwnProperty.call(o, ...args)\n\nexport const isEmpty = o => Object.keys(o).length === 0\n\nexport const isEmptyObject = (o) => isObject(o) && isEmpty(o)\n\nexport const makeObjectWithoutPrototype = () => Object.create(null)\n\n// by mattphillips\n// https://github.com/mattphillips/deep-object-diff/blob/main/src/diff.js\nexport const deepDiff = (lhs, rhs) => {\n  if (lhs === rhs) return {}\n\n  if (!isObjectLike(lhs) || !isObjectLike(rhs)) return rhs\n\n  const deletedValues = Object.keys(lhs).reduce((acc, key) => {\n    if (!hasOwnProperty(rhs, key)) {\n      acc[key] = undefined\n    }\n\n    return acc\n  }, makeObjectWithoutPrototype())\n\n  if (isDate(lhs) || isDate(rhs)) {\n    if (lhs.valueOf() === rhs.valueOf()) return {}\n    return rhs\n  }\n\n  return Object.keys(rhs).reduce((acc, key) => {\n    if (!hasOwnProperty(lhs, key)) {\n      acc[key] = rhs[key]\n      return acc\n    }\n\n    const difference = diff(lhs[key], rhs[key])\n\n    if (isEmptyObject(difference) && !isDate(difference) && (isEmptyObject(lhs[key]) || !isEmptyObject(rhs[key]))) {\n      return acc\n    }\n\n    acc[key] = difference\n    return acc\n  }, deletedValues)\n}\n\n/**\n * Overwrites object properties with another\n */\nexport const overwrite = (element, params, excludeFrom = []) => {\n  const { ref } = element\n  const changes = {}\n\n  for (const e in params) {\n    if (excludeFrom.includes(e) || e.startsWith('__')) continue\n\n    const elementProp = element[e]\n    const paramsProp = params[e]\n\n    if (paramsProp) {\n      ref.__cache[e] = changes[e] = elementProp\n      ref[e] = paramsProp\n    }\n  }\n\n  return changes\n}\n\nexport const overwriteShallow = (obj, params, excludeFrom = []) => {\n  for (const e in params) {\n    if (excludeFrom.includes(e) || e.startsWith('__')) continue\n    obj[e] = params[e]\n  }\n  return obj\n}\n\n/**\n * Overwrites DEEPLY object properties with another\n */\nexport const overwriteDeep = (obj, params, excludeFrom = []) => {\n  for (const e in params) {\n    if (e === '__proto__') continue\n    if (excludeFrom.includes(e) || e.startsWith('__')) continue\n    const objProp = obj[e]\n    const paramsProp = params[e]\n    if (isObjectLike(objProp) && isObjectLike(paramsProp)) {\n      overwriteDeep(objProp, paramsProp)\n    } else if (paramsProp !== undefined) {\n      obj[e] = paramsProp\n    }\n  }\n  return obj\n}\n\n/**\n * Overwrites object properties with another\n */\nexport const mergeIfExisted = (a, b) => {\n  if (isObjectLike(a) && isObjectLike(b)) return deepMerge(a, b)\n  return a || b\n}\n\n/**\n * Overwrites object properties with another\n */\nexport const flattenRecursive = (param, prop, stack = []) => {\n  const objectized = mergeAndCloneIfArray(param)\n  stack.push(objectized)\n\n  const extendOfExtend = objectized[prop]\n  if (extendOfExtend) flattenRecursive(extendOfExtend, prop, stack)\n\n  delete objectized[prop]\n\n  return stack\n}\n\n/**\n * Recursively compares two values to determine if they are deeply equal.\n *\n * This function checks for deep equality between two values, including\n * objects, arrays, and nested structures. It handles circular references to\n * prevent infinite loops.\n *\n * @param {*} param - The first value to compare.\n * @param {*} element - The second value to compare.\n * @param {Set} [visited] - (Optional) A set to track visited objects during recursion\n *   to handle circular references. You can omit this parameter when calling\n *   the function; it is used internally for tracking visited objects.\n *\n * @returns {boolean} Returns `true` if the values are deeply equal, `false` otherwise.\n *\n * @example\n * // Comparing primitive values\n * isEqualDeep(42, 42); // true\n * isEqualDeep('hello', 'hello'); // true\n * isEqualDeep(true, true); // true\n * isEqualDeep(42, '42'); // false\n *\n * // Comparing simple objects\n * const obj1 = { a: 1, b: { c: 2 } };\n * const obj2 = { a: 1, b: { c: 2 } };\n * isEqualDeep(obj1, obj2); // true\n *\n * // Handling circular references\n * const circularObj = { prop: null };\n * circularObj.prop = circularObj;\n * const anotherObj = { prop: null };\n * anotherObj.prop = anotherObj;\n * isEqualDeep(circularObj, anotherObj); // true\n */\nexport const isEqualDeep = (param, element, visited = new Set()) => {\n  // Check if both values are non-null objects\n  if (typeof param !== 'object' || typeof element !== 'object' || param === null || element === null) {\n    return param === element // Compare non-object values directly\n  }\n\n  // Check for circular references\n  if (visited.has(param) || visited.has(element)) {\n    return true // Assume equality to break the circular reference\n  }\n\n  visited.add(param)\n  visited.add(element)\n\n  const keysParam = Object.keys(param)\n  const keysElement = Object.keys(element)\n\n  // Check if both objects have the same number of properties\n  if (keysParam.length !== keysElement.length) {\n    return false\n  }\n\n  // Check if all properties in param also exist in element\n  for (const key of keysParam) {\n    if (!keysElement.includes(key)) {\n      return false\n    }\n\n    const paramProp = param[key]\n    const elementProp = element[key]\n\n    // Recursively check property values\n    if (!isEqualDeep(paramProp, elementProp, visited)) {\n      return false\n    }\n  }\n\n  return true\n}\n\nexport const deepContains = (obj1, obj2) => {\n  if (typeof obj1 !== typeof obj2) {\n    return false\n  }\n\n  if (isObjectLike(obj1)) {\n    if (Array.isArray(obj1) && Array.isArray(obj2)) {\n      if (obj1.length !== obj2.length) {\n        return false\n      }\n      for (let i = 0; i < obj1.length; i++) {\n        if (!deepContains(obj1[i], obj2[i])) {\n          return false\n        }\n      }\n    } else if (isObjectLike(obj1) && obj2 !== null) {\n      for (const key in obj1) {\n        const hasOwnProperty = Object.prototype.hasOwnProperty.call(obj2, key)\n        if (!hasOwnProperty || !deepContains(obj1[key], obj2[key])) {\n          return false\n        }\n      }\n    }\n  } else {\n    return obj2 === obj1\n  }\n\n  return true\n}\n\nexport const removeFromObject = (obj, props) => {\n  if (props === undefined || props === null) return obj\n  if (is(props)('string', 'number')) {\n    delete obj[props]\n  } else if (isArray(props)) {\n    props.forEach(prop => delete obj[prop])\n  } else {\n    throw new Error('Invalid input: props must be a string or an array of strings')\n  }\n  return obj\n}\n","'use strict'\n\nimport { deepClone, deepMerge } from './object'\nimport { isArray, isNumber, isString } from './types'\n\nexport const arrayContainsOtherArray = (arr1, arr2) => {\n  return arr2.every(val => arr1.includes(val))\n}\n\nexport const removeFromArray = (arr, index) => {\n  if (isString(index)) index = parseInt(index)\n  if (isNumber(index)) {\n    if (index < 0 || index >= arr.length || isNaN(index)) {\n      throw new Error('Invalid index')\n    }\n    arr.splice(index, 1)\n  } else if (isArray(index)) {\n    index.forEach(idx => removeFromArray(arr, idx))\n  } else {\n    throw new Error('Invalid index')\n  }\n  return arr\n}\n\nexport const swapItemsInArray = (arr, i, j) => {\n  [arr[i], arr[j]] = [arr[j], arr[i]]\n}\n\nexport const joinArrays = (...arrays) => {\n  return [].concat(...arrays)\n}\n\n/**\n * Merges array extendtypes\n */\nexport const mergeArray = (arr, excludeFrom = []) => {\n  return arr.reduce((a, c) => deepMerge(a, deepClone(c, excludeFrom), excludeFrom), {})\n}\n\n/**\n * Merges array extends\n */\nexport const mergeAndCloneIfArray = obj => {\n  return isArray(obj) ? mergeArray(obj) : deepClone(obj)\n}\n\nexport const cutArrayBeforeValue = (arr, value) => {\n  const index = arr.indexOf(value)\n  if (index !== -1) {\n    return arr.slice(0, index)\n  }\n  return arr\n}\n\nexport const cutArrayAfterValue = (arr, value) => {\n  const index = arr.indexOf(value)\n  if (index !== -1) {\n    return arr.slice(index + 1)\n  }\n  return arr\n}\n\nexport const createNestedObject = (arr, lastValue) => {\n  const nestedObject = {}\n\n  if (arr.length === 0) {\n    return lastValue\n  }\n\n  arr.reduce((obj, value, index) => {\n    if (!obj[value]) {\n      obj[value] = {}\n    }\n    if (index === arr.length - 1 && lastValue) {\n      obj[value] = lastValue\n    }\n    return obj[value]\n  }, nestedObject)\n\n  return nestedObject\n}\n\nexport const removeValueFromArray = (arr, value) => {\n  const index = arr.indexOf(value)\n  if (index > -1) {\n    const newArray = [...arr]\n    newArray.splice(index, 1)\n    return newArray\n  }\n  return arr.slice()\n}\n\nexport const removeValueFromArrayAll = (arr, value) => {\n  return arr.filter(item => item !== value)\n}\n","'use strict'\n\nexport const stringIncludesAny = (str, characters) => {\n  for (const char of characters) {\n    if (str.includes(char)) {\n      return true\n    }\n  }\n  return false\n}\n\nexport const trimStringFromSymbols = (str, characters) => {\n  // Create a regular expression pattern to match the specified symbols\n  const pattern = new RegExp(`[${characters.join('\\\\')}]`, 'g')\n\n  // Replace matched symbols with an empty string\n  return str.replace(pattern, '')\n}\n\n/**\n * Replaces placeholders in a string with corresponding {{ }} values from an object.\n *\n * @param {string} str - The string containing placeholders to replace.\n * @param {object} state - The object containing the values to substitute.\n * @returns {string} The modified string with placeholders replaced by values from the object.\n */\nconst brackRegex = /\\{\\{\\s*((?:\\.\\.\\/)+)?([^}\\s]+)\\s*\\}\\}/g\nexport const replaceLiteralsWithObjectFields = (str, state) => {\n  if (!str.includes('{{')) return str\n  return str.replace(brackRegex, (_, parentPath, variable) => {\n    if (parentPath) {\n      const parentLevels = parentPath.match(/\\.\\.\\//g).length\n      let parentState = state\n      for (let i = 0; i < parentLevels; i++) {\n        parentState = parentState.parent\n        if (!parentState) {\n          return '' // Return an empty string if the parent level doesn't exist\n        }\n      }\n      const value = parentState[variable.trim()]\n      return value !== undefined ? `${value}` : ''\n    } else {\n      const value = state[variable.trim()]\n      return value !== undefined ? `${value}` : ''\n    }\n  })\n}\n","'use strict'\n\n/**\n * Debounces a function, ensuring that it is only executed after a specified timeout\n * period has elapsed since the last invocation.\n *\n * @param {function} func - The function to be debounced.\n * @param {number} [timeout=300] - The time (in milliseconds) to wait after the last call to\n *     `debounce` before executing the `func`.\n * @returns {function} - A debounced version of the input function `func`.\n * @example\n * // Usage example:\n * const debouncedFunction = debounce(this, myFunction, 500);\n * window.addEventListener('resize', debouncedFunction);\n */\nexport function debounce (func, wait, immediate) {\n  let timeout\n  return function () {\n    const context = this; const args = arguments\n    const later = function () {\n      timeout = null\n      if (!immediate) func.apply(context, args)\n    }\n    const callNow = immediate && !timeout\n    clearTimeout(timeout)\n    timeout = setTimeout(later, wait)\n    if (callNow) func.apply(context, args)\n  }\n}\n\n/**\n * Debounces a function, ensuring that it is only executed after a specified timeout\n * period has elapsed since the last invocation.\n *\n * @param {Object} element - The context (this) to which the debounced function will be applied.\n * @param {function} func - The function to be debounced.\n * @param {number} [timeout=300] - The time (in milliseconds) to wait after the last call to\n *     `debounce` before executing the `func`.\n * @returns {function} - A debounced version of the input function `func`.\n * @example\n * // Usage example:\n * const debouncedFunction = debounce(this, myFunction, 500);\n * window.addEventListener('resize', debouncedFunction);\n */\nexport const debounceOnContext = (element, func, timeout = 300) => {\n  let timer\n  return (...args) => {\n    clearTimeout(timer)\n    timer = setTimeout(() => { func.apply(element, args) }, timeout)\n  }\n}\n\nexport const memoize = (fn) => {\n  const cache = {}\n  return (...args) => {\n    const n = args[0]\n    if (n in cache) {\n      return cache[n]\n    } else {\n      const result = fn(n)\n      cache[n] = result\n      return result\n    }\n  }\n}\n\nexport const isStringFunction = inputString => {\n  // Regular expression to match both regular and arrow function declarations\n  const functionRegex = /^((function\\s*\\([^)]*\\)\\s*\\{[^}]*\\})|(\\([^)]*\\)\\s*=>))/\n\n  // Use the regex to test if the inputString matches the function pattern\n  return functionRegex.test(inputString)\n}\n","'use strict'\n\nexport const logIf = (bool, ...arg) => { if (bool) arg.map(v => console.log(v)) }\nexport const logGroupIf = (bool, key, ...arg) => {\n  if (bool) {\n    console.group(key)\n    arg.map(v => console.log(v))\n    console.groupEnd(key)\n  }\n}\n","'use strict'\n\nimport { isUndefined } from './types'\n\nexport const isMobile = (() => typeof navigator === 'undefined'\n  ? false\n  : /Mobi/.test(navigator.userAgent))()\n\nexport const setCookie = (cname, cvalue, exdays = 365) => {\n  if (isUndefined(document) || isUndefined(document.cookie)) return\n  const d = new Date()\n  d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000))\n  const expires = `expires=${d.toUTCString()}`\n  document.cookie = `${cname}=${cvalue};${expires};path=/`\n}\n\nexport const getCookie = (cname) => {\n  if (isUndefined(document) || isUndefined(document.cookie)) return\n  const name = `${cname}=`\n  const decodedCookie = decodeURIComponent(document.cookie)\n  const ca = decodedCookie.split(';')\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i]\n    while (c.charAt(0) === ' ') c = c.substring(1)\n    if (c.indexOf(name) === 0) return c.substring(name.length, c.length)\n  }\n  return ''\n}\n","'use strict'\n\nexport const HTML_TAGS = {\n  root: [\n    'body',\n    'html'\n  ],\n\n  head: [\n    'title',\n    'base',\n    'meta',\n    'style'\n  ],\n\n  body: [\n    'string',\n    'fragment',\n    'a',\n    'abbr',\n    'acronym',\n    'address',\n    'applet',\n    'area',\n    'article',\n    'aside',\n    'audio',\n    'b',\n    'basefont',\n    'bdi',\n    'bdo',\n    'big',\n    'blockquote',\n    'br',\n    'button',\n    'canvas',\n    'caption',\n    'center',\n    'cite',\n    'code',\n    'col',\n    'colgroup',\n    'data',\n    'datalist',\n    'dd',\n    'del',\n    'details',\n    'dfn',\n    'dialog',\n    'dir',\n    'div',\n    'dl',\n    'dt',\n    'em',\n    'embed',\n    'fieldset',\n    'figcaption',\n    'figure',\n    'font',\n    'footer',\n    'form',\n    'frame',\n    'frameset',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'head',\n    'header',\n    'hr',\n    'i',\n    'iframe',\n    'img',\n    'input',\n    'ins',\n    'kbd',\n    'label',\n    'legend',\n    'li',\n    'link',\n    'main',\n    'map',\n    'mark',\n    'meter',\n    'nav',\n    'noframes',\n    'noscript',\n    'object',\n    'ol',\n    'optgroup',\n    'option',\n    'output',\n    'p',\n    'param',\n    'picture',\n    'pre',\n    'progress',\n    'q',\n    'rp',\n    'rt',\n    'ruby',\n    's',\n    'samp',\n    'script',\n    'section',\n    'select',\n    'small',\n    'source',\n    'span',\n    'strike',\n    'strong',\n    'sub',\n    'summary',\n    'sup',\n    'table',\n    'tbody',\n    'td',\n    'template',\n    'textarea',\n    'tfoot',\n    'th',\n    'thead',\n    'time',\n    'tr',\n    'track',\n    'tt',\n    'u',\n    'ul',\n    'var',\n    'video',\n    'wbr',\n\n    // SVG\n    'svg',\n    'path'\n  ]\n}\n\nexport const isValidHtmlTag = arg => HTML_TAGS.body.includes(arg)\n","'use strict'\n\nexport const ERRORS_REGISTRY = {\n  en: {\n    DocumentNotDefined: {\n      title: 'Document is undefined',\n      description: 'To tweak with DOM, you should use browser.'\n    },\n    OverwriteToBuiltin: {\n      title: 'Overwriting to builtin method',\n      description: 'Overwriting a builtin method in the window define is not possible, please choose different name'\n    },\n    BrowserNotDefined: {\n      title: 'Can\\'t recognize environment',\n      description: 'Environment should be browser application, that can run Javascript'\n    },\n    SetQuickPreferancesIsNotObject: {\n      title: 'Quick preferances object is required',\n      description: 'Please pass a plain object with \"lang\", \"culture\" and \"area\" properties'\n    },\n    InvalidParams: {\n      title: 'Params are invalid',\n      description: 'Please pass a plain object with \"lang\", \"culture\" and \"area\" properties'\n    },\n    CantCreateWithoutNode: {\n      title: 'You must provide node',\n      description: 'Can\\'t create DOM element without setting node or text'\n    },\n    HTMLInvalidTag: {\n      title: 'Element tag name (or DOM nodeName) is invalid',\n      description: 'To create element, you must provide valid DOM node. See full list of them at here: http://www.w3schools.com/tags/'\n    },\n    HTMLInvalidAttr: {\n      title: 'Attibutes object is invalid',\n      description: 'Please pass a valid plain object to apply as an attributes for a DOM node'\n    },\n    HTMLInvalidData: {\n      title: 'Data object is invalid',\n      description: 'Please pass a valid plain object to apply as an dataset for a DOM node'\n    },\n    HTMLInvalidStyles: {\n      title: 'Styles object is invalid',\n      description: 'Please pass a valid plain object to apply as an style for a DOM node'\n    },\n    HTMLInvalidText: {\n      title: 'Text string is invalid',\n      description: 'Please pass a valid string to apply text to DOM node'\n    },\n    ElementOnStateIsNotDefined: {\n      title: 'Element on state is not defined',\n      description: 'Please check the element object'\n    }\n  }\n}\n\nexport const report = (err, arg, element) => {\n  const currentLang = 'en'\n  let errObj\n  if (err && typeof err === 'string') errObj = ERRORS_REGISTRY[currentLang][err]\n\n  return new Error(\n    `\"${err}\", \"${arg}\"\\n\\n`,\n    `${errObj.description}`,\n    element ? `\\n\\n${element}` : ''\n  )\n}\n","'use strict'\n\nimport createNode from './node'\nimport { ROOT } from './tree'\nimport { TAGS } from '@domql/registry'\nimport { triggerEventOn } from '@domql/event'\nimport { assignNode, detectTag } from '@domql/render'\nimport { createState } from '@domql/state'\n\nimport { isMethod } from './methods'\nimport { createProps } from './props'\nimport { applyExtend } from './extend'\nimport { registry } from './mixins'\nimport { addMethods } from './methods/set'\nimport { assignKeyAsClassname } from './mixins/classList'\nimport { throughInitialExec, throughInitialDefine } from './iterate'\n\nimport {\n  isObject,\n  isFunction,\n  isString,\n  exec,\n  is,\n  isNode,\n  isUndefined,\n  generateKey,\n  deepClone\n} from '@domql/utils'\n\nimport OPTIONS from './cache/options'\n\nimport {\n  applyComponentFromContext,\n  applyKeyComponentAsExtend,\n  applyVariant,\n  checkIfKeyIsComponent,\n  isVariant\n} from './utils/component'\n\nconst ENV = process.env.NODE_ENV\n\n/**\n * Creating a domQL element using passed parameters\n */\nconst create = (element, parent, key, options = OPTIONS.create || {}, attachOptions) => {\n  cacheOptions(element, options)\n\n  // if (key === 'Title') debugger\n\n  // if element is STRING\n  if (checkIfPrimitive(element)) {\n    element = applyValueAsText(element, parent, key)\n  }\n\n  element = redefineElement(element, parent, key, options)\n  parent = redefineParent(element, parent, key)\n  key = createKey(element, parent, key)\n\n  const ref = addRef(element, parent, key)\n\n  // assign initial props\n  ref.__initialProps = deepClone(element.props, [])\n\n  // assign context\n  applyContext(element, parent, options)\n\n  applyComponentFromContext(element, parent, options)\n\n  if (!ref.__skipCreate) {\n    // create EXTEND inheritance\n    applyExtend(element, parent, options)\n  }\n\n  // create and assign a KEY\n  element.key = key\n\n  // Only resolve extends, skip everything else\n  if (options.onlyResolveExtends) {\n    return onlyResolveExtends(element, parent, key, options)\n  }\n\n  replaceOptions(element, parent, options)\n\n  addCaching(element, parent)\n\n  addMethods(element, parent)\n\n  createScope(element, parent)\n\n  createState(element, parent)\n  if (element.scope === 'state') element.scope = element.state\n\n  createIfConditionFlag(element, parent)\n\n  // apply props settings\n  createProps(element, parent)\n  if (element.scope === 'props' || element.scope === true) element.scope = element.props\n\n  // recatch if it passess props again\n  createIfConditionFlag(element, parent)\n\n  // if it already HAS a NODE\n  if (element.node && ref.__if) {\n    return assignNode(element, parent, key, attachOptions)\n  }\n\n  // apply variants\n  applyVariant(element, parent)\n\n  const onInit = triggerEventOn('init', element, options)\n  if (onInit === false) return element\n\n  triggerEventOn('beforeClassAssign', element, options)\n\n  // generate a CLASS name\n  assignKeyAsClassname(element)\n\n  renderElement(element, parent, options, attachOptions)\n\n  addElementIntoParentChildren(element, parent)\n\n  triggerEventOn('complete', element, options)\n\n  return element\n}\n\nconst createBasedOnType = (element, parent, key, options) => {\n  // if ELEMENT is not given\n  if (element === undefined) {\n    if (ENV === 'test' || ENV === 'development') {\n      console.warn(key, 'element is undefined in', parent && parent.__ref && parent.__ref.path)\n    }\n    return {}\n  }\n  if (isString(key) && key.slice(0, 2 === '__')) {\n    if (ENV === 'test' || ENV === 'development') {\n      console.warn(key, 'seems like to be in __ref')\n    }\n  }\n  if (element === null) return\n  if (element === true) return { text: true }\n\n  // if element is extend\n  if (element.__hash) {\n    return { extend: element }\n  }\n\n  return element\n}\n\nconst redefineElement = (element, parent, key, options) => {\n  const elementWrapper = createBasedOnType(element, parent, key, options)\n\n  if (checkIfKeyIsComponent(key)) {\n    return applyKeyComponentAsExtend(elementWrapper, parent, key)\n  }\n\n  // TODO: move as define plugins\n  // Responsive rendering\n  if (checkIfMedia(key)) {\n    return applyMediaProps(elementWrapper, parent, key)\n  }\n\n  return elementWrapper\n}\n\nconst redefineParent = (element, parent, key, options) => {\n  if (!parent) return ROOT\n  if (isNode(parent)) {\n    const parentNodeWrapper = { key: ':root', node: parent }\n    ROOT[`${key}_parent`] = parentNodeWrapper\n    return parentNodeWrapper\n  }\n  return parent\n}\n\nconst cacheOptions = (element, options) => {\n  if (options && !OPTIONS.create) {\n    OPTIONS.create = options\n    OPTIONS.create.context = element.context || options.context\n  }\n}\n\nconst createKey = (element, parent, key) => {\n  return (\n    exec(key, element) ||\n    key ||\n    element.key ||\n    generateKey()\n  ).toString()\n}\n\nconst addRef = (element, parent) => {\n  if (element.__ref) element.__ref.origin = element\n  else element.__ref = { origin: element }\n  return element.__ref\n}\n\nconst replaceOptions = (element, parent, options) => {\n  if (Object.keys(options).length) {\n    registry.defaultOptions = options\n    if (options.ignoreChildExtend) delete options.ignoreChildExtend\n  }\n}\n\nconst addElementIntoParentChildren = (element, parent) => {\n  if (parent.__ref && parent.__ref.__children) parent.__ref.__children.push(element.key)\n}\n\nconst renderElement = (element, parent, options, attachOptions) => {\n  const { __ref: ref, key } = element\n\n  // CREATE a real NODE\n  createNode(element, options)\n\n  if (!ref.__if) {\n    parent[key || element.key] = element\n    return element\n  }\n\n  // assign NODE\n  assignNode(element, parent, key, attachOptions)\n\n  // run `on.renderRouter`\n  triggerEventOn('renderRouter', element, options)\n\n  // run `on.render`\n  triggerEventOn('render', element, options)\n}\n\nconst checkIfPrimitive = (element) => {\n  return is(element)('string', 'number')\n}\n\nconst applyValueAsText = (element, parent, key) => {\n  const extendTag = element.extend && element.extend.tag\n  const childExtendTag = parent.childExtend && parent.childExtend.tag\n  const isKeyValidHTMLTag = ((TAGS.body.indexOf(key) > -1) && key)\n  return {\n    text: element,\n    tag: extendTag || childExtendTag || isKeyValidHTMLTag || 'string'\n  }\n}\n\nconst applyContext = (element, parent, options) => {\n  if (options.context && !ROOT.context && !element.context) ROOT.context = options.context\n  if (!element.context) element.context = parent.context || options.context || ROOT.context\n}\n\nconst createScope = (element, parent) => {\n  const { __ref: ref } = element\n  if (!element.scope) element.scope = parent.scope || ref.__root.scope || {}\n}\n\nconst createIfConditionFlag = (element, parent) => {\n  const { __ref: ref } = element\n\n  if (isFunction(element.if) && !element.if(element, element.state)) {\n    delete ref.__if\n  } else ref.__if = true\n}\n\nconst addCaching = (element, parent) => {\n  const { __ref: ref } = element\n  let { __ref: parentRef } = parent\n\n  // enable TRANSFORM in data\n  if (!element.transform) element.transform = {}\n\n  // enable CACHING\n  if (!ref.__cached) ref.__cached = {}\n  if (!ref.__defineCache) ref.__defineCache = {}\n\n  // enable EXEC\n  if (!ref.__exec) ref.__exec = {}\n\n  // enable CLASS CACHING\n  if (!ref.__class) ref.__class = {}\n  if (!ref.__classNames) ref.__classNames = {}\n\n  // enable CLASS CACHING\n  if (!ref.__attr) ref.__attr = {}\n\n  // enable CHANGES storing\n  if (!ref.__changes) ref.__changes = []\n\n  // enable CHANGES storing\n  if (!ref.__children) ref.__children = []\n\n  // Add _root element property\n  const hasRoot = parent && parent.key === ':root'\n  if (!ref.__root) ref.__root = hasRoot ? element : parentRef.__root\n\n  // set the PATH array\n  if (ENV === 'test' || ENV === 'development') {\n    if (!parentRef) parentRef = parent.ref = {}\n    if (!parentRef.__path) parentRef.__path = []\n    ref.__path = parentRef.__path.concat(element.key)\n  }\n}\n\nconst onlyResolveExtends = (element, parent, key, options) => {\n  const { __ref: ref } = element\n  if (!ref.__skipCreate) {\n    element.tag = detectTag(element)\n\n    // if (!element.props) element.props = {}\n\n    // Copy-paste of addCaching()\n    // enable CACHING\n    if (!ref.__cached) ref.__cached = {}\n    if (!ref.__defineCache) ref.__defineCache = {}\n\n    // enable EXEC\n    if (!ref.__exec) ref.__exec = {}\n\n    // enable CLASS CACHING\n    if (!ref.__class) ref.__class = {}\n    if (!ref.__classNames) ref.__classNames = {}\n\n    // enable CLASS CACHING\n    if (!ref.__attr) ref.__attr = {}\n\n    // enable CHANGES storing\n    if (!ref.__changes) ref.__changes = []\n\n    // enable CHANGES storing\n    if (!ref.__children) ref.__children = []\n\n    // Add __root element property\n    // const hasRoot = parent && parent.key === ':root'\n    // if (!ref.__root) ref.__root = hasRoot ? element : parentRef.__root\n\n    addMethods(element, parent)\n\n    createState(element, parent)\n\n    // Borrowed from createIfConditionFlag()\n    if (isFunction(element.if)) {\n      const ifPassed = element.if(element, element.state)\n      if (!ifPassed) {\n        // const ifFragment = cacheNode({ tag: 'fragment' })\n        // ref.__ifFragment = appendNode(ifFragment, parent.node)\n        delete ref.__if\n      } else ref.__if = true\n    } else ref.__if = true\n    /// ///\n\n    if (element.node && ref.__if) { parent[key || element.key] = element } // Borrowed from assignNode()\n\n    createProps(element, parent)\n    if (!element.props) element.props = {}\n    applyVariant(element, parent)\n  }\n\n  if (element.tag !== 'string' && element.tag !== 'fragment') {\n    throughInitialDefine(element)\n    throughInitialExec(element)\n\n    for (const k in element) {\n      if (\n        isUndefined(element[k]) ||\n        isMethod(k) ||\n        isObject(registry[k]) ||\n        isVariant(k)\n      ) continue\n\n      const hasDefine = element.define && element.define[k]\n      const contextHasDefine = element.context && element.context.define &&\n            element.context.define[k]\n      const optionsHasDefine = options.define && options.define[k]\n\n      if (!ref.__skipCreate && registry[k] && !optionsHasDefine) {\n        continue\n      } else if (element[k] && !hasDefine && !optionsHasDefine && !contextHasDefine) {\n        create(exec(element[k], element), element, k, options)\n      }\n    }\n  }\n\n  parent[key || element.key] = element // Borrowed from assignNode()\n\n  delete element.update\n  delete element.__element\n\n  // added by createProps\n  if (element.props) {\n    delete element.props.update\n    delete element.props.__element\n  }\n\n  return element\n}\n\nconst checkIfMedia = (key) => key.slice(0, 1) === '@'\n\nconst applyMediaProps = (element, parent, key) => {\n  const { props } = element\n  if (props) {\n    props.display = 'none'\n    if (props[key]) props[key].display = props.display\n    else props[key] = { display: props.display || 'block' }\n    return element\n  } else {\n    return {\n      ...element,\n      props: {\n        display: 'none',\n        [key]: { display: 'block' }\n      }\n    }\n  }\n}\n\nexport default create\n","'use strict'\n\nimport { exec, isFunction, isObject, isUndefined } from '@domql/utils'\nimport { applyEventsOnNode, triggerEventOn } from '@domql/event'\nimport { cacheNode } from '@domql/render'\nimport { isMethod } from './methods'\n\nimport create from './create'\n\nimport {\n  throughInitialDefine,\n  throughInitialExec\n} from './iterate'\nimport { registry } from './mixins'\nimport { applyParam } from './applyParam'\nimport { isVariant } from './utils'\n// import { defineSetter } from './methods'\n\nconst ENV = process.env.NODE_ENV\n\nexport const createNode = (element, options) => {\n  // create and assign a node\n  let { node, tag, __ref: ref } = element\n\n  let isNewNode\n\n  if (!node) {\n    isNewNode = true\n\n    if (!ref.__if) return element\n\n    if (tag === 'shadow') {\n      node = element.node = element.parent.node.attachShadow({ mode: 'open' })\n    } else node = element.node = cacheNode(element)\n\n    // trigger `on.attachNode`\n    triggerEventOn('attachNode', element, options)\n  }\n\n  // node.dataset // .key = element.key\n\n  if (ENV === 'test' || ENV === 'development' || options.alowRefReference) {\n    node.ref = element\n    if (isFunction(node.setAttribute)) node.setAttribute('key', element.key)\n  }\n\n  // iterate through define\n  throughInitialDefine(element)\n\n  // iterate through exec\n  throughInitialExec(element)\n\n  if (element.tag !== 'string' && element.tag !== 'fragment') {\n    // apply events\n    if (isNewNode && isObject(element.on)) applyEventsOnNode(element, options)\n  }\n\n  for (const param in element) {\n    const value = element[param]\n\n    if (\n      isUndefined(value) ||\n      isMethod(param) ||\n      isVariant(param) ||\n      isObject(registry[param])\n    ) continue\n\n    const isElement = applyParam(param, element, options)\n    if (isElement) {\n      const { hasDefine, hasContextDefine } = isElement\n      if (element[param] && !hasDefine && !hasContextDefine) {\n        const createAsync = () => create(exec(value, element), element, param, options)\n\n        if ((element.props && element.props.lazyLoad) || options.lazyLoad) {\n          window.requestAnimationFrame(() => createAsync())\n        } else createAsync()\n      }\n    }\n  }\n\n  // node.dataset.key = key\n  return element\n}\n\nexport default createNode\n","'use strict'\n\nexport * from './on'\nexport * from './can'\n","'use strict'\n\nimport { isFunction } from '@domql/utils'\n\nexport const applyEvent = (param, element, state, context, options) => {\n  return param(element, state || element.state, context || element.context, options)\n}\n\nexport const triggerEventOn = (param, element, options) => {\n  if (element.on && isFunction(element.on[param])) {\n    const { state, context } = element\n    return applyEvent(element.on[param], element, state, context, options)\n  }\n}\n\nexport const applyEventUpdate = (param, updatedObj, element, state, context, options) => {\n  return param(updatedObj, element, state || element.state, context || element.context, options)\n}\n\nexport const triggerEventOnUpdate = (param, updatedObj, element, options) => {\n  if (element.on && isFunction(element.on[param])) {\n    const { state, context } = element\n    return applyEventUpdate(element.on[param], updatedObj, element, state, context, options)\n  }\n}\n\nexport const applyEventsOnNode = (element, options) => {\n  const { node, on } = element\n  for (const param in on) {\n    if (\n      param === 'init' ||\n      param === 'beforeClassAssign' ||\n      param === 'render' ||\n      param === 'renderRouter' ||\n      param === 'attachNode' ||\n      param === 'stateInit' ||\n      param === 'stateCreated' ||\n      param === 'initStateUpdated' ||\n      param === 'stateUpdated' ||\n      param === 'initUpdate' ||\n      param === 'update'\n    ) continue\n\n    const appliedFunction = element.on[param]\n    if (isFunction(appliedFunction)) {\n      node.addEventListener(param, event => {\n        const { state, context } = element\n        appliedFunction(event, element, state, context, options)\n      })\n    }\n  }\n}\n","'use strict'\n\nimport { report } from '@domql/report'\nimport { isValidHtmlTag } from '@domql/utils'\n\nexport const canRender = (element) => {\n  const tag = element.tag || 'div'\n  return isValidHtmlTag(tag) || report('HTMLInvalidTag')\n}\n","'use strict'\n\nexport * from './create'\nexport * from './cache'\nexport * from './append'\n","'use strict'\n\nexport const createNode = (element) => {}\n","'use strict'\n\nimport { report } from '@domql/report'\nimport { canRender } from '@domql/event'\nimport { exec, isObject, isString, isValidHtmlTag } from '@domql/utils'\n\nconst cache = {}\n\nexport const createHTMLNode = (element) => {\n  const { tag } = element\n  if (tag) {\n    if (tag === 'string') return document.createTextNode(element.text)\n    else if (tag === 'fragment') {\n      return document.createDocumentFragment()\n    } else if (tag === 'svg' || tag === 'path') { // TODO: change that\n      return document.createElementNS('http://www.w3.org/2000/svg', tag)\n    } else return document.createElement(tag) // TODO: allow strict mode to check validity\n  } else {\n    return document.createElement('div')\n  }\n}\n\nexport const detectTag = element => {\n  let { tag, key, props } = element\n  tag = exec(tag, element)\n\n  if (tag === true) tag = key\n\n  if (isObject(props) && isString(props.tag)) {\n    const tagExists = isValidHtmlTag(props.tag)\n    if (tagExists) return props.tag\n  }\n\n  if (isString(tag)) {\n    const tagExists = isValidHtmlTag(tag)\n    if (tagExists) return tag\n  } else {\n    const isKeyATag = isValidHtmlTag(key)\n    if (isKeyATag) return key\n  }\n\n  return 'div'\n}\n\nexport const cacheNode = (element) => {\n  const tag = element.tag = detectTag(element)\n\n  if (!canRender(element)) {\n    return report('HTMLInvalidTag', element.tag, element)\n  }\n\n  let cachedTag = cache[tag]\n  if (!cachedTag) cachedTag = cache[tag] = createHTMLNode(element)\n\n  const clonedNode = cachedTag.cloneNode(true)\n  if (tag === 'string') clonedNode.nodeValue = element.text\n  return clonedNode\n}\n","'use strict'\n\n/**\n * Receives child and parent nodes as parametes\n * and assigns them into real DOM tree\n */\nexport const appendNode = (node, parentNode) => {\n  parentNode.appendChild(node)\n  return node\n}\n\nexport const insertNodeAfter = (node, siblingNode, parentNode) => {\n  const parent = (parentNode || siblingNode.parentNode)\n  if (siblingNode.nextSibling) {\n    parent?.insertBefore(node, siblingNode.nextSibling)\n  } else {\n    siblingNode?.insertAdjacentElement('afterend', node)\n  }\n}\n\nexport const insertNodeBefore = (node, siblingNode, parentNode) => {\n  (parentNode || siblingNode.parentNode)?.insertBefore(node, siblingNode)\n}\n\n/**\n * Receives elements and assigns the first\n * parameter as a child of the second one\n */\nexport const assignNode = (element, parent, key, attachOptions) => {\n  parent[key || element.key] = element\n  if (element.tag !== 'shadow') {\n    if (attachOptions && attachOptions.position) {\n      (attachOptions.position === 'before'\n        ? insertNodeBefore\n        : insertNodeAfter)(element.node, attachOptions.node || parent.node)\n    } else {\n      appendNode(element.node, parent.node)\n    }\n  }\n  return element\n}\n","'use strict'\n\nimport { isDefined, isFunction, isObjectLike, isProduction } from '@domql/utils'\nimport { TREE } from '../tree'\nimport { parseFilters, registry } from '../mixins'\n\n// TODO: update these files\nexport const spotByPath = function (path) {\n  const element = this\n  const arr = [].concat(path)\n  let active = TREE[arr[0]]\n\n  if (!arr || !arr.length) return console.log(arr, 'on', element.key, 'is undefined')\n\n  while (active.key === arr[0]) {\n    arr.shift()\n    if (!arr.length) break\n    active = active[arr[0]]\n    if (!active) return\n  }\n\n  return active\n}\n\n// TODO: update these files\nexport const lookup = function (key) {\n  const element = this\n  let { parent } = element\n\n  while (parent.key !== key) {\n    if (parent[key]) return parent[key]\n    parent = parent.parent\n    if (!parent) return\n  }\n\n  return parent\n}\n\nexport const remove = function (params) {\n  const element = this\n  if (isFunction(element.node.remove)) element.node.remove()\n  else if (!isProduction()) {\n    console.warn('This item cant be removed')\n    element.log()\n  }\n  delete element.parent[element.key]\n}\n\nexport const get = function (param) {\n  const element = this\n  return element[param]\n}\n\nexport const setProps = function (param, options) {\n  const element = this\n  if (!param || !element.props) return\n  element.update({ props: param }, options)\n  return element\n}\n\n// export const set = function () {\n// }\n\n// export const update = function () {\n// }\n\nexport const defineSetter = (element, key, get, set) =>\n  Object.defineProperty(element, key, { get, set })\n\nexport const keys = function () {\n  const element = this\n  const keys = []\n  for (const param in element) {\n    if (registry[param] && !parseFilters.elementKeys.includes(param)) { continue }\n    keys.push(param)\n  }\n  return keys\n}\n\nexport const parse = function (excl = []) {\n  const element = this\n  const obj = {}\n  const keyList = keys.call(element)\n  keyList.forEach(v => {\n    if (excl.includes(v)) return\n    let val = element[v]\n    if (v === 'state') {\n      if (element.__ref && element.__ref.__hasRootState) return\n      if (isFunction(val && val.parse)) val = val.parse()\n    } else if (v === 'props') {\n      const { __element, update, ...props } = element[v]\n      obj[v] = props\n    } else if (isDefined(val)) obj[v] = val\n  })\n  return obj\n}\n\nexport const parseDeep = function (excl = []) {\n  const element = this\n  const obj = parse.call(element, excl)\n  for (const v in obj) {\n    if (excl.includes(v)) return\n    if (isObjectLike(obj[v])) { obj[v] = parseDeep.call(obj[v], excl) }\n  }\n  return obj\n}\n\nexport const log = function (...args) {\n  const element = this\n  const { __ref } = element\n  console.group(element.key)\n  if (args.length) {\n    args.forEach(v => console.log(`%c${v}:\\n`, 'font-weight: bold', element[v]))\n  } else {\n    console.log(__ref.path)\n    const keys = element.keys()\n    keys.forEach(v => console.log(`%c${v}:\\n`, 'font-weight: bold', element[v]))\n  }\n  console.groupEnd(element.key)\n  return element\n}\n\nexport const nextElement = function () {\n  const element = this\n  const { key, parent } = element\n  const { __children } = parent.__ref\n\n  const currentIndex = __children.indexOf(key)\n  const nextChild = __children[currentIndex + 1]\n\n  return parent[nextChild]\n}\n\nexport const previousElement = function (el) {\n  const element = el || this\n  const { key, parent } = element\n  const { __children } = parent.__ref\n\n  if (!__children) return\n\n  const currentIndex = __children.indexOf(key)\n  return parent[__children[currentIndex - 1]]\n}\n\nexport const METHODS = [\n  'set',\n  'update',\n  'remove',\n  'updateContent',\n  'removeContent',\n  'lookup',\n  'spotByPath',\n  'keys',\n  'parse',\n  'setProps',\n  'parseDeep',\n  'if',\n  'log',\n  'nextElement',\n  'previousElement'\n]\n\nexport const isMethod = function (param) {\n  return METHODS.includes(param)\n}\n","'use strict'\n\nimport attr from './attr'\nimport classList from './classList'\nimport content from './content'\nimport data from './data'\nimport html from './html'\nimport style from './style'\nimport text from './text'\nimport state from './state'\nimport scope from './scope'\nimport registry from './registry'\nexport {\n  attr,\n  classList,\n  content,\n  data,\n  style,\n  text,\n  html,\n  state,\n  scope,\n  registry\n}\nexport * from './registry'\n","'use strict'\n\nimport { exec, isNot } from '@domql/utils'\nimport { report } from '@domql/report'\n\n/**\n * Recursively add attributes to a DOM node\n */\nexport default (params, element, node) => {\n  const { __ref } = element\n  const { __attr } = __ref\n  if (isNot('object')) report('HTMLInvalidAttr', params)\n  if (params) {\n    for (const attr in params) {\n      const val = exec(params[attr], element)\n      // if (__attr[attr] === val) return\n      if (val && node.setAttribute) node.setAttribute(attr, val)\n      else if (node.removeAttribute) node.removeAttribute(attr)\n      __attr[attr] = val\n    }\n  }\n  console.groupEnd(params, __attr)\n}\n","'use strict'\n\nimport { exec, isObject, isString } from '@domql/utils'\n\nexport const assignKeyAsClassname = (element) => {\n  const { key } = element\n  if (element.class === true) element.class = key\n  else if (!element.class && typeof key === 'string' && key.charAt(0) === '_' && key.charAt(1) !== '_') {\n    element.class = key.slice(1)\n  }\n}\n\n// stringifies class object\nexport const classify = (obj, element) => {\n  let className = ''\n  for (const item in obj) {\n    const param = obj[item]\n    if (typeof param === 'boolean' && param) className += ` ${item}`\n    else if (typeof param === 'string') className += ` ${param}`\n    else if (typeof param === 'function') {\n      className += ` ${exec(param, element)}`\n    }\n  }\n  return className\n}\n\nexport const classList = (params, element) => {\n  if (!params) return\n  const { key } = element\n  if (params === true) params = element.class = { key }\n  if (isString(params)) params = element.class = { default: params }\n  if (isObject(params)) params = classify(params, element)\n  // TODO: fails on string\n  const className = params.replace(/\\s+/g, ' ').trim()\n  if (element.ref) element.ref.class = className // TODO: this check is NOT needed in new DOMQL\n  return className\n}\n\n// LEGACY (still needed in old domql)\nexport const applyClassListOnNode = (params, element, node) => {\n  const className = classList(params, element)\n  node.classList = className\n  return className\n}\n\nexport default (params, element, node) => {\n  applyClassListOnNode(params, element, node)\n}\n","'use strict'\n\nimport { isFunction } from '@domql/utils'\nimport set from '../set'\n\nexport const updateContent = function (params, options) {\n  const element = this\n\n  if (!element.content) return\n  if (element.content.update) element.content.update(params, options)\n}\n\nexport const removeContent = function (el) {\n  const element = el || this\n  const { __ref } = element\n\n  if (element.content) {\n    if (element.content.node) {\n      if (element.content.tag === 'fragment') element.node.innerHTML = ''\n      else element.node.removeChild(element.content.node)\n    }\n\n    const { __cached } = __ref\n    if (__cached && __cached.content) {\n      if (__cached.content.tag === 'fragment') __cached.content.parent.node.innerHTML = ''\n      else if (__cached.content && isFunction(__cached.content.remove)) __cached.content.remove()\n    }\n\n    delete element.content\n  }\n}\n\n/**\n * Appends anything as content\n * an original one as a child\n */\nexport const setContent = (param, element, node, options) => {\n  if (param && element) {\n    if (element.content.update) {\n      element.content.update({}, options)\n    } else {\n      set.call(element, param, options)\n    }\n  }\n}\n\nexport default setContent\n","'use strict'\n\nimport { deepContains } from '@domql/utils'\n\nimport create from './create'\nimport OPTIONS from './cache/options'\nimport { registry } from './mixins'\nimport { removeContent } from './mixins/content'\n\nconst set = function (params, options = {}, el) {\n  const element = el || this\n  const { __ref: ref, content } = element\n  const __contentRef = content && content.__ref\n  const lazyLoad = element.props && element.props.lazyLoad\n\n  if (ref.__noCollectionDifference || (__contentRef && __contentRef.__cached && deepContains(params, content))) {\n    return content.update()\n  }\n\n  if (options.preventContentUpdate === true) return\n\n  const setAsync = () => {\n    removeContent(element)\n    create(params, element, 'content', {\n      ignoreChildExtend: true,\n      ...registry.defaultOptions,\n      ...OPTIONS.create,\n      ...options\n    })\n  }\n\n  if (params) {\n    const { childExtend } = params\n    if (!childExtend && element.childExtend) params.childExtend = element.childExtend\n\n    if (lazyLoad) {\n      window.requestAnimationFrame(setAsync)\n    } else setAsync()\n  }\n\n  return element\n}\n\nexport default set\n","'use strict'\n\nexport default {}\n","'use strict'\n\nimport { exec, isObject } from '@domql/utils'\nimport { report } from '@domql/report'\n\n/**\n * Apply data parameters on the DOM nodes\n * this should only work if `showOnNode: true` is passed\n */\nexport default (params, element, node) => {\n  if (params && params.showOnNode) {\n    if (!isObject(params)) report('HTMLInvalidData', params)\n\n    // Apply data params on node\n    for (const dataset in params) {\n      if (dataset !== 'showOnNode') {\n        node.dataset[dataset] = exec(params[dataset], element)\n      }\n    }\n  }\n}\n","'use strict'\n\nimport { exec } from '@domql/utils'\n\n/**\n * Appends raw HTML as content\n * an original one as a child\n */\nexport default (param, element, node) => {\n  const prop = exec(param, element)\n  const { __ref } = element\n  if (prop !== __ref.__html) {\n    // const parser = new window.DOMParser()\n    // param = parser.parseFromString(param, 'text/html')\n    if (node.nodeName === 'SVG') node.textContent = prop\n    else node.innerHTML = prop\n\n    __ref.__html = prop\n  }\n}\n","'use strict'\n\nimport { isObject, map } from '@domql/utils'\nimport { report } from '@domql/report'\n\n/**\n * Recursively add styles to a DOM node\n */\nexport default (params, element, node) => {\n  if (params) {\n    if (isObject(params)) map(node.style, params, element)\n    else report('HTMLInvalidStyles', params)\n  }\n}\n","'use strict'\n\nimport { create } from '..'\nimport {\n  exec,\n  isString,\n  replaceLiteralsWithObjectFields\n} from '@domql/utils'\n\n/**\n * Creates a text node and appends into\n * an original one as a child\n */\nexport default (param, element, node) => {\n  let prop = exec(param, element)\n  if (isString(prop) && prop.includes('{{')) {\n    prop = replaceLiteralsWithObjectFields(prop, element.state)\n  }\n  if (element.tag === 'string') {\n    node.nodeValue = prop\n  } else if (param !== undefined || param !== null) {\n    if (element.__text) {\n      if (element.__text.text === prop) return\n      element.__text.text = prop\n      if (element.__text.node) element.__text.node.nodeValue = prop\n    } else create({ tag: 'string', text: prop }, element, '__text')\n  }\n}\n","'use strict'\n\nimport { IGNORE_STATE_PARAMS } from '@domql/state'\nimport { exec, isObject } from '@domql/utils'\n\nexport const state = (params, element, node) => {\n  const state = exec(params, element)\n\n  if (isObject(state)) {\n    for (const param in state) {\n      if (IGNORE_STATE_PARAMS.includes(param)) continue\n      if (!Object.hasOwnProperty.call(state, param)) continue\n      element.state[param] = exec(state[param], element)\n    }\n  }\n\n  return element\n}\n\nexport default state\n","'use strict'\n\nexport * from './ignore'\nexport * from './create'\nexport * from './updateState'\nexport * from './methods'\nexport * from './inherit'\n","'use strict'\n\nexport const IGNORE_STATE_PARAMS = [\n  'update', 'parse', 'clean', 'create', 'destroy', 'add', 'toggle', 'remove', 'apply', 'set', 'reset',\n  'rootUpdate', 'parentUpdate', 'parent', '__element', '__depends', '__ref', '__children', '__root'\n]\n","'use strict'\n\nimport { triggerEventOn } from '@domql/event'\nimport { deepCloneWithExtnd, exec, is, isArray, isFunction, isObject, isUndefined } from '@domql/utils'\nimport { IGNORE_STATE_PARAMS } from './ignore'\nimport { add, apply, clean, destroy, parentUpdate, parse, remove, rootUpdate, set, reset, toggle } from './methods'\nimport { updateState } from './updateState'\nimport { checkIfInherits, createInheritedState } from './inherit'\n\nexport const createState = function (element, parent, options) {\n  element.state = applyInitialState(element, parent, options)\n  return element.state\n}\n\nexport const applyInitialState = function (element, parent, options) {\n  const objectizeState = checkForTypes(element)\n  if (objectizeState === false) return parent.state || {}\n  else element.state = deepCloneWithExtnd(objectizeState, IGNORE_STATE_PARAMS)\n\n  const whatInitReturns = triggerEventOn('stateInit', element, options)\n  if (whatInitReturns === false) return element.state\n\n  if (checkIfInherits(element)) {\n    const inheritedState = createInheritedState(element, parent)\n    element.state = isUndefined(inheritedState) ? {} : inheritedState\n  }\n\n  const dependentState = applyDependentState(element, element.state)\n  if (dependentState) element.state = dependentState\n\n  applyMethods(element)\n\n  // trigger `on.stateCreated`\n  triggerEventOn('stateCreated', element)\n\n  return element.state\n}\n\nconst applyDependentState = (element, state) => {\n  const { __ref: ref } = state\n  if (!ref) return\n  const dependentState = deepCloneWithExtnd(ref, IGNORE_STATE_PARAMS)\n  const newDepends = { [element.key]: dependentState }\n  ref.__depends = isObject(ref.__depends)\n    ? { ...ref.__depends, ...newDepends }\n    : newDepends\n\n  return dependentState\n}\n\nconst checkForTypes = (element) => {\n  const { state, __ref: ref } = element\n  if (isFunction(state)) {\n    ref.__state = state\n    return exec(state, element)\n  } else if (is(state)('string', 'number')) {\n    ref.__state = state\n    return {}\n  } else if (state === true) {\n    ref.__state = element.key\n    return {}\n  } else if (state) {\n    ref.__hasRootState = true\n    return state\n  } else {\n    return false\n  }\n}\n\nconst addProtoToArray = (state, proto) => {\n  for (const key in proto) {\n    Object.defineProperty(state, key, {\n      value: proto[key],\n      enumerable: false, // Set this to true if you want the method to appear in for...in loops\n      configurable: true, // Set this to true if you want to allow redefining/removing the property later\n      writable: true // Set this to true if you want to allow changing the function later\n    })\n  }\n}\n\nconst applyMethods = (element) => {\n  const state = element.state\n  const ref = element.__ref\n\n  const proto = {\n    clean: clean.bind(state),\n    parse: parse.bind(state),\n    destroy: destroy.bind(state),\n    update: updateState.bind(state),\n    rootUpdate: rootUpdate.bind(state),\n    parentUpdate: parentUpdate.bind(state),\n    create: createState.bind(state),\n    add: add.bind(state),\n    toggle: toggle.bind(state),\n    remove: remove.bind(state),\n    apply: apply.bind(state),\n    set: set.bind(state),\n    reset: reset.bind(state),\n    parent: element.parent.state,\n    __element: element,\n    __children: {},\n    __root: ref.__root ? ref.__root.state : state\n  }\n\n  if (isArray(state)) {\n    addProtoToArray(state, proto)\n  } else {\n    Object.setPrototypeOf(state, proto)\n  }\n\n  if (state.parent && state.parent.__children) { state.parent.__children[element.key] = state }\n}\n","'use strict'\n\nimport { isArray, deepCloneWithExtnd, isFunction, isObject, isString, removeFromArray, removeFromObject } from '@domql/utils'\n\nimport { IGNORE_STATE_PARAMS } from './ignore'\n\nexport const parse = function () {\n  const state = this\n  if (isObject(state)) {\n    const obj = {}\n    for (const param in state) {\n      if (!IGNORE_STATE_PARAMS.includes(param)) {\n        obj[param] = state[param]\n      }\n    }\n    return obj\n  } else if (isArray(state)) {\n    return state.filter(item => !IGNORE_STATE_PARAMS.includes(item))\n  }\n}\n\nexport const clean = function (options = {}) {\n  const state = this\n  for (const param in state) {\n    if (!IGNORE_STATE_PARAMS.includes(param)) {\n      delete state[param]\n    }\n  }\n  if (!options.preventStateUpdate) {\n    state.update(state, { replace: true, ...options })\n  }\n  return state\n}\n\nexport const destroy = function (options = {}) {\n  const state = this\n  const element = state.__element\n\n  const stateKey = element.__ref.__state\n  if (isString(stateKey)) {\n    element.parent.state.remove(stateKey, { isHoisted: true, ...options })\n    return element.state\n  }\n\n  delete element.state\n  element.state = state.parent\n\n  if (state.parent) {\n    delete state.parent.__children[element.key]\n  }\n\n  if (state.__children) {\n    for (const key in state.__children) {\n      const child = state.__children[key]\n      if (child.state) {\n        if (isArray(child.state)) {\n          Object.defineProperty(child.state, 'parent', {\n            value: state.parent,\n            enumerable: false, // Set this to true if you want the method to appear in for...in loops\n            configurable: true, // Set this to true if you want to allow redefining/removing the property later\n            writable: true // Set this to true if you want to allow changing the function later\n          })\n        } else {\n          Object.setPrototypeOf(child, { parent: state.parent })\n        }\n      }\n    }\n  }\n\n  element.state.update({}, { isHoisted: true, ...options })\n  return element.state\n}\n\nexport const parentUpdate = function (obj, options = {}) {\n  const state = this\n  if (!state || !state.parent) return\n  return state.parent.update(obj, { isHoisted: true, ...options })\n}\n\nexport const rootUpdate = function (obj, options = {}) {\n  const state = this\n  if (!state) return\n  const rootState = (state.__element.__ref.__root).state\n  return rootState.update(obj, { isHoisted: false, ...options })\n}\n\nexport const add = function (value, options = {}) {\n  const state = this\n  if (isArray(state)) {\n    state.push(value)\n    state.update(state.parse(), { overwrite: 'replace', ...options })\n  } else if (isObject(state)) {\n    const key = Object.keys(state).length\n    state.update({ [key]: value }, options)\n  }\n}\n\nexport const toggle = function (key, options = {}) {\n  const state = this\n  state.update({ [key]: !state[key] }, options)\n}\n\nexport const remove = function (key, options = {}) {\n  const state = this\n  if (isArray(state)) removeFromArray(state, key)\n  if (isObject(state)) removeFromObject(state, key)\n  return state.update(state.parse(), { replace: true, ...options })\n}\n\nexport const set = function (val, options = {}) {\n  const state = this\n  const value = deepCloneWithExtnd(val)\n  return state.clean({ preventStateUpdate: true, ...options })\n    .update(value, { replace: true, ...options })\n}\n\nexport const reset = function (options = {}) {\n  const state = this\n  const value = deepCloneWithExtnd(state.parse())\n  return state.set(value, { replace: true, ...options })\n}\n\nexport const apply = function (func, options = {}) {\n  const state = this\n  if (isFunction(func)) {\n    func(state)\n    return state.update(state.parse(), { replace: true, ...options })\n  }\n}\n","'use strict'\n\nimport { report } from '@domql/report'\nimport { triggerEventOnUpdate } from '@domql/event'\nimport { IGNORE_STATE_PARAMS } from './ignore'\nimport { deepMerge, merge, overwriteDeep, overwriteShallow } from '@domql/utils'\nimport { checkIfInherits, createChangesByKey, findInheritedState, getParentStateInKey } from './inherit'\n\nconst STATE_UPDATE_OPTIONS = {\n  overwrite: true,\n  preventHoistElementUpdate: false,\n  updateByState: true,\n  isHoisted: true,\n  execStateFunction: true\n}\n\nexport const updateState = function (obj, options = STATE_UPDATE_OPTIONS) {\n  const state = this\n  const element = state.__element\n\n  if (!options.updateByState) merge(options, STATE_UPDATE_OPTIONS)\n\n  if (!state.__element) report('ElementOnStateIsNotDefined')\n  if (options.preventInheritAtCurrentState === true) {\n    options.preventInheritAtCurrentState = state\n  } else if (options.preventInheritAtCurrentState) return\n\n  if (!options.preventInitStateUpdateListener) {\n    const initStateUpdateReturns = triggerEventOnUpdate('initStateUpdated', obj, element, options)\n    if (initStateUpdateReturns === false) return element\n  }\n\n  applyOverwrite(state, obj, options)\n  const updateIsHoisted = hoistStateUpdate(state, obj, options)\n  if (updateIsHoisted) return state\n\n  updateDependentState(state, obj, options)\n\n  applyElementUpdate(state, obj, options)\n\n  if (!options.preventStateUpdateListener) {\n    triggerEventOnUpdate('stateUpdated', obj, element, options)\n  }\n\n  return state\n}\n\nconst applyOverwrite = (state, obj, options) => {\n  const { overwrite } = options\n  if (!overwrite) return\n\n  const shallow = overwrite === 'shallow'\n  const merge = overwrite === 'merge'\n\n  if (merge) {\n    deepMerge(state, obj, IGNORE_STATE_PARAMS)\n    return\n  }\n\n  const overwriteFunc = shallow ? overwriteShallow : overwriteDeep\n  overwriteFunc(state, obj, IGNORE_STATE_PARAMS)\n}\n\nconst hoistStateUpdate = (state, obj, options) => {\n  const element = state.__element\n  const { parent, __ref: ref } = element\n  const stateKey = ref.__state\n  const stateType = ref.__stateType\n  if (!stateKey) return\n\n  const asksForInherit = checkIfInherits(element)\n  const inheritedState = findInheritedState(element, parent, { returnParent: true })\n  const shouldPropagateState = asksForInherit && inheritedState && !options.stopStatePropagation\n  if (!shouldPropagateState) return\n\n  const isStringState = (stateType === 'string' || stateType === 'number' || stateType === 'boolean')\n  const value = isStringState ? state.value : state.parse()\n  const passedValue = isStringState ? state.value : obj\n\n  const findGrandParentState = getParentStateInKey(stateKey, parent.state)\n  const changesValue = createChangesByKey(stateKey, passedValue)\n  const targetParent = findGrandParentState || parent.state\n  if (options.replace) overwriteDeep(targetParent, changesValue || value) // check with createChangesByKey\n  targetParent.update(changesValue, {\n    execStateFunction: false,\n    isHoisted: true,\n    ...options,\n    preventUpdate: options.preventHoistElementUpdate,\n    overwrite: !options.replace\n  })\n  const hasNotUpdated = options.preventUpdate !== true || !options.preventHoistElementUpdate\n  if (!options.preventStateUpdateListener && hasNotUpdated) {\n    triggerEventOnUpdate('stateUpdated', obj, element, options)\n  }\n  return true\n}\n\nconst updateDependentState = (state, obj, options) => {\n  if (!state.__depends) return\n  for (const el in state.__depends) {\n    const dependentState = state.__depends[el]\n    dependentState.clean().update(state.parse(), options)\n  }\n}\n\nconst applyElementUpdate = (state, obj, options) => {\n  const element = state.__element\n  if (options.preventUpdate !== true) {\n    element.update({}, {\n      ...options,\n      updateByState: true\n    })\n  } else if (options.preventUpdate === 'recursive') {\n    element.update({}, {\n      ...options,\n      isHoisted: false,\n      updateByState: true,\n      preventUpdate: true\n    })\n  }\n}\n","'use strict'\n\nimport { deepCloneWithExtnd, is, isObjectLike, isUndefined } from '@domql/utils'\nimport { IGNORE_STATE_PARAMS } from './ignore'\n\nexport const getParentStateInKey = (stateKey, parentState) => {\n  if (!stateKey.includes('../')) return\n  const arr = stateKey.split('../')\n  const arrLength = arr.length - 1\n  for (let i = 0; i < arrLength; i++) {\n    if (!parentState.parent) return null\n    parentState = parentState.parent\n  }\n  return parentState\n}\n\nexport const getChildStateInKey = (stateKey, parentState, options = {}) => {\n  const arr = stateKey.split('/')\n  const arrLength = arr.length - 1\n  for (let i = 0; i < arrLength; i++) {\n    const childKey = arr[i]\n    const grandChildKey = arr[i + 1]\n\n    if (childKey === '__proto__' || grandChildKey === '__proto__') return\n\n    let childInParent = parentState[childKey]\n    if (!childInParent) childInParent = parentState[childKey] = {} // check for array\n    if (!childInParent[grandChildKey]) childInParent[grandChildKey] = {} // check for array\n\n    stateKey = grandChildKey\n    parentState = childInParent\n  }\n  if (options.returnParent) return parentState\n  return parentState[stateKey]\n}\n\nexport const findInheritedState = (element, parent, options = {}) => {\n  const ref = element.__ref\n  let stateKey = ref.__state\n  if (!checkIfInherits(element)) return\n\n  let parentState = parent.state\n  const findGrandParentState = getParentStateInKey(stateKey, parent.state)\n  if (findGrandParentState) {\n    parentState = findGrandParentState\n    stateKey = stateKey.replaceAll('../', '')\n  }\n\n  if (!parentState) return\n  return getChildStateInKey(stateKey, parentState, options)\n}\n\nexport const createInheritedState = (element, parent) => {\n  const ref = element.__ref\n  const inheritedState = findInheritedState(element, parent)\n  if (isUndefined(inheritedState)) return element.state\n\n  if (is(inheritedState)('object', 'array')) {\n    return deepCloneWithExtnd(inheritedState, IGNORE_STATE_PARAMS)\n  } else if (is(inheritedState)('string', 'number', 'boolean')) {\n    ref.__stateType = typeof inheritedState\n    return { value: inheritedState }\n  }\n\n  console.warn(ref.__state, 'is not present. Replacing with', {})\n}\n\nexport const checkIfInherits = (element) => {\n  const ref = element.__ref\n  const stateKey = ref.__state\n\n  if (stateKey && is(stateKey)('number', 'string', 'boolean')) return true\n  return false\n}\n\nexport const isState = function (state) {\n  if (!isObjectLike(state)) return false\n  return state.update &&\n    state.parse &&\n    state.clean &&\n    state.create &&\n    state.parent &&\n    state.destroy &&\n    state.rootUpdate &&\n    state.parentUpdate &&\n    state.toggle &&\n    state.add &&\n    state.apply &&\n    state.__element &&\n    state.__children\n  // return arrayContainsOtherArray(keys, ['update', 'parse', 'clean', 'create', 'parent', 'rootUpdate'])\n}\n\nexport const createChangesByKey = (path, value) => {\n  if (!path) {\n    return value || {}\n  }\n  const keys = path.split('/')\n  const obj = {}\n  let ref = obj\n  keys.forEach((key, index) => {\n    ref[key] = index === keys.length - 1 ? value || {} : {}\n    ref = ref[key]\n  })\n  return obj\n}\n","'use strict'\n\nimport { isFunction, isObject } from '@domql/utils'\n\n/**\n * Apply data parameters on the DOM nodes\n * this should only work if `showOnNode: true` is passed\n */\nexport default (params, element, node) => {\n  if (!isObject(params)) return\n\n  // Apply data params on node\n  for (const scopeItem in params) {\n    const value = params[scopeItem]\n    if (isFunction(value)) {\n      element.scope[scopeItem] = value.bind(element)\n    } else {\n      element.scope[scopeItem] = value\n    }\n  }\n}\n","'use strict'\n\nimport {\n  attr, classList, content,\n  data, html, state, style,\n  text, scope\n} from '.'\n\nexport default {\n  attr,\n  style,\n  text,\n  html,\n  content,\n  data,\n  class: classList,\n  state,\n  scope,\n\n  deps: (param, el) => param || el.parent.deps,\n\n  extend: {},\n  childExtend: {},\n  childExtendRecursive: {},\n  props: {},\n  path: {},\n  if: {},\n  define: {},\n  transform: {},\n  __name: {},\n  __ref: {},\n  __hash: {},\n  __text: {},\n  nextElement: {},\n  previousElement: {},\n  key: {},\n  tag: {},\n  query: {},\n  parent: {},\n  node: {},\n  set: {},\n  update: {},\n  setProps: {},\n  remove: {},\n  updateContent: {},\n  removeContent: {},\n  lookup: {},\n  spotByPath: {},\n  keys: {},\n  log: {},\n  parse: {},\n  parseDeep: {},\n  on: {},\n  component: {},\n  context: {},\n  $setStateCollection: {},\n  $setCollection: {},\n  $setPropsCollection: {}\n}\n\n// List of keys for .parse() and .parseDeep() to include in the result.\n// Keys not in the array are excluded.\nexport const parseFilters = {\n  elementKeys: [\n    'tag', 'text', 'style', 'attr', 'class', 'state', 'props',\n    'data', 'content', 'html', 'on', 'key'\n  ],\n  propsKeys: ['__element', 'update'],\n  stateKeys: []\n}\n","'use strict'\n\nimport { isObject, exec, isFunction, isNumber, isString } from '@domql/utils'\nimport { METHODS_EXL, checkIfKeyIsComponent, extendizeByKey, isVariant, overwrite } from './utils'\nimport { isMethod } from './methods'\n\nexport const throughInitialExec = (element, exclude = {}) => {\n  const { __ref: ref } = element\n  for (const param in element) {\n    if (exclude[param]) continue\n    const prop = element[param]\n    if (isFunction(prop) && !isMethod(param) && !isVariant(param)) {\n      ref.__exec[param] = prop\n      element[param] = prop(element, element.state)\n      // if (isComponent)\n    }\n  }\n}\n\nexport const throughUpdatedExec = (element, options = { excludes: METHODS_EXL }) => {\n  const { __ref: ref } = element\n  const changes = {}\n\n  for (const param in ref.__exec) {\n    const prop = element[param]\n\n    const isDefinedParam = ref.__defineCache[param]\n    if (isDefinedParam) continue\n\n    const newExec = ref.__exec[param](element, element.state, element.context)\n    const execReturnsString = isString(newExec) || isNumber(newExec)\n    // if (prop && prop.node && execReturnsString) {\n    if (prop && prop.node && execReturnsString) {\n      overwrite(prop, { text: newExec }, options)\n    } else if (newExec !== prop) {\n      if (checkIfKeyIsComponent(param)) {\n        const { extend, ...newElem } = extendizeByKey(newExec, element, param)\n        overwrite(prop, newElem, options)\n        // } else {\n        //   overwrite(prop, newExec, options)\n      } else {\n        ref.__cached[param] = changes[param] = prop\n        element[param] = newExec\n      }\n    }\n  }\n\n  return changes\n}\n\nexport const throughInitialDefine = (element) => {\n  const { define, context, __ref: ref } = element\n\n  let defineObj = {}\n  const hasGlobalDefine = context && isObject(context.define)\n  if (isObject(define)) defineObj = { ...define }\n  if (hasGlobalDefine) defineObj = { ...defineObj, ...context.define }\n\n  for (const param in defineObj) {\n    let elementProp = element[param]\n\n    if (isFunction(elementProp) && !isMethod(param) && !isVariant(param)) {\n      ref.__exec[param] = elementProp\n      const execParam = elementProp = exec(elementProp, element)\n\n      if (execParam) {\n        elementProp = element[param] = execParam.parse ? execParam.parse() : execParam\n        ref.__defineCache[param] = elementProp\n      }\n    }\n\n    const execParam = defineObj[param](elementProp, element, element.state, element.context)\n    if (execParam) element[param] = execParam\n  }\n  return element\n}\n\nexport const throughUpdatedDefine = (element) => {\n  const { context, define, __ref: ref } = element\n  const changes = {}\n\n  let obj = {}\n  if (isObject(define)) obj = { ...define }\n  if (isObject(context && context.define)) obj = { ...obj, ...context.define }\n\n  for (const param in obj) {\n    const execParam = ref.__exec[param]\n    if (execParam) ref.__defineCache[param] = execParam(element, element.state, element.context)\n    const cached = exec(ref.__defineCache[param], element)\n    const newExecParam = obj[param](cached, element, element.state, element.context)\n    if (newExecParam) element[param] = newExecParam\n  }\n  return changes\n}\n","'use strict'\n\nexport * from './object'\nexport * from './extendUtils'\nexport * from './component'\n","'use strict'\n\nimport { isArray, isObject, isObjectLike, joinArrays } from '@domql/utils'\nimport { IGNORE_STATE_PARAMS } from '@domql/state'\nimport { IGNORE_PROPS_PARAMS } from '../props'\nimport { METHODS } from '../methods'\n\nexport const METHODS_EXL = joinArrays(\n  ['node', 'state', 'context', 'extend'],\n  METHODS,\n  IGNORE_STATE_PARAMS,\n  IGNORE_PROPS_PARAMS\n)\n\nexport const deepMerge = (element, extend, exclude = METHODS_EXL) => {\n  for (const e in extend) {\n    if (exclude.includes(e)) continue\n    const elementProp = element[e]\n    const extendProp = extend[e]\n    if (elementProp === undefined) {\n      element[e] = extendProp\n    } else if (isObjectLike(elementProp) && isObject(extendProp)) {\n      deepMerge(elementProp, extendProp)\n    }\n  }\n  return element\n}\n\nexport const clone = (obj, exclude = METHODS_EXL) => {\n  const o = {}\n  for (const e in obj) {\n    if (exclude.includes(e)) continue\n    o[e] = obj[e]\n  }\n  return o\n}\n\n/**\n * Deep cloning of object\n */\nexport const deepClone = (obj, exclude = METHODS_EXL) => {\n  const o = isArray(obj) ? [] : {}\n  for (const e in obj) {\n    if (exclude.includes(e)) continue\n    let objProp = obj[e]\n    if (e === 'extend' && isArray(objProp)) {\n      objProp = mergeArray(objProp, exclude)\n    }\n    if (isObjectLike(objProp)) {\n      o[e] = deepClone(objProp, exclude)\n    } else o[e] = objProp\n  }\n  return o\n}\n\n/**\n * Overwrites object properties with another\n */\nexport const overwrite = (element, params, options) => {\n  const changes = {}\n  const { __ref } = element\n  const { __exec, __cached } = __ref\n\n  for (const e in params) {\n    if (e === 'props' || e === 'state' || e === '__ref') continue\n\n    const elementProp = element[e]\n    const paramsProp = params[e]\n\n    if (paramsProp !== undefined) {\n      __cached[e] = changes[e] = elementProp\n      element[e] = paramsProp\n    }\n\n    if (options.cleanExec) delete __exec[e]\n  }\n\n  return changes\n}\n\nexport const overwriteShallow = (obj, params, exclude = METHODS_EXL) => {\n  for (const e in params) {\n    if (exclude.includes(e)) continue\n    obj[e] = params[e]\n  }\n  return obj\n}\n\n/**\n * Overwrites DEEPly object properties with another\n */\nexport const overwriteDeep = (obj, params, exclude = METHODS_EXL) => {\n  for (const e in params) {\n    if (exclude.includes(e)) continue\n    const objProp = obj[e]\n    const paramsProp = params[e]\n    if (isObjectLike(objProp) && isObjectLike(paramsProp)) {\n      overwriteDeep(objProp, paramsProp)\n    } else if (paramsProp !== undefined) {\n      obj[e] = paramsProp\n    }\n  }\n  return obj\n}\n\n/**\n * Overwrites object properties with another\n */\nexport const mergeIfExisted = (a, b) => {\n  if (isObjectLike(a) && isObjectLike(b)) return deepMerge(a, b)\n  return a || b\n}\n\n/**\n * Merges array extends\n */\nexport const mergeArray = (arr, exclude = ['parent', 'node', '__element', 'state', 'context', '__ref']) => {\n  return arr.reduce((a, c) => deepMerge(a, deepClone(c, exclude)), {})\n}\n\n/**\n * Merges array extends\n */\nexport const mergeAndCloneIfArray = obj => {\n  return isArray(obj) ? mergeArray(obj) : deepClone(obj)\n}\n\n/**\n * Overwrites object properties with another\n */\nexport const flattenRecursive = (param, prop, stack = []) => {\n  const objectized = mergeAndCloneIfArray(param)\n  stack.push(objectized)\n\n  const extendOfExtend = objectized[prop]\n  if (extendOfExtend) flattenRecursive(extendOfExtend, prop, stack)\n\n  delete objectized[prop]\n\n  return stack\n}\n","'use strict'\n\nexport * from './ignore'\nexport * from './create'\nexport * from './inherit'\nexport * from './update'\n","'use strict'\n\nexport const IGNORE_PROPS_PARAMS = ['update', '__element']\n","'use strict'\n\nimport { exec, isArray, isObject, deepClone, deepMerge } from '@domql/utils'\nimport { IGNORE_PROPS_PARAMS } from './ignore'\n\nimport { inheritParentProps } from './inherit'\n\nconst createPropsStack = (element, parent) => {\n  const { props, __ref } = element\n  const propsStack = __ref.__props = inheritParentProps(element, parent)\n\n  if (isObject(props)) propsStack.push(props)\n  else if (props === 'inherit' && parent.props) propsStack.push(parent.props)\n  else if (props) propsStack.push(props)\n\n  if (isArray(__ref.__extend)) {\n    __ref.__extend.forEach(extend => {\n      if (extend.props && extend.props !== props) propsStack.push(extend.props)\n    })\n  }\n\n  __ref.__props = propsStack\n\n  return propsStack\n}\n\nexport const syncProps = (props, element) => {\n  element.props = {}\n  const mergedProps = {}\n\n  props.forEach(v => {\n    if (IGNORE_PROPS_PARAMS.includes(v)) return\n    const execProps = exec(v, element)\n    // TODO: check if this failing the function props merge\n    // if (isObject(execProps) && execProps.__element) return\n    // it was causing infinite loop at early days\n    element.props = deepMerge(\n      mergedProps,\n      deepClone(execProps, IGNORE_PROPS_PARAMS),\n      IGNORE_PROPS_PARAMS\n    )\n  })\n  element.props = mergedProps\n\n  const methods = { update: update.bind(element.props), __element: element }\n  Object.setPrototypeOf(element.props, methods)\n\n  return element.props\n}\n\nexport const createProps = function (element, parent, cached) {\n  const { __ref: ref } = element\n\n  // if (element.parent.key === '0' && element.key === 'editor') {\n  //   debugger\n  // }\n\n  const applyProps = () => {\n    const propsStack = cached || createPropsStack(element, parent)\n    if (propsStack.length) {\n      ref.__props = propsStack\n      syncProps(propsStack, element)\n    } else {\n      ref.__props = cached || []\n      element.props = {}\n    }\n  }\n\n  if (ref.__if) applyProps()\n  else {\n    try {\n      applyProps()\n    } catch {\n      element.props = {}\n      ref.__props = cached || []\n    }\n  }\n\n  const methods = { update: update.bind(element.props), __element: element }\n  Object.setPrototypeOf(element.props, methods)\n\n  return element\n}\n\nfunction update (props, options) {\n  const element = this.__element\n  element.update({ props }, options)\n}\n","'use strict'\n\nimport { exec, is, isString } from '@domql/utils'\n\nconst objectizeStringProperty = propValue => {\n  if (is(propValue)('string', 'number')) {\n    return { inheritedString: propValue }\n  }\n  return propValue\n}\n\nexport const inheritParentProps = (element, parent) => {\n  let propsStack = []\n  const parentProps = exec(parent, parent.state).props\n\n  const matchParent = parent.props && parentProps[element.key]\n  const matchParentIsString = isString(matchParent)\n  const matchParentChildProps = parentProps && parentProps.childProps\n\n  if (matchParent) {\n    if (matchParentIsString) {\n      const inheritedStringExists = propsStack.filter(v => v.inheritedString)[0]\n      if (inheritedStringExists) inheritedStringExists.inheritedString = matchParent\n      else {\n        propsStack = [].concat(objectizeStringProperty(matchParent), propsStack)\n      }\n    } else {\n      propsStack.push(objectizeStringProperty(matchParent))\n    }\n  }\n  if (matchParentChildProps) propsStack.push(matchParentChildProps)\n\n  return propsStack\n}\n","'use strict'\n\nimport { syncProps } from './create'\nimport { inheritParentProps } from './inherit'\n\nexport const updateProps = (newProps, element, parent) => {\n  const { __ref } = element\n  let propsStack = __ref.__props\n\n  const parentProps = inheritParentProps(element, parent)\n  if (parentProps.length) propsStack = __ref.__props = [].concat(parentProps, propsStack)\n  if (newProps) propsStack = __ref.__props = [].concat(newProps, propsStack)\n\n  if (propsStack) syncProps(propsStack, element)\n\n  return element\n}\n","'use strict'\n\nimport { isArray, isFunction, isObject, isString } from '@domql/utils'\nconst ENV = process.env.NODE_ENV\n\nexport const generateHash = () => Math.random().toString(36).substring(2)\n\n// hashing\nexport const extendStackRegistry = {}\nexport const extendCachedRegistry = {}\n\nexport const getHashedExtend = extend => {\n  return extendStackRegistry[extend.__hash]\n}\n\nexport const setHashedExtend = (extend, stack) => {\n  const hash = generateHash()\n  if (!isString(extend)) { extend.__hash = hash }\n  extendStackRegistry[hash] = stack\n  return stack\n}\n\nexport const getExtendStackRegistry = (extend, stack) => {\n  if (extend.__hash) { return stack.concat(getHashedExtend(extend)) }\n  return setHashedExtend(extend, stack) // stack .concat(hashedExtend)\n}\n\n// stacking\nexport const extractArrayExtend = (extend, stack, context) => {\n  extend.forEach(each => flattenExtend(each, stack, context))\n  return stack\n}\n\nexport const deepExtend = (extend, stack, context) => {\n  const extendOflattenExtend = extend.extend\n  if (extendOflattenExtend) {\n    flattenExtend(extendOflattenExtend, stack, context)\n  }\n  return stack\n}\n\nexport const flattenExtend = (extend, stack, context) => {\n  if (!extend) return stack\n  if (isArray(extend)) return extractArrayExtend(extend, stack, context)\n  if (isString(extend)) extend = fallbackStringExtend(extend, context)\n  stack.push(extend)\n  if (extend.extend) deepExtend(extend, stack, context)\n  return stack\n}\n\n// merging\nexport const deepCloneExtend = obj => {\n  const o = {}\n  for (const prop in obj) {\n    if (['parent', 'node', '__element'].indexOf(prop) > -1) continue\n    const objProp = obj[prop]\n    if (isObject(objProp)) {\n      o[prop] = deepCloneExtend(objProp)\n    } else if (isArray(objProp)) {\n      o[prop] = objProp.map(x => x)\n    } else o[prop] = objProp\n  }\n  return o\n}\n\nexport const deepMergeExtend = (element, extend) => {\n  for (const e in extend) {\n    if (['parent', 'node', '__element'].indexOf(e) > -1) continue\n    const elementProp = element[e]\n    const extendProp = extend[e]\n    if (elementProp === undefined) {\n      element[e] = extendProp\n    } else if (isObject(elementProp) && isObject(extendProp)) {\n      deepMergeExtend(elementProp, extendProp)\n    } else if (isArray(elementProp) && isArray(extendProp)) {\n      element[e] = elementProp.concat(extendProp)\n    } else if (isArray(elementProp) && isObject(extendProp)) {\n      const obj = deepMergeExtend({}, elementProp)\n      element[e] = deepMergeExtend(obj, extendProp)\n    } else if (elementProp === undefined && isFunction(extendProp)) {\n      element[e] = extendProp\n    }\n  }\n  return element\n}\n\nexport const cloneAndMergeArrayExtend = stack => {\n  return stack.reduce((a, c) => {\n    return deepMergeExtend(a, deepCloneExtend(c))\n  }, {})\n}\n\nexport const fallbackStringExtend = (extend, context, options = {}) => {\n  const COMPONENTS = (context && context.components) || options.components\n  if (isString(extend)) {\n    const componentExists = COMPONENTS[extend] || COMPONENTS['smbls.' + extend]\n    if (COMPONENTS && componentExists) {\n      return componentExists\n    } else {\n      if (ENV !== 'test' || ENV !== 'development') {\n        console.warn('Extend is string but component was not found:', extend)\n      }\n      return {}\n    }\n  }\n  return extend\n}\n\n// joint stacks\nexport const jointStacks = (extendStack, childExtendStack) => {\n  return []\n    .concat(extendStack.slice(0, 1))\n    .concat(childExtendStack.slice(0, 1))\n    .concat(extendStack.slice(1))\n    .concat(childExtendStack.slice(1))\n}\n\n// init\nexport const getExtendStack = (extend, context) => {\n  if (!extend) return []\n  if (extend.__hash) return getHashedExtend(extend) || []\n  const stack = flattenExtend(extend, [], context)\n  return getExtendStackRegistry(extend, stack)\n}\n\nexport const getExtendMerged = extend => {\n  const stack = getExtendStack(extend)\n  return cloneAndMergeArrayExtend(stack)\n}\n\n// export const replaceStringsWithComponents = (stack, context, options) => {\n//   const COMPONENTS = (context && context.components) || options.components\n//   return stack.map(v => {\n//     if (isString(v)) {\n//       const component = COMPONENTS[v]\n//       return component\n//     }\n//     if (isString(v.extend)) {\n//       v.extend = getExtendMerged(COMPONENTS[v.extend])\n//     }\n//     return v\n//   })\n// }\n","'use strict'\n\nimport { exec, isArray, isFunction, isObject, isString, joinArrays, overwriteDeep } from '@domql/utils'\nimport { applyExtend } from '../extend'\nconst ENV = process.env.NODE_ENV\n\nexport const checkIfKeyIsComponent = (key) => {\n  const isFirstKeyString = isString(key)\n  if (!isFirstKeyString) return\n  const firstCharKey = key.slice(0, 1)\n  return /^[A-Z]*$/.test(firstCharKey)\n}\n\nexport const addAdditionalExtend = (newExtend, element) => {\n  const { extend: elementExtend } = element\n  const originalArray = isArray(elementExtend) ? elementExtend : [elementExtend]\n  const receivedArray = isArray(newExtend) ? newExtend : [newExtend]\n  const extend = joinArrays(receivedArray, originalArray)\n  return { ...element, extend }\n}\n\nexport const extendizeByKey = (element, parent, key) => {\n  const { context, tag, extend, props, attr, state, childExtend, childProps, on, if: condition } = element\n  const hasComponentAttrs = extend || childExtend || props || state || on || condition || attr\n\n  const extendFromKey = key.includes('+')\n    ? key.split('+')\n    : key.includes('_')\n      ? key.split('_')[0]\n      : key.includes('.')\n        ? key.split('.')[0]\n        : key\n\n  const isExtendKeyComponent = context?.components[extendFromKey]\n\n  if (element === isExtendKeyComponent) return element\n  else if (!hasComponentAttrs || childProps) {\n    return {\n      extend: extendFromKey,\n      tag,\n      props: { ...element }\n    }\n  } else if (!extend || extend === true) {\n    return {\n      ...element,\n      tag,\n      extend: extendFromKey\n    }\n  } else if (extend) {\n    return addAdditionalExtend(extendFromKey, element)\n  } else if (isFunction(element)) {\n    return {\n      extend: extendFromKey,\n      tag,\n      props: { ...exec(element, parent) }\n    }\n  }\n}\n\nexport const applyKeyComponentAsExtend = (element, parent, key) => {\n  return extendizeByKey(element, parent, key) || element\n}\n\nexport const applyComponentFromContext = (element, parent, options) => {\n  const { context } = element\n\n  if (!context || !context.components) return\n\n  const { components } = context\n  const { extend } = element\n  const execExtend = exec(extend, element)\n  if (isString(execExtend)) {\n    const componentExists = components[execExtend] || components['smbls.' + execExtend]\n    if (componentExists) element.extend = componentExists\n    else {\n      if ((ENV === 'test' || ENV === 'development') && options.verbose) {\n        console.warn(execExtend, 'is not in library', components, element)\n        console.warn('replacing with ', {})\n      }\n      element.extend = {}\n    }\n  }\n}\n\nexport const isVariant = (param) => {\n  if (!isString(param)) return\n  const firstCharKey = param.slice(0, 1)\n  // return (firstCharKey === '.' || firstCharKey === '$')\n  return (firstCharKey === '.')\n}\n\nexport const hasVariantProp = (element) => {\n  const { props } = element\n  if (isObject(props) && isString(props.variant)) return true\n}\n\nexport const overwriteVariant = (element, variant, variantProps) => {\n  let variantElement = element[variant]\n  if (!variantElement) return\n  const props = isObject(variantProps) ? variantProps : {}\n  if (isString(variantElement)) {\n    variantElement = {\n      extend: [{ props }, variantElement]\n    }\n  } else if (variantElement.extend) {\n    variantElement = addAdditionalExtend({ props }, variantElement)\n  }\n  return overwriteDeep(element, applyExtend(variantElement)) // TODO: check why string is not working\n}\n\nexport const applyVariant = (element) => {\n  const { props } = element\n  if (!hasVariantProp(element)) return element\n  const { variant } = props\n  overwriteVariant(element, `.${variant}`)\n\n  const elKeys = Object.keys(element).filter((key) => isVariant(key))\n  elKeys.forEach((variant) => {\n    const slicedVariantElementKey = variant.slice(1)\n    const variantElementProps = props[slicedVariantElementKey]\n    if (variantElementProps) overwriteVariant(element, variant, variantElementProps)\n  })\n\n  return element\n}\n","'use strict'\n\nimport { isFunction, exec } from '@domql/utils'\nimport {\n  getExtendStack,\n  jointStacks,\n  cloneAndMergeArrayExtend,\n  deepMergeExtend,\n  fallbackStringExtend\n} from './utils'\n\nconst ENV = process.env.NODE_ENV\n\n/**\n * Checks whether element has `extend` or is a part\n * of parent's `childExtend` extend\n */\nexport const applyExtend = (element, parent, options = {}) => {\n  if (isFunction(element)) element = exec(element, parent)\n\n  let { extend, props, context, __ref } = element\n\n  extend = fallbackStringExtend(extend, context, options)\n\n  const extendStack = getExtendStack(extend, context)\n\n  if (ENV !== 'test' || ENV !== 'development') delete element.extend\n\n  let childExtendStack = []\n  if (parent) {\n    element.parent = parent\n    // Assign parent attr to the element\n    if (!options.ignoreChildExtend && !(props && props.ignoreChildExtend)) {\n      childExtendStack = getExtendStack(parent.childExtend, context)\n\n      const ignoreChildExtendRecursive = props && props.ignoreChildExtendRecursive\n      if (parent.childExtendRecursive && !ignoreChildExtendRecursive) {\n        const canExtendRecursive = element.key !== '__text'\n        if (canExtendRecursive) {\n          const childExtendRecursiveStack = getExtendStack(parent.childExtendRecursive, context)\n          // add error if childExtendRecursive contains element which goes to infinite loop\n          childExtendStack = childExtendStack.concat(childExtendRecursiveStack)\n          element.childExtendRecursive = parent.childExtendRecursive\n        }\n      }\n    }\n  }\n\n  const extendLength = extendStack.length\n  const childExtendLength = childExtendStack.length\n\n  let stack = []\n  if (extendLength && childExtendLength) {\n    stack = jointStacks(extendStack, childExtendStack)\n  } else if (extendLength) {\n    stack = extendStack\n  } else if (childExtendLength) {\n    stack = childExtendStack\n  } else if (!options.extend) return element\n\n  if (options.extend) {\n    const defaultOptionsExtend = getExtendStack(options.extend, context)\n    stack = [].concat(stack, defaultOptionsExtend)\n  }\n\n  // check if array contains string extends\n  if (__ref) __ref.__extend = stack\n  let mergedExtend = cloneAndMergeArrayExtend(stack)\n\n  // apply `component:` property\n  const COMPONENTS = (context && context.components) || options.components\n  const component = exec(element.component || mergedExtend.component, element)\n  if (component && COMPONENTS && COMPONENTS[component]) {\n    const componentExtend = cloneAndMergeArrayExtend(getExtendStack(COMPONENTS[component]))\n    mergedExtend = deepMergeExtend(componentExtend, mergedExtend)\n  }\n\n  return deepMergeExtend(element, mergedExtend)\n}\n","'use strict'\n\nimport { isFunction } from '@domql/utils'\nimport { registry } from './mixins'\n\nexport const applyParam = (param, element, options) => {\n  const { node, context, __ref: ref } = element\n  const prop = element[param]\n\n  const DOMQLProperty = registry[param]\n  const DOMQLPropertyFromContext = context && context.registry && context.registry[param]\n  const isGlobalTransformer = DOMQLPropertyFromContext || DOMQLProperty\n\n  const hasDefine = element.define && element.define[param]\n  const hasContextDefine = context && context.define && context.define[param]\n\n  if (!ref.__if) return\n\n  if (isGlobalTransformer && !hasContextDefine) {\n    if (isFunction(isGlobalTransformer)) {\n      isGlobalTransformer(prop, element, node, options)\n      return\n    }\n  }\n\n  return { hasDefine, hasContextDefine }\n}\n","'use strict'\n\nexport * from './methods'\nexport * from './tags'\n","'use strict'\n\nimport { exec } from '@domql/utils'\n\nexport const DEFAULT_METHODS = {\n  key: {},\n  tag: {},\n\n  if: {},\n  define: {},\n\n  attr: {},\n  style: {},\n\n  content: {},\n  class: {},\n\n  props: {},\n  state: {},\n\n  method: {},\n  transform: {},\n\n  on: {},\n\n  ref: {},\n\n  extend: {},\n  childExtend: {},\n  text: (element, state) => {\n    element.ref.text = {\n      tag: 'text',\n      text: exec(element.text, element, state)\n    }\n  },\n\n  innerHTML: {},\n\n  set: {},\n  update: {},\n  remove: {}\n}\n\n// log: {}\n// value: {},\n// text: {},\n// html: {},\n// path: {},\n// data: {},\n// if: {},\n// __hash: {},\n// __cache: {},\n// __defined: {},\n// __exec: {},\n// __changes: {},\n// __trash: {},\n// __root: {},\n// __props: {},\n// __extend: {},\n// __ifFragment: {},\n// __ifFalsy: {},\n// parent: {},\n// node: {},\n// lookup: {},\n// keys: {},\n// parse: {},\n// parseDeep: {},\n","'use strict'\n\nexport const TAGS = {\n  root: [\n    'body',\n    'html'\n  ],\n\n  head: [\n    'title',\n    'base',\n    'meta',\n    'style'\n  ],\n\n  body: [\n    'html',\n    'body',\n    'string',\n    'fragment',\n    'a',\n    'abbr',\n    'acronym',\n    'address',\n    'applet',\n    'area',\n    'article',\n    'aside',\n    'audio',\n    'b',\n    'basefont',\n    'bdi',\n    'bdo',\n    'big',\n    'blockquote',\n    'br',\n    'button',\n    'canvas',\n    'caption',\n    'center',\n    'cite',\n    'code',\n    'col',\n    'colgroup',\n    'data',\n    'datalist',\n    'dd',\n    'del',\n    'details',\n    'dfn',\n    'dialog',\n    'dir',\n    'div',\n    'dl',\n    'dt',\n    'em',\n    'embed',\n    'fieldset',\n    'figcaption',\n    'figure',\n    'font',\n    'footer',\n    'form',\n    'frame',\n    'frameset',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'head',\n    'header',\n    'hr',\n    'i',\n    'iframe',\n    'img',\n    'input',\n    'ins',\n    'kbd',\n    'label',\n    'legend',\n    'li',\n    'link',\n    'main',\n    'map',\n    'mark',\n    'meter',\n    'nav',\n    'noframes',\n    'noscript',\n    'object',\n    'ol',\n    'optgroup',\n    'option',\n    'output',\n    'p',\n    'param',\n    'picture',\n    'pre',\n    'progress',\n    'q',\n    'rp',\n    'rt',\n    'ruby',\n    's',\n    'samp',\n    'script',\n    'section',\n    'select',\n    'small',\n    'source',\n    'span',\n    'strike',\n    'strong',\n    'sub',\n    'summary',\n    'sup',\n    'table',\n    'tbody',\n    'td',\n    'template',\n    'textarea',\n    'tfoot',\n    'th',\n    'thead',\n    'time',\n    'tr',\n    'track',\n    'tt',\n    'u',\n    'ul',\n    'var',\n    'video',\n    'wbr',\n\n    // SVG\n    'svg',\n    'path'\n  ]\n}\n","'use strict'\n\nimport { isDevelopment } from '@domql/utils'\n\nimport set from '../set'\nimport update from '../update'\n\nimport {\n  lookup,\n  setProps,\n  remove,\n  spotByPath,\n  log,\n  keys,\n  parse,\n  parseDeep,\n  nextElement,\n  previousElement\n} from './'\n\nimport { removeContent, updateContent } from '../mixins/content'\n\nexport const addMethods = (element, parent) => {\n  const proto = {\n    set: set.bind(element),\n    update: update.bind(element),\n    remove: remove.bind(element),\n    updateContent: updateContent.bind(element),\n    removeContent: removeContent.bind(element),\n    setProps: setProps.bind(element),\n    lookup: lookup.bind(element),\n    spotByPath: spotByPath.bind(element),\n    parse: parse.bind(element),\n    parseDeep: parseDeep.bind(element),\n    keys: keys.bind(element),\n    nextElement: nextElement.bind(element),\n    previousElement: previousElement.bind(element)\n  }\n  if (isDevelopment()) proto.log = log.bind(element)\n  Object.setPrototypeOf(element, proto)\n}\n","'use strict'\n\nimport {\n  window,\n  exec,\n  isArray,\n  isFunction,\n  isNumber,\n  isObject,\n  isString,\n  isUndefined,\n  merge,\n  overwriteDeep,\n  createSnapshotId\n} from '@domql/utils'\n\nimport { applyEvent, triggerEventOn, triggerEventOnUpdate } from '@domql/event'\nimport { isMethod } from './methods'\nimport { updateProps } from './props'\nimport { createState, findInheritedState } from '@domql/state'\n\nimport { METHODS_EXL, isVariant } from './utils'\nimport create from './create'\nimport { throughUpdatedDefine, throughUpdatedExec } from './iterate'\nimport { registry } from './mixins'\nimport { applyParam } from './applyParam'\nimport OPTIONS from './cache/options'\n\nconst snapshot = {\n  snapshotId: createSnapshotId\n}\n\nconst UPDATE_DEFAULT_OPTIONS = {\n  stackChanges: false,\n  cleanExec: true,\n  preventRecursive: false,\n  currentSnapshot: false,\n  calleeElement: false,\n  excludes: METHODS_EXL\n}\n\nconst update = function (params = {}, options = UPDATE_DEFAULT_OPTIONS) {\n  const element = this\n  const { parent, node, key } = element\n  const { excludes, preventInheritAtCurrentState } = options\n\n  triggerEventOnUpdate('startUpdate', params, element, options)\n\n  if (preventInheritAtCurrentState && preventInheritAtCurrentState.__element === element) return\n  if (!excludes) merge(options, UPDATE_DEFAULT_OPTIONS)\n\n  let ref = element.__ref\n  if (!ref) ref = element.__ref = {}\n\n  const [snapshotOnCallee, calleeElement, snapshotHasUpdated] = captureSnapshot(element, options)\n  if (snapshotHasUpdated) return\n\n  if (isString(params) || isNumber(params)) {\n    params = { text: params }\n  }\n\n  const inheritState = inheritStateUpdates(element, options)\n  if (inheritState === false) return\n\n  const ifFails = checkIfOnUpdate(element, parent, options)\n  if (ifFails) return\n\n  if (ref.__if && !options.preventPropsUpdate) {\n    const hasParentProps = parent.props && (parent.props[key] || parent.props.childProps)\n    const hasFunctionInProps = ref.__props.filter(v => isFunction(v))\n    const props = params.props || hasParentProps || hasFunctionInProps.length\n    if (props) updateProps(props, element, parent)\n  }\n\n  if (!options.preventInitUpdateListener) {\n    const initUpdateReturns = triggerEventOnUpdate('initUpdate', params, element, options)\n    if (initUpdateReturns === false) return element\n  }\n\n  const overwriteChanges = overwriteDeep(element, params, METHODS_EXL)\n  const execChanges = throughUpdatedExec(element, { ignore: UPDATE_DEFAULT_OPTIONS })\n  const definedChanges = throughUpdatedDefine(element)\n\n  if (!options.isForced) {\n    triggerEventOn('beforeClassAssign', element, options)\n  }\n\n  if (options.stackChanges && element.__stackChanges) {\n    const stackChanges = merge(definedChanges, merge(execChanges, overwriteChanges))\n    element.__stackChanges.push(stackChanges)\n  }\n\n  if (!ref.__if) return false\n  if (!node) {\n    // return createNode(element, options)\n    return\n  }\n\n  for (const param in element) {\n    const prop = element[param]\n    const hasOnlyUpdateFalsy = options.onlyUpdate && (options.onlyUpdate !== param || !element.lookup(options.onlyUpdate))\n    const isInPreventUpdate = isArray(options.preventUpdate) && options.preventUpdate.includes(param)\n    const isInPreventDefineUpdate = isArray(options.preventDefineUpdate) && options.preventDefineUpdate.includes(param)\n\n    if (\n      isUndefined(prop) ||\n      hasOnlyUpdateFalsy ||\n      isInPreventUpdate ||\n      isInPreventDefineUpdate ||\n      options.preventDefineUpdate === true ||\n      options.preventDefineUpdate === param ||\n      (options.preventContentUpdate && param === 'content') ||\n      (options.preventStateUpdate && param) === 'state' ||\n      isMethod(param) || isObject(registry[param]) || isVariant(param)\n    ) continue\n    if (options.preventStateUpdate === 'once') options.preventStateUpdate = false\n\n    const isElement = applyParam(param, element, options)\n    if (isElement) {\n      const { hasDefine, hasContextDefine } = isElement\n      const canUpdate = isObject(prop) && !hasDefine && !hasContextDefine && !options.preventRecursive\n      if (!canUpdate) continue\n\n      const lazyLoad = element.props.lazyLoad || options.lazyLoad\n\n      const childUpdateCall = () => update.call(prop, params[prop], {\n        ...options,\n        currentSnapshot: snapshotOnCallee,\n        calleeElement\n      })\n\n      lazyLoad ? window.requestAnimationFrame(() => childUpdateCall()) : childUpdateCall()\n    }\n  }\n\n  if (!options.preventUpdateListener) triggerEventOn('update', element, options)\n}\n\nconst captureSnapshot = (element, options) => {\n  const ref = element.__ref\n\n  const { currentSnapshot, calleeElement } = options\n  const isCallee = calleeElement === element\n  if (!calleeElement || isCallee) {\n    const createdStanpshot = snapshot.snapshotId()\n    ref.__currentSnapshot = createdStanpshot\n    return [createdStanpshot, element]\n  }\n\n  const snapshotOnCallee = ref.__currentSnapshot\n  if (currentSnapshot < snapshotOnCallee) {\n    return [snapshotOnCallee, calleeElement, true]\n  }\n\n  return [snapshotOnCallee, calleeElement]\n}\n\nconst checkIfOnUpdate = (element, parent, options) => {\n  if (!isFunction(element.if) || !parent) return\n\n  const ref = element.__ref\n  const ifPassed = element.if(element, element.state, element.context, options)\n  const itWasFalse = ref.__if !== true\n\n  if (ifPassed) {\n    ref.__if = true\n    if (itWasFalse) {\n      delete element.__hash\n      delete element.extend\n      if (!ref.__hasRootState) {\n        delete element.state\n      }\n      if (ref.__state) {\n        element.state = ref.__state\n      }\n\n      element.node?.remove()\n\n      const previousElement = element.previousElement()\n      const nextElement = element.nextElement()\n\n      const hasPrevious = previousElement && previousElement.node\n      const hasNext = nextElement && nextElement.node\n\n      const attachOptions = (hasPrevious?.parentNode || hasNext?.parentNode) && {\n        position: hasPrevious ? 'after' : hasNext ? 'before' : null,\n        node: hasPrevious || hasNext\n      }\n\n      const created = create(element, parent, element.key, OPTIONS.create, attachOptions)\n      // check preventUpdate for an array (Line: 87)\n      if (options.preventUpdate !== true && element.on && isFunction(element.on.update)) {\n        applyEvent(element.on.update, created, created.state)\n      }\n      return created\n    }\n  } else if (element.node && !ifPassed) {\n    element.node.remove()\n    delete ref.__if\n  }\n}\n\n/**\n * Inherit state updates for a given element based on the specified options.\n *\n * @param {Object} element - The element to inherit state updates for.\n * @param {Object} options - Configuration options for state update inheritance.\n * @param {boolean} [options.preventUpdateTriggerStateUpdate] - If true, prevent triggering state updates.\n * @param {boolean} [options.isHoisted] - Whether the state is hoisted.\n * @param {boolean} [options.execStateFunction] - Execute the state functions.\n * @param {boolean} [options.stateFunctionOverwrite] - If true, overwrite (not merge) current state with what function returns.\n * @param {boolean} [options.preventInheritedStateUpdate] - If true, prevent inheriting state updates.\n * @param {boolean} [options.preventInitStateUpdateListener] - If true, prevent the 'initStateUpdated' event listener.\n * @param {boolean} [options.preventStateUpdateListener] - If true, prevent the 'stateUpdated' event listener.\n * @returns {boolean} - If returns false, it breaks the update function\n */\nconst inheritStateUpdates = (element, options) => {\n  const { __ref: ref } = element\n  const stateKey = ref.__state\n  const { parent, state } = element\n  const { preventUpdateTriggerStateUpdate, isHoisted, execStateFunction } = options\n\n  if (preventUpdateTriggerStateUpdate) return\n\n  // If does not have own state inherit from parent\n  if (!stateKey && !ref.__hasRootState) {\n    element.state = (parent && parent.state) || {}\n    return\n  }\n\n  // If state is function, decide execution and apply setting a current state\n  const shouldForceFunctionState = isFunction(stateKey) && !isHoisted && execStateFunction\n  if (shouldForceFunctionState) {\n    const execState = exec(stateKey, element)\n    state.set(execState, { ...options, preventUpdate: true, updatedByStateFunction: true })\n    return\n  }\n\n  // If state is string, find its value in the state tree\n  const keyInParentState = findInheritedState(element, element.parent)\n  if (!keyInParentState || options.preventInheritedStateUpdate) return\n\n  // Trigger on.initStateUpdated event\n  if (!options.preventInitStateUpdateListener) {\n    const initStateReturns = triggerEventOnUpdate('initStateUpdated', keyInParentState, element, options)\n    if (initStateReturns === false) return element\n  }\n\n  // Recreate the state again\n  const newState = createStateUpdate(element, parent, options)\n\n  // Trigger on.stateUpdated event\n  if (!options.preventStateUpdateListener) {\n    triggerEventOnUpdate('stateUpdated', newState.parse(), element, options)\n  }\n}\n\nconst createStateUpdate = (element, parent, options) => {\n  const __stateChildren = element.state.__children\n  const newState = createState(element, parent)\n  element.state = newState\n  for (const child in __stateChildren) {\n    // check this for inherited states\n    if (newState[child]) newState.__children[child] = __stateChildren[child]\n    __stateChildren[child].parent = newState\n  }\n  return newState\n}\n\nexport default update\n","'use strict'\n\nimport { report } from '@domql/report'\nimport { registry } from './mixins'\n\nexport default (params, options = {}) => {\n  const { overwrite } = options\n  for (const param in params) {\n    if (registry[param] && !overwrite) {\n      report('OverwriteToBuiltin', param)\n    } else registry[param] = params[param]\n  }\n}\n"],"names":["index","$312c426bcdb6f166$var$baseClass","$312c426bcdb6f166$var$updateState","state","keyString","value","update","$312c426bcdb6f166$export$2e2bcd8739ae039","tag","class","elem","isSelected","classList","prevSelection","on","click","event","gridCell","cellKey","parseInt","key","cellParent","parent","selectedCells","selectedCellsLength","length","currentKey","splice","i","ii","selectionCoordsComponent","childProto","row","column","$312c426bcdb6f166$var$calculateRowAndColumn","columns","Math","floor","coordinates","$4d894c0568f6ab6a$var$childComponents","$4d894c0568f6ab6a$var$gridAreaContent","push","text","el","footerComponent","totalSelectionComponent","totalSelected","selectionTotal","$0961ea6318004278$export$3a7728e868aa3ebd","$e6d79d7b0d7b5fe1$export$dd8826725fa2a3d4","$e6d79d7b0d7b5fe1$export$f15d00aa73aafac4","env","$e6d79d7b0d7b5fe1$export$df77466336fe5355","$e33f3b456b841cc9$export$8291e5b88f90ce4","globalThis","$e33f3b456b841cc9$export$5a7bfc01df82fcd1","document","$95800a96be489797$export$8ee0fc9ee280b4ee","obj","Node","nodeType","nodeName","$079873fc3f2b5f81$export$a6cdc56e425d0d0a","arg","constructor","Object","$079873fc3f2b5f81$export$844ec244b1367d54","$079873fc3f2b5f81$export$7e4aa119212bc614","$079873fc3f2b5f81$export$f6e2535fb5126e54","$079873fc3f2b5f81$export$f9ce7b637dfbe238","$079873fc3f2b5f81$export$630801d484da15df","$079873fc3f2b5f81$export$43bee75e5e14138e","Array","isArray","$079873fc3f2b5f81$export$871608497c498473","d","Date","$079873fc3f2b5f81$export$c10d0b04eaa80a43","$079873fc3f2b5f81$export$4e62c701997796c1","$079873fc3f2b5f81$export$fce6876652108ab","undefined","$079873fc3f2b5f81$export$426db7a6155b7a80","boolean","array","object","string","date","number","null","function","objectLike","node","htmlElement","HTMLElement","defined","$079873fc3f2b5f81$export$226b3eccf92c9ed9","args","map","val","filter","v","$079873fc3f2b5f81$export$612ae635ef713eeb","$d0530a7c3063b815$export$8af121ae7401c4","arr","isNaN","Error","forEach","idx","$d0530a7c3063b815$export$fc359ae9633f7296","arrays","concat","$d0530a7c3063b815$export$fd2fbaf2367ef824","excludeFrom","reduce","a","c","$6348a97baa20d8d9$export$6969335ea1e4e77c","$6348a97baa20d8d9$export$b7d58db314e0ac27","$4537bba2bd33729a$var$brackRegex","$4537bba2bd33729a$export$7cb52b7decbd2220","str","includes","replace","_","parentPath","variable","parentLevels","match","parentState","trim","$6348a97baa20d8d9$export$78e3044358792147","param","element","context","$6348a97baa20d8d9$export$871de8747c9eaa88","extention","e","$6348a97baa20d8d9$export$4950aa0f605343fb","hasOwnProperty","prototype","call","startsWith","elementProp","objProp","extend","extendProp","$6348a97baa20d8d9$export$99e9e507e655127d","x","o","k","$6348a97baa20d8d9$export$1c8d6f44648a0c27","excl","acc","curr","cleanUndefined","prop","$6348a97baa20d8d9$export$e249d5701977b61b","$6348a97baa20d8d9$export$fcd7b39b3d1c2c1","original","objToDiff","cache","originalProp","objToDiffProp","$6348a97baa20d8d9$export$a37e3c603d7117e5","$6348a97baa20d8d9$export$f1c08b3bfc8443c4","diffArr","diffObj","keys","$6348a97baa20d8d9$export$1c07155dfdd98f41","params","$6348a97baa20d8d9$export$f0b277b530b4fffd","paramsProp","$6348a97baa20d8d9$export$273cb3019e2f952c","obj1","obj2","$6348a97baa20d8d9$export$bdd7fc6cf95d63b","props","navigator","test","userAgent","$be778da0f6744ca3$export$4c3fa92ca590c71f","body","$be778da0f6744ca3$export$52675ca41d41c093","$06908963bda72849$export$fc4da02de2c0bd43","en","DocumentNotDefined","title","description","OverwriteToBuiltin","BrowserNotDefined","SetQuickPreferancesIsNotObject","InvalidParams","CantCreateWithoutNode","HTMLInvalidTag","HTMLInvalidAttr","HTMLInvalidData","HTMLInvalidStyles","HTMLInvalidText","ElementOnStateIsNotDefined","$06908963bda72849$export$f18d5b0af29128b7","err","errObj","$80563b8eaf6ba844$export$fbea82a1c0574ef4","$33936e69aa63c9cd$export$27ca81ea148fa005","options","$33936e69aa63c9cd$export$1bc010482b845252","$33936e69aa63c9cd$export$906113ec468a9c43","updatedObj","$33936e69aa63c9cd$export$8fe90418b8a0fc1e","$33936e69aa63c9cd$export$1f7cb486ba1f8a10","appliedFunction","addEventListener","$a7c2803c7e7b293f$export$5d42fc0d80b5349f","$01ef634a92434650$var$cache","$01ef634a92434650$export$39fdcd81e0c5d80b","createTextNode","createDocumentFragment","createElementNS","createElement","$01ef634a92434650$export$5075bd4eae016d2c","tagExists","isKeyATag","$01ef634a92434650$export$257247f9c0329159","cachedTag","clonedNode","cloneNode","nodeValue","$98807bf18bc93fb3$export$13970129ca912f06","parentNode","appendChild","$98807bf18bc93fb3$export$9c63b8d16fa708c5","siblingNode","nextSibling","insertBefore","insertAdjacentElement","$98807bf18bc93fb3$export$3a727f1d0007fe49","$98807bf18bc93fb3$export$4f2a718cb234b42f","attachOptions","position","$6a43953e96d89b45$export$d559e9a3b71405f6","charAt","slice","$6a43953e96d89b45$export$b04d9b8d414ba5e8","className","item","$6a43953e96d89b45$export$11c615ce16f87241","default","ref","$6a43953e96d89b45$export$e8f750c9f10c0a7b","$ad3d3b247d47f3a2$export$2e2bcd8739ae039","$bf937aebc888d68f$export$2e2bcd8739ae039","__ref","content","__contentRef","lazyLoad","__noCollectionDifference","__cached","preventContentUpdate","setAsync","$0a7669919424e35c$export$6e1d9b0d0e1e1def","$947d5c063e68e91c$export$2e2bcd8739ae039","ignoreChildExtend","$782cf63e523d0885$export$2e2bcd8739ae039","defaultOptions","create","childExtend","window","requestAnimationFrame","$0a7669919424e35c$export$5143cc956eb9d8f6","innerHTML","removeChild","remove","$bfb47641e396194b$export$5100524046ce8de6","$7c314a91da5c12c3$export$98e6a39c04603d36","$7c314a91da5c12c3$export$cf0b2a6c63f9e656","preventStateUpdate","$7c314a91da5c12c3$export$b1fb4cac938035f7","__element","stateKey","__state","isHoisted","__children","child","defineProperty","enumerable","configurable","writable","setPrototypeOf","$7c314a91da5c12c3$export$e45af8832c6abf26","$7c314a91da5c12c3$export$c2f300c8c094e900","rootState","__root","$7c314a91da5c12c3$export$e16d8520af44a096","parse","overwrite","$7c314a91da5c12c3$export$e03c1c3201ee8bb7","$7c314a91da5c12c3$export$cd7f480d6b8286c3","$7c314a91da5c12c3$export$adaa4cf7ef1b65be","clean","$7c314a91da5c12c3$export$aad8462122ac592b","set","$7c314a91da5c12c3$export$5635d7ef4b8fee1c","func","$5fcb062e9eb35754$export$f7dd4f6f6830b29d","split","arrLength","$5fcb062e9eb35754$export$e6d108f71cc7e736","childKey","grandChildKey","childInParent","returnParent","$5fcb062e9eb35754$export$487549069bb5d2a9","$5fcb062e9eb35754$export$e187d7e20e9fd8fa","findGrandParentState","replaceAll","$5fcb062e9eb35754$export$c546cc738d4564ba","inheritedState","__stateType","console","warn","$5fcb062e9eb35754$export$2318606fe59d6594","path","$8b576c5d9c1d0c84$var$STATE_UPDATE_OPTIONS","preventHoistElementUpdate","updateByState","execStateFunction","$8b576c5d9c1d0c84$export$4971331372cec95a","preventInheritAtCurrentState","preventInitStateUpdateListener","initStateUpdateReturns","$8b576c5d9c1d0c84$var$applyOverwrite","updateIsHoisted","$8b576c5d9c1d0c84$var$hoistStateUpdate","$8b576c5d9c1d0c84$var$updateDependentState","$8b576c5d9c1d0c84$var$applyElementUpdate","preventStateUpdateListener","overwriteFunc","shallow","stateType","asksForInherit","shouldPropagateState","stopStatePropagation","isStringState","passedValue","changesValue","targetParent","preventUpdate","hasNotUpdated","__depends","dependentState","$774f1a3b2fe82710$export$e6a0daad8304de","$774f1a3b2fe82710$export$6e8a0938c76079c7","objectizeState","$774f1a3b2fe82710$var$checkForTypes","whatInitReturns","$774f1a3b2fe82710$var$applyDependentState","$774f1a3b2fe82710$var$applyMethods","newDepends","__hasRootState","$774f1a3b2fe82710$var$addProtoToArray","proto","bind","destroy","rootUpdate","parentUpdate","add","toggle","apply","reset","attr","__attr","setAttribute","removeAttribute","groupEnd","style","__text","html","__html","textContent","data","showOnNode","dataset","scope","scopeItem","deps","childExtendRecursive","if","define","transform","__name","__hash","nextElement","previousElement","query","setProps","updateContent","removeContent","lookup","spotByPath","log","parseDeep","component","$setStateCollection","$setCollection","$setPropsCollection","$782cf63e523d0885$export$2f387f690230eab4","elementKeys","$d61abc47c39ce5ac$export$cec27f102c074405","active","shift","$d61abc47c39ce5ac$export$dfc7155ac0343b8","$d61abc47c39ce5ac$export$cd7f480d6b8286c3","$d61abc47c39ce5ac$export$938ca3893886de06","$d61abc47c39ce5ac$export$ed97f33186d4b816","$d61abc47c39ce5ac$export$98e6a39c04603d36","keyList","$d61abc47c39ce5ac$export$3ed0fe0c6a5387e2","$d61abc47c39ce5ac$export$bef1f36f5486a6a3","group","$d61abc47c39ce5ac$export$e87a5caa96444a37","currentIndex","indexOf","nextChild","$d61abc47c39ce5ac$export$1facc1d780a4d839","$d61abc47c39ce5ac$export$f0748ddc99f937c7","$d61abc47c39ce5ac$export$ed2133acb96eb5aa","$c6321d44fd66ade0$export$431871e52735632b","$045c563bb4b0b2eb$var$objectizeStringProperty","propValue","inheritedString","$045c563bb4b0b2eb$export$d25057a75c14aff7","propsStack","parentProps","matchParent","matchParentIsString","matchParentChildProps","childProps","inheritedStringExists","$e818f1ed291a38e8$var$createPropsStack","__props","__extend","$e818f1ed291a38e8$export$b23ca50362483f82","mergedProps","execProps","methods","$e818f1ed291a38e8$var$update","$e818f1ed291a38e8$export$c94ea207b45fef3a","cached","applyProps","__if","$902e7fcbfa0a2596$export$c8dce3c08436e91e","newProps","$9dbe2fe74e93fc61$export$7f0c3d30e5984c9d","$9dbe2fe74e93fc61$export$6969335ea1e4e77c","exclude","$9dbe2fe74e93fc61$export$b7d58db314e0ac27","$9dbe2fe74e93fc61$export$fd2fbaf2367ef824","$9dbe2fe74e93fc61$export$d3305692eb3e9a81","changes","__exec","cleanExec","$ce326eb5cdcc3ce9$export$daf4c137c5f56404","random","toString","substring","$ce326eb5cdcc3ce9$export$476cb8ab9adcdb0d","$ce326eb5cdcc3ce9$export$46ce3405574370c6","$ce326eb5cdcc3ce9$export$8c8f2806a2edf07f","stack","hash","$ce326eb5cdcc3ce9$export$6ef9dd655b57622a","$ce326eb5cdcc3ce9$export$2c118161a655606a","each","$ce326eb5cdcc3ce9$export$802e3e1ed5ecb3f2","$ce326eb5cdcc3ce9$export$54e9fb29908872fa","extendOflattenExtend","$ce326eb5cdcc3ce9$export$ade1aefc7d5ec315","$ce326eb5cdcc3ce9$export$16fb354ab895483c","$ce326eb5cdcc3ce9$export$d20ceec222df68ed","$ce326eb5cdcc3ce9$export$e2e460d82983fb19","COMPONENTS","components","componentExists","$ce326eb5cdcc3ce9$export$f9f936cf352c3af2","extendStack","childExtendStack","$ce326eb5cdcc3ce9$export$a0203ee23029af7e","$3bff1c984b824aeb$export$f20941eae6723bcc","ignoreChildExtendRecursive","canExtendRecursive","childExtendRecursiveStack","extendLength","childExtendLength","defaultOptionsExtend","mergedExtend","componentExtend","$a6bfc6202982ac85$export$b791484194c5fc38","isFirstKeyString","firstCharKey","$a6bfc6202982ac85$export$356ecc5e07374be5","newExtend","elementExtend","originalArray","receivedArray","$a6bfc6202982ac85$export$c786485ace8eb69b","condition","extendFromKey","isExtendKeyComponent","$a6bfc6202982ac85$export$2279e5e6b0817ddc","$a6bfc6202982ac85$export$fd6b2f481ffc7974","execExtend","$a6bfc6202982ac85$export$53cd1a145c393044","$a6bfc6202982ac85$export$c66af1c05bf7bb06","variant","$a6bfc6202982ac85$export$a9aa73f3ae416cbd","variantProps","variantElement","$a6bfc6202982ac85$export$f1439fc936ef702f","elKeys","slicedVariantElementKey","variantElementProps","$0513b3ed7d5404ec$export$3223a9877c540db8","$0513b3ed7d5404ec$export$2ad800d85590910f","excludes","isDefinedParam","__defineCache","newExec","execReturnsString","newElem","$0513b3ed7d5404ec$export$b4c781127351659b","defineObj","hasGlobalDefine","execParam","$0513b3ed7d5404ec$export$88eda8a7eb5c5eff","newExecParam","$68d3ab890627ea70$export$535107f3c159da5d","DOMQLProperty","DOMQLPropertyFromContext","registry","isGlobalTransformer","hasDefine","hasContextDefine","$4e214d02be0ddce7$export$2e2bcd8739ae039","isNewNode","attachShadow","mode","alowRefReference","isElement","createAsync","$89442055fcdd5e8d$export$de435b1ae0c975f3","$196ad7400dcaf39e$var$snapshot","snapshotId","$196ad7400dcaf39e$var$UPDATE_DEFAULT_OPTIONS","stackChanges","preventRecursive","currentSnapshot","calleeElement","$196ad7400dcaf39e$var$update","snapshotOnCallee","snapshotHasUpdated","$196ad7400dcaf39e$var$captureSnapshot","inheritState","$196ad7400dcaf39e$var$inheritStateUpdates","ifFails","$196ad7400dcaf39e$var$checkIfOnUpdate","preventPropsUpdate","hasParentProps","hasFunctionInProps","preventInitUpdateListener","initUpdateReturns","overwriteChanges","execChanges","ignore","definedChanges","isForced","__stackChanges","hasOnlyUpdateFalsy","onlyUpdate","isInPreventUpdate","isInPreventDefineUpdate","preventDefineUpdate","canUpdate","childUpdateCall","preventUpdateListener","createdStanpshot","__currentSnapshot","ifPassed","itWasFalse","hasPrevious","hasNext","created","preventUpdateTriggerStateUpdate","shouldForceFunctionState","execState","updatedByStateFunction","keyInParentState","preventInheritedStateUpdate","initStateReturns","newState","$196ad7400dcaf39e$var$createStateUpdate","__stateChildren","$6587d89a5cc3b917$export$626ce79af72fc3d3","$947d5c063e68e91c$var$create","$947d5c063e68e91c$var$cacheOptions","$947d5c063e68e91c$var$checkIfPrimitive","$947d5c063e68e91c$var$applyValueAsText","$947d5c063e68e91c$var$redefineParent","$947d5c063e68e91c$var$redefineElement","$947d5c063e68e91c$var$createKey","$947d5c063e68e91c$var$addRef","__initialProps","$947d5c063e68e91c$var$applyContext","__skipCreate","onlyResolveExtends","$947d5c063e68e91c$var$onlyResolveExtends","$947d5c063e68e91c$var$replaceOptions","$947d5c063e68e91c$var$addCaching","$947d5c063e68e91c$var$createScope","$947d5c063e68e91c$var$createIfConditionFlag","onInit","$947d5c063e68e91c$var$renderElement","$947d5c063e68e91c$var$addElementIntoParentChildren","$947d5c063e68e91c$var$createBasedOnType","elementWrapper","$947d5c063e68e91c$var$checkIfMedia","$947d5c063e68e91c$var$applyMediaProps","parentNodeWrapper","origin","extendTag","childExtendTag","isKeyValidHTMLTag","parentRef","__class","__classNames","__changes","hasRoot","contextHasDefine","optionsHasDefine","display","performance","$35da740d59af89ba$var$performance","now","TREE"],"version":3,"file":"index.16b57466.js.map"}